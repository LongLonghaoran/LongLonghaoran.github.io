<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.4.17 (463232)"/><meta name="created" content="2022-06-15 08:14:43 +0000"/><meta name="source" content="web.clip7"/><meta name="source-application" content="webclipper.evernote"/><meta name="source-url" content="https://levelup.gitconnected.com/using-modules-and-packages-in-go-36a418960556"/><meta name="updated" content="2022-06-15 08:14:43 +0000"/><title>在go中使用包和模块</title></head><body>
  <div style="--en-clipped-content:simplified; --en-clipped-source-url:https://levelup.gitconnected.com/using-modules-and-packages-in-go-36a418960556; --en-clipped-source-title:在go中使用包和模块;">
<div><br/></div><div style="min-height: 12821px; font-size: 16px; display: block; min-width: 100%;"> <div style="background-color:transparent;font:inherit;vertical-align:baseline;"><div style="background-color:transparent;font:inherit;vertical-align:baseline;font-family:&quot;PT Serif&quot;;font-size:16px;line-height:1.5em;color:rgb(31, 9, 9);text-align:left;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:36em;z-index:200;padding-left:2em;padding-right:2em;margin-left:auto;margin-right:auto;position:relative;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;position:relative;margin-left:-25px;margin-right:25px;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;padding-top:0px;padding-bottom:9em;position:relative;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;position:relative;margin-bottom:0px;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:0px;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:0px;"><h1 style="font-family:&quot;PT Serif&quot;;text-align:left;border:0px;font:inherit;vertical-align:baseline;font-size:35px;font-weight:normal;line-height:35px;margin-bottom:20px;padding:0px;margin:0px;">Using Modules and Packages in Go</h1><div style="padding:0px;border:0px;font:inherit;vertical-align:baseline;position:relative;height:1em;line-height:1;text-align:center;margin:0px;padding-top:1.5em;padding-bottom:1.5em;margin-bottom:0px;"><div style="padding:0px;border:0px;font:inherit;vertical-align:baseline;background:-webkit-linear-gradient(0deg, rgb(243, 242, 238) 1%, rgb(31, 9, 9) 50%, rgb(243, 242, 238) 99%);position:absolute;left:-4em;top:50%;z-index:10;width:100%;padding-left:4em;padding-right:4em;height:0.1em;opacity:0.5;margin:0px;margin-bottom:0px;"><span style="font:inherit;position:absolute;left:-4em;top:50%;z-index:10;width:100%;padding-left:4em;padding-right:4em;height:0.1em;margin:0px;opacity:0.5;background:-webkit-linear-gradient(0deg, rgb(243, 242, 238) 1%, rgb(31, 9, 9) 50%, rgb(243, 242, 238) 99%);"/></div></div></div><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;"><h2 style="font-family:&quot;PT Serif&quot;;text-align:left;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;font-size:30px;line-height:35px;margin-top:35px;margin-bottom:15px;">Learn what has changed in Go 1.16</h2></div><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;margin-bottom:1em;margin-top:1em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:0px;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;text-align:center;margin-top:1em;margin-bottom:0px;"><img src="%E5%9C%A8go%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97.resources/0*SsFRDvBH6fAJQ-fe" height="933" width="1400"/></div></div></div><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;">Photo by <a href="https://unsplash.com/@tobystodart?utm_source=medium&amp;utm_medium=referral" style="color:rgb(6, 85, 136);margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;text-decoration:none;">Toby Stodart</a> on <a href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" style="color:rgb(6, 85, 136);margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;text-decoration:none;">Unsplash</a></div></div><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">If you work with Go, you deal with packages and modules all the time. In Go, a <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;"><em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">package</em></strong> is a directory of .go files, and packages form the basic building blocks of a Go program. Using packages, you organize your code into reusable units.</p><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">A <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;"><em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">module</em></strong>, on the other hand, is a collection of Go packages, with dependencies and versioning built-in. Modules were first introduced in Go 1.11, but it wasn’t until Go 1.16 that the <em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">go</em> command builds packages in module-aware mode by default. This has caused quite a bit of confusion for Go developers when using local and third-party packages. This article attempts to clarify the situation and I hope the examples in this article will make it crystal clear.</p><h1 style="font-family:&quot;PT Serif&quot;;text-align:left;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:35px;font-weight:normal;line-height:35px;margin-bottom:20px;">Go Environment Variables</h1><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">Before we dive into the topic of packages and modules, you need to understand Go environment variables. Go uses <em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">environment variables</em> as the mechanism for configuring the paths of libraries and packages. To view the various environment set by Go, use the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go env</strong> command:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">$ <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go env<br/>GO111MODULE="auto"</strong><br/>GOARCH="amd64"<br/>GOBIN=""<br/>GOCACHE="/Users/weimenglee/Library/Caches/go-build"<br/>GOENV="/Users/weimenglee/Library/Application Support/go/env"<br/>GOEXE=""<br/>GOFLAGS=""<br/>GOHOSTARCH="amd64"<br/>GOHOSTOS="darwin"<br/>GOINSECURE=""<br/>GOMODCACHE="/Users/weimenglee/go/pkg/mod"<br/>GONOPROXY=""<br/>GONOSUMDB=""<br/>GOOS="darwin"<br/><strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOPATH="/Users/weimenglee/go"</strong><br/>GOPRIVATE=""<br/>GOPROXY="https://proxy.golang.org,direct"<br/><strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOROOT="/usr/local/go"</strong><br/>GOSUMDB="sum.golang.org"<br/>GOTMPDIR=""<br/>GOTOOLDIR="/usr/local/go/pkg/tool/darwin_amd64"<br/>GOVCS=""<br/>GOVERSION="go1.16.2"<br/>GCCGO="gccgo"<br/>AR="ar"<br/>CC="clang"<br/>CXX="clang++"<br/>CGO_ENABLED="1"<br/>GOMOD=""<br/>CGO_CFLAGS="-g -O2"<br/>CGO_CPPFLAGS=""<br/>CGO_CXXFLAGS="-g -O2"<br/>CGO_FFLAGS="-g -O2"<br/>CGO_LDFLAGS="-g -O2"<br/>PKG_CONFIG="pkg-config"<br/>GOGCCFLAGS="-fPIC -arch x86_64 -m64 -pthread -fno-caret-diagnostics -Qunused-arguments -fmessage-length=0 -fdebug-prefix-map=/var/folders/5z/b_k8j2vs2jg1kcp7yb7rs4vh0000gn/T/go-build3486438553=/tmp/go-build -gno-record-gcc-switches -fno-common"</pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">In particular, three Go environment variables are worth mentioning (shown in <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">bold</strong> above):</p><ul style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:0px 0px 1.5em 1.5em;list-style:none;margin-top:-1em;list-style-type:none;"><li style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;"><strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOROOT</strong> — specifies where your GO SDK is located.</li><li style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;"><strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOPATH</strong> — specifies the root of your workspace (where your packages and dependencies are located).</li><li style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;"><strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GO111MODULE</strong> — specifies how Go imports your packages. It can assume the following three values: “<em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">on</em>”, “<em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">off</em>”, or “<em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">auto</em>”.</li></ul><h1 style="font-family:&quot;PT Serif&quot;;text-align:left;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:35px;font-weight:normal;line-height:35px;margin-bottom:20px;">What is so special about Go 1.11?</h1><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">A little backgrounder is in order. Prior to Go 1.11, all Go projects must be created within the directory specified by the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOPATH</strong> environment variable. This <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOPATH</strong> directory contains source code and binaries that your code depends on.</p><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">Starting from Go 1.11 (hence the environment variable named after it — <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GO111MODULE</strong>), your project can now reside outside of the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOPATH</strong> directory. Go 1.11 introduces the concept of <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">modules</strong>. A module is a directory of packages with a file named <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.mod</strong> at its root. The <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.mod</strong> file defines the module’s import path, as well as its specific dependencies (you will see its use in the examples later in this article). With modules:</p><ul style="padding:0px;border:0px;font:inherit;vertical-align:baseline;margin:0px 0px 1.5em 1.5em;list-style:none;margin-top:-1em;list-style-type:none;"><li style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;">Go projects do not need to reside in GOPATH</li><li style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;">Package management is greatly improved</li></ul><h1 style="font-family:&quot;PT Serif&quot;;text-align:left;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:35px;font-weight:normal;line-height:35px;margin-bottom:20px;">Understanding GO111Module</h1><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">In Go 1.15 and earlier, the default mode for <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GO111MODULE</strong> is set to “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">auto</strong>”. This means that if a project directory (or any parent directory) contains a <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.mod</strong> file, it will be treated as a module. Else it will use the legacy <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOPATH</strong> mode (I will provide examples of this in the following sections).</p><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">In Go 1.16, the module-aware mode is now switched on (<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GO111MODULE=on</strong>) by default. So how does this affect the way you use third party modules or write your own modules? I will illustrate the various scenarios in the following sections.</p><h1 style="font-family:&quot;PT Serif&quot;;text-align:left;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:35px;font-weight:normal;line-height:35px;margin-bottom:20px;">GO111MODULE=on</h1><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">Since this is the default mode in Go 1.16, let’s start with this scenario first. I shall illustrate this using an example. Suppose you have a folder named <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">HelloApp</strong> with a file named <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">main.go</strong>:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">HelloApp<br/>   |___main.go</pre><blockquote style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;quotes:none;margin-bottom:1.5em;font-style:italic;border-left:5px solid;margin-left:2em;padding-left:1em;"><span style="font:inherit;quotes:none;font-style:italic;"/><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:0px;">To switch the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GO111MODULE</strong> to <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">on</strong>, you can use the following commands: <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">export GO111MODULE=“on” </strong>(for macOS) or <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">set GO111MODULE=on</strong> (for Windows)</p><span style="font:inherit;quotes:none;font-style:italic;"/></blockquote><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">The <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">main.go</strong> file has the following statements:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">package mainimport (<br/>    "fmt"<br/>    "github.com/hackebrot/turtle"<br/>)func main() {<br/>    emoji, ok := turtle.Emojis["smiley"]<br/>    if !ok {<br/>        fmt.Println("No emoji found.")<br/>    } else {<br/>        fmt.Println(emoji.Char)<br/>    }<br/>}</pre><h2 style="font-family:&quot;PT Serif&quot;;text-align:left;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;font-size:30px;line-height:35px;margin-top:35px;margin-bottom:15px;">Using third-party packages</h2><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">In this <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">main</strong> package, I am using a third-party package — <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">github.com/hackebrot/turtle</strong>. So I need to install it first:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">$ <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go install github.com/hackebrot/turtle@latest</strong></pre><blockquote style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;quotes:none;margin-bottom:1.5em;font-style:italic;border-left:5px solid;margin-left:2em;padding-left:1em;"><span style="font:inherit;quotes:none;font-style:italic;"/><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:0px;">Notice that you need to specify the version of the package to install. If you want to use the latest version, use <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">@latest.</strong></p><span style="font:inherit;quotes:none;font-style:italic;"/></blockquote><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">Once the package is installed, you can find it in the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;"><em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">GOPATH</em>/pkg/mod</strong> directory. For example, my <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOPATH</strong> is “<em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">/Users/weimenglee/go</em>”, so the module will be installed in the “<em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">/Users/weimenglee/go/pkg/mod</em>” directory:</p><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;margin-bottom:1em;margin-top:1em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:0px;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;text-align:center;margin-top:1em;margin-bottom:0px;"><img src="%E5%9C%A8go%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97.resources/1*PMDUVsYFp6Xe4yrP-YMc7g.png" height="193" width="966"/></div></div></div><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;">When GO111MODULE=on, third-party packages will be stored in the GOPATH/pkg/mod/ directory</div></div><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">In Go 1.16, if your program uses a third-party package, you need to create a <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.mod</strong> file first before you can run it. So the next step would be to use the “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go mod init</strong>” command:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">$ <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go mod init myapp<br/></strong>go: creating new go.mod: module myapp<br/>go: to add module requirements and sums:<br/>go mod tidy</pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">In the above example, I used the <em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">module path</em> name of <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">myapp</strong> for my program. This name would be used as the import name of your module (when another program is trying to import your module).</p><blockquote style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;quotes:none;margin-bottom:1.5em;font-style:italic;border-left:5px solid;margin-left:2em;padding-left:1em;"><span style="font:inherit;quotes:none;font-style:italic;"/><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:0px;">Note that if you intend to publish this package (or module), this must be a path from which your module can be downloaded by Go tools. For example, if you want to make this package available on Github.com, then you should use a name like: <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">github.com/yourname/myapp</strong>.</p><span style="font:inherit;quotes:none;font-style:italic;"/></blockquote><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">Once this step is done, you should now have a <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.mod</strong> file in your current directory:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">HelloApp<br/>   |___main.go<br/>   |___<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.mod</strong></pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">It should have the following content:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">module myappgo 1.16</pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">Next, you need to run the “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go mod tidy</strong>” command:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">$ <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go mod tidy<br/></strong>go: finding module for package github.com/hackebrot/turtle<br/>go: found github.com/hackebrot/turtle in github.com/hackebrot/turtle v0.1.0<br/>go: finding module for package github.com/google/go-cmp/cmp<br/>go: finding module for package github.com/hackebrot/go-repr/repr<br/>go: found github.com/google/go-cmp/cmp in github.com/google/go-cmp v0.5.5<br/>go: found github.com/hackebrot/go-repr/repr in github.com/hackebrot/go-repr v0.1.0</pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">This command will examine the third-party packages you are using in your program and add them as dependencies into the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.mod</strong> file. After running the above command, your <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.mod</strong> file should now look like this:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">module myappgo 1.16<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">require (<br/>    github.com/google/go-cmp v0.5.5 // indirect<br/>    github.com/hackebrot/go-repr v0.1.0 // indirect<br/>    github.com/hackebrot/turtle v0.1.0<br/>)</strong></pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">You should also have another file named <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.sum</strong>:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">HelloApp<br/>   |___main.go<br/>   |___go.mod<br/><strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">   |___go.sum</strong></pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">The content of <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.sum</strong> looks like this:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">github.com/google/go-cmp v0.5.5 h1:Khx7svrCpmxxtHBq5j2mp/xVjsi8hQMfNLvJFAlrGgU=github.com/google/go-cmp v0.5.5/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=github.com/hackebrot/go-repr v0.1.0 h1:28FyOiVx+rHPqEj/nqUbxqs2ocz2hfM9gP01kAeJJoA=github.com/hackebrot/go-repr v0.1.0/go.mod h1:5nbEBC4Y57U1dVAlQGF4lQdqAJZAwu7cszx8HtEq8XM=github.com/hackebrot/turtle v0.1.0 h1:cmS72nZuooIARtgix6IRPvmw8r4u8olEZW02Q3DB8YQ=github.com/hackebrot/turtle v0.1.0/go.mod h1:vDjX4rgnTSlvROhwGbE2GiB43F/l/8V5TXoRJL2cYTs=golang.org/x/xerrors v0.0.0-20191204190536-9bdfabe68543/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=</pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">The <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.sum</strong> file contains the expected cryptographic checksums of the content of specific module versions that you use in your program.</p><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">You can now finally run your program:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">$ <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go run main.go<br/></strong></pre><h2 style="font-family:&quot;PT Serif&quot;;text-align:left;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;font-size:30px;line-height:35px;margin-top:35px;margin-bottom:15px;">Using local packages</h2><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">How about using packages that you define locally? Suppose now you have a folder named <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">geometry</strong> within the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">HelloApp</strong> folder. Within the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">geometry</strong> folder you have another file named <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">geometry.go</strong>:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">HelloApp<br/>   |___main.go<br/>   |___go.mod<br/>   |___go.sum<br/><strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">   |___geometry<br/>       |___geometry.go</strong></pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">The content of <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">geometry.go</strong> is as follows:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">package geometry<br/>import (<br/>    "math"<br/>)type Point struct {<br/>    X float64<br/>    Y float64<br/>}func (p Point) Length() float64 {<br/>    return math.Sqrt(math.Pow(p.X, 2.0) + math.Pow(p.Y, 2.0))<br/>}</pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">To make use of the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">geometry</strong> package in the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">main </strong>package file, you can now import it via “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">myapp/geometry</strong>” (remember that we have earlier used the module import path name of “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">myapp</strong>”?):</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">package mainimport (<br/>    "fmt"<br/>    <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">"myapp/geometry"<br/></strong>    "github.com/hackebrot/turtle"<br/>)func main() {<br/>    emoji, ok := turtle.Emojis["smiley"]<br/>    if !ok {<br/>        fmt.Println("No emoji found.")<br/>    } else {<br/>        fmt.Println(emoji.Char)<br/>    }<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">    pt1 := geometry.Point{X: 2, Y: 3}<br/>    fmt.Println(pt1)<br/>    fmt.Println(pt1.Length())<br/></strong>}</pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">You can now simply run the program using the “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go run main.go</strong>” command:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">$ <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go run main.go<br/></strong><br/><strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">{2 3}<br/>3.605551275463989</strong></pre><h1 style="font-family:&quot;PT Serif&quot;;text-align:left;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:35px;font-weight:normal;line-height:35px;margin-bottom:20px;">GO111MODULE=off</h1><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">The next scenario we shall discuss now is when <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GO111MODULE</strong> is turned <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">off</strong>. To turn off module-mode, use the following command (for macOS):</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">$ <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">export GO111MODULE="off"</strong></pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">For Windows users, use the following command:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;"><strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">set GO111MODULE=off</strong></pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">As usual, let’s start off with the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">HelloApp</strong> folder containing the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">main.go</strong> file:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">HelloApp<br/>   |___main.go</pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">The content of <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">main.go</strong> is as follows:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">package mainimport (<br/>    "fmt"<br/>    "github.com/hackebrot/turtle"<br/>)func main() {<br/>    emoji, ok := turtle.Emojis["smiley"]<br/>    if !ok {<br/>        fmt.Println("No emoji found.")<br/>    } else {<br/>        fmt.Println(emoji.Char)<br/>    }<br/>}</pre><h2 style="font-family:&quot;PT Serif&quot;;text-align:left;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;font-size:30px;line-height:35px;margin-top:35px;margin-bottom:15px;">Using third-party packages</h2><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">When module-mode is turned off, you cannot use the “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go install</strong>” command; you can only use the “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go get</strong>” command:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">$ <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go get github.com/hackebrot/turtle</strong></pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">Once the package is downloaded, you can now find it in the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;"><em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">GOPATH</em>/src</strong> directory. For example, my <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOPATH</strong> is “<em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">/Users/weimenglee/go</em>”, so the package will be installed in the “<em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">/Users/weimenglee/go/src</em>” directory:</p><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;margin-bottom:1em;margin-top:1em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:0px;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;text-align:center;margin-top:1em;margin-bottom:0px;"><img src="%E5%9C%A8go%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97.resources/1*dBPrI4vgK8WsfLaGxn68zA.png" height="84" width="800"/></div></div></div><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;">When GO111MODULE=off, third-party packages will be stored in the GOPATH/src/ directory</div></div><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">To run the program, use the “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go run main.go</strong>” command:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">$ <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go run main.go<br/></strong></pre><h2 style="font-family:&quot;PT Serif&quot;;text-align:left;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;font-size:30px;line-height:35px;margin-top:35px;margin-bottom:15px;">Using local packages</h2><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">When module-mode is turned off, all local packages that you create must be stored in the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOROOT</strong> or <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;"><em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">GOPATH</em>/src</strong> directories. Using the same <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">geometry</strong> package that I have used earlier, you now need to create a folder named <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">geometry</strong> in the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOROOT</strong> or <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;"><em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">GOPATH</em>/src</strong> folder and add a file named <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">geometry.go</strong> to it:</p><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;margin-bottom:1em;margin-top:1em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:0px;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;text-align:center;margin-top:1em;margin-bottom:0px;"><img src="%E5%9C%A8go%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97.resources/1*WeAX4aMQPmLToqeiq6jf3w.png" height="132" width="720"/></div></div></div><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;">When GO111MODULE=off, all local packages must be stored in the GOROOT or GOPATH/src/ directories</div></div><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">To use the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">geometry</strong> package, you now need to import the “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">geometry</strong>” package in your <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">main.go</strong> file (the import name of the package is based on its folder structure in the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;"><em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">GOPATH</em>/src/</strong> folder):</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">package mainimport (<br/>    "fmt"<br/> <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">   "geometry"<br/></strong>    "github.com/hackebrot/turtle"<br/>)func main() {<br/>    emoji, ok := turtle.Emojis["smiley"]<br/>    if !ok {<br/>        fmt.Println("No emoji found.")<br/>    } else {<br/>        fmt.Println(emoji.Char)<br/>    }    <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">pt1 := geometry.Point{X: 2, Y: 3}<br/>    fmt.Println(pt1)<br/>    fmt.Println(pt1.Length())<br/></strong>}</pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">You can now run the program using “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go run main.go</strong>”:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">$ <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go run main.go</strong><br/><br/>{2 3}<br/>3.605551275463989</pre><h1 style="font-family:&quot;PT Serif&quot;;text-align:left;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:35px;font-weight:normal;line-height:35px;margin-bottom:20px;">GO111MODULE=auto</h1><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">Finally, let’s discuss what happens when you set <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GO111MODULE</strong> to <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">auto</strong>. When you set the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GO111MODULE=auto</strong>, how your application looks for packages depends on whether you have a <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.mod</strong> file in your project folder.</p><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">If there is <em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">no</em> <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.mod</strong> file in your current project folder:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">HelloApp<br/>   |___main.go </pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">And your <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">main.go</strong> contains the following:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">package main<br/>import (<br/>    "fmt"<br/>    "github.com/hackebrot/turtle"<br/>)func main() {<br/>    emoji, ok := turtle.Emojis["smiley"]<br/>    if !ok {<br/>        fmt.Println("No emoji found.")<br/>    } else {<br/>        fmt.Println(emoji.Char) <br/>    }<br/>}</pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">You need to manually download the third-party packages using the “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go get</strong>” command, such as:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">$ <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go get github.com/hackebrot/turtle</strong></pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">The above command will download the third-party package into the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;"><em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">GOPATH</em>/src</strong> directory. And you can now run your program using “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go run main.go</strong>”.</p><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">If there <em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">is</em> a <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.mod</strong> file in the current directory:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">HelloApp<br/>   |___main.go<br/><strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">   |___go.mod</strong></pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">And the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.mod</strong> file contains the dependencies:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">module myappgo 1.16require (<br/>    github.com/google/go-cmp v0.5.5 // indirect <br/>    github.com/hackebrot/go-repr v0.1.0 // indirect<br/>    github.com/hackebrot/turtle v0.1.0<br/>)</pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">When you try to run the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">main.go</strong> file using “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go run main.go</strong>”, Go will automatically install the required packages into the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;"><em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">GOPATH</em>/pkg/mod</strong> directory:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">$ <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go run main.go<br/></strong></pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">So there is now no need for you to use the “<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go install</strong>” command to download the third-party package. The third party package will now be saved into the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;"><em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">GOPATH</em>/pkg/mod</strong> directory.</p><h2 style="font-family:&quot;PT Serif&quot;;text-align:left;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;font-size:30px;line-height:35px;margin-top:35px;margin-bottom:15px;">Using local packages</h2><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">If there is <em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">no</em> <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.mod</strong> file in your project directory, your local package must be located within the current directory:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">HelloApp<br/>   |___main.go<br/><strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">   |___geometry<br/>       |___geometry.go</strong></pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">The following <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">main.go</strong> file shows how the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">geometry</strong> package is imported and used:</p><pre style="background-color:rgb(243, 242, 238);font-family:Inconsolata;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;width:auto;font-size:0.875em;line-height:1.71429em;">package mainimport (<br/>    "fmt"<br/>    <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">"geometry"<br/></strong>    "github.com/hackebrot/turtle"<br/>)func main() {<br/>    emoji, ok := turtle.Emojis["smiley"]<br/>    if !ok {<br/>        fmt.Println("No emoji found.")<br/>    } else {<br/>        fmt.Println(emoji.Char)<br/>    }    <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">pt1 := geometry.Point{X: 2, Y: 3}<br/>    fmt.Println(pt1)<br/>    fmt.Println(pt1.Length())<br/></strong>}</pre><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">If there <em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">is</em> a <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">go.mod</strong> file in your project directory, your local package(s) must all be stored in either your <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOROOT</strong> or <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOPATH/src </strong>directory. In my case, the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOROOT</strong> is pointing to the “<em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">/usr/local/go/src</em><strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">”</strong> folder and <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">GOPATH</strong> is pointing to “<em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">/Users/weimenglee/go/</em>”<strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">. </strong>In the following example, I put the <strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">geometry</strong> folder in the “<em style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-style:italic;">/usr/local/go/src</em><strong style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-weight:bold;">”</strong> folder.</p><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;margin-bottom:1em;margin-top:1em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:0px;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;text-align:center;margin-top:1em;margin-bottom:0px;"><img src="%E5%9C%A8go%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97.resources/1*dW7iNdnA1i1wQ1zc7sXdBQ.png" height="421" width="868"/></div></div></div><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;">Putting the geometry folder in the GOROOT directory</div></div><h1 style="font-family:&quot;PT Serif&quot;;text-align:left;margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;font-size:35px;font-weight:normal;line-height:35px;margin-bottom:20px;">Visual Studio Code</h1><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">If you write your Go program using Visual Studio Code, chances are you use the <a href="https://marketplace.visualstudio.com/items?itemName=golang.go" style="color:rgb(6, 85, 136);margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;text-decoration:none;">VS Code Go extension</a>.</p><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;margin-bottom:1em;margin-top:1em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:0px;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;text-align:center;margin-top:1em;margin-bottom:0px;"><img src="%E5%9C%A8go%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97.resources/1*3jy7Wpqcp_TwESx-vvCtJA.png" height="612" width="1112"/></div></div></div><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;">Using the VS Code Go extension</div></div><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">When switching through the various module-aware modes, it is easy to cause confusion to the extension when it attempts to import your modules. If you find the extension flagging errors in your import statements but your program can run anyway, you should Disable your VS Code Go extension, reload it, and then enable it again.</p><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;">Want to learn Go? Check out my latest book on Go programming at <a href="https://www.amazon.com/Programming-Language-Dummies-Computer-Tech/dp/1119786193/ref=sr_1_3?dchild=1&amp;keywords=wei-meng+lee&amp;qid=1619942572&amp;sr=8-3" style="color:rgb(6, 85, 136);margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;text-decoration:none;">Amazon.com</a>.</p><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;margin-bottom:1em;margin-top:1em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;"><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;text-align:center;margin-top:1em;margin-bottom:0px;"><img src="%E5%9C%A8go%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97.resources/1*awVDwjjnx_-ZLrKN5_jz4w.jpeg" height="499" width="399"/></div></div><div style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;">Go Programming Language For Dummies 1st Edition (Wei-Meng Lee)</div></div></div></div></div></div></div></div></div></div></div></div>
</div>
</body></html>