
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>1. fio - Flexible I/O tester rev. 3.36 &#8212; fio 3.36-8-g48c70-dirty documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to FIO’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="fio-flexible-i-o-tester-rev-version">
<h1><span class="section-number">1. </span>fio - Flexible I/O tester rev. 3.36<a class="headerlink" href="#fio-flexible-i-o-tester-rev-version" title="Permalink to this heading">¶</a></h1>
<section id="overview-and-history">
<h2><span class="section-number">1.1. </span>Overview and history<a class="headerlink" href="#overview-and-history" title="Permalink to this heading">¶</a></h2>
<p>Fio was originally written to save me the hassle of writing special test case
programs when I wanted to test a specific workload, either for performance
reasons or to find/reproduce a bug. The process of writing such a test app can
be tiresome, especially if you have to do it often.  Hence I needed a tool that
would be able to simulate a given I/O workload without resorting to writing a
tailored test case again and again.</p>
<p>A test work load is difficult to define, though. There can be any number of
processes or threads involved, and they can each be using their own way of
generating I/O. You could have someone dirtying large amounts of memory in a
memory mapped file, or maybe several threads issuing reads using asynchronous
I/O. fio needed to be flexible enough to simulate both of these cases, and many
more.</p>
<p>Fio spawns a number of threads or processes doing a particular type of I/O
action as specified by the user. fio takes a number of global parameters, each
inherited by the thread unless otherwise parameters given to them overriding
that setting is given.  The typical use of fio is to write a job file matching
the I/O load one wants to simulate.</p>
</section>
<section id="source">
<h2><span class="section-number">1.2. </span>Source<a class="headerlink" href="#source" title="Permalink to this heading">¶</a></h2>
<p>Fio resides in a git repo, the canonical place is:</p>
<blockquote>
<div><p><a class="reference external" href="https://git.kernel.dk/cgit/fio/">https://git.kernel.dk/cgit/fio/</a></p>
</div></blockquote>
<p>Snapshots are frequently generated and <code class="file docutils literal notranslate"><span class="pre">fio-git-*.tar.gz</span></code> include the git
meta data as well. Other tarballs are archives of official fio releases.
Snapshots can download from:</p>
<blockquote>
<div><p><a class="reference external" href="https://brick.kernel.dk/snaps/">https://brick.kernel.dk/snaps/</a></p>
</div></blockquote>
<p>There are also two official mirrors. Both of these are automatically synced with
the main repository, when changes are pushed. If the main repo is down for some
reason, either one of these is safe to use as a backup:</p>
<blockquote>
<div><p><a class="reference external" href="https://git.kernel.org/pub/scm/linux/kernel/git/axboe/fio.git">https://git.kernel.org/pub/scm/linux/kernel/git/axboe/fio.git</a></p>
<p><a class="reference external" href="https://github.com/axboe/fio.git">https://github.com/axboe/fio.git</a></p>
</div></blockquote>
</section>
<section id="mailing-list">
<h2><span class="section-number">1.3. </span>Mailing list<a class="headerlink" href="#mailing-list" title="Permalink to this heading">¶</a></h2>
<p>The fio project mailing list is meant for anything related to fio including
general discussion, bug reporting, questions, and development. For bug reporting,
see REPORTING-BUGS.</p>
<p>An automated mail detailing recent commits is automatically sent to the list at
most daily. The list address is <a class="reference external" href="mailto:fio&#37;&#52;&#48;vger&#46;kernel&#46;org">fio<span>&#64;</span>vger<span>&#46;</span>kernel<span>&#46;</span>org</a>, subscribe by sending an
email to <a class="reference external" href="mailto:majordomo&#37;&#52;&#48;vger&#46;kernel&#46;org">majordomo<span>&#64;</span>vger<span>&#46;</span>kernel<span>&#46;</span>org</a> with</p>
<blockquote>
<div><p>subscribe fio</p>
</div></blockquote>
<p>in the body of the email. Archives can be found here:</p>
<blockquote>
<div><p><a class="reference external" href="https://www.spinics.net/lists/fio/">https://www.spinics.net/lists/fio/</a></p>
</div></blockquote>
<p>or here:</p>
<blockquote>
<div><p><a class="reference external" href="https://lore.kernel.org/fio/">https://lore.kernel.org/fio/</a></p>
</div></blockquote>
<p>and archives for the old list can be found here:</p>
<blockquote>
<div><p><a class="reference external" href="http://maillist.kernel.dk/fio-devel/">http://maillist.kernel.dk/fio-devel/</a></p>
</div></blockquote>
</section>
<section id="author">
<h2><span class="section-number">1.4. </span>Author<a class="headerlink" href="#author" title="Permalink to this heading">¶</a></h2>
<p>Fio was written by Jens Axboe &lt;<a class="reference external" href="mailto:axboe&#37;&#52;&#48;kernel&#46;dk">axboe<span>&#64;</span>kernel<span>&#46;</span>dk</a>&gt; to enable flexible testing of
the Linux I/O subsystem and schedulers. He got tired of writing specific test
applications to simulate a given workload, and found that the existing I/O
benchmark/test tools out there weren’t flexible enough to do what he wanted.</p>
<p>Jens Axboe &lt;<a class="reference external" href="mailto:axboe&#37;&#52;&#48;kernel&#46;dk">axboe<span>&#64;</span>kernel<span>&#46;</span>dk</a>&gt; 20060905</p>
</section>
<section id="maintainers">
<h2><span class="section-number">1.5. </span>Maintainers<a class="headerlink" href="#maintainers" title="Permalink to this heading">¶</a></h2>
<p>Fio is maintained by Jens Axboe &lt;<a class="reference external" href="mailto:axboe&#37;&#52;&#48;kernel&#46;dk">axboe<span>&#64;</span>kernel<span>&#46;</span>dk</a> and
Vincent Fu &lt;<a class="reference external" href="mailto:vincentfu&#37;&#52;&#48;gmail&#46;com">vincentfu<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt; - however, for reporting bugs please use
the fio reflector or the GitHub page rather than email any of them
directly. By using the public resources, others will be able to learn from
the responses too. Chances are also good that other members will be able to
help with your inquiry as well.</p>
</section>
<section id="binary-packages">
<h2><span class="section-number">1.6. </span>Binary packages<a class="headerlink" href="#binary-packages" title="Permalink to this heading">¶</a></h2>
<dl class="simple">
<dt>Debian:</dt><dd><p>Starting with Debian “Squeeze”, fio packages are part of the official
Debian repository. <a class="reference external" href="https://packages.debian.org/search?keywords=fio">https://packages.debian.org/search?keywords=fio</a> .</p>
</dd>
<dt>Ubuntu:</dt><dd><p>Starting with Ubuntu 10.04 LTS (aka “Lucid Lynx”), fio packages are part
of the Ubuntu “universe” repository.
<a class="reference external" href="https://packages.ubuntu.com/search?keywords=fio">https://packages.ubuntu.com/search?keywords=fio</a> .</p>
</dd>
<dt>Red Hat, Fedora, CentOS &amp; Co:</dt><dd><p>Starting with Fedora 9/Extra Packages for Enterprise Linux 4, fio
packages are part of the Fedora/EPEL repositories.
<a class="reference external" href="https://packages.fedoraproject.org/pkgs/fio/">https://packages.fedoraproject.org/pkgs/fio/</a> .</p>
</dd>
<dt>Mandriva:</dt><dd><p>Mandriva has integrated fio into their package repository, so installing
on that distro should be as easy as typing <code class="docutils literal notranslate"><span class="pre">urpmi</span> <span class="pre">fio</span></code>.</p>
</dd>
<dt>Arch Linux:</dt><dd><p>An Arch Linux package is provided under the Community sub-repository:
<a class="reference external" href="https://www.archlinux.org/packages/?sort=&amp;q=fio">https://www.archlinux.org/packages/?sort=&amp;q=fio</a></p>
</dd>
<dt>Solaris:</dt><dd><p>Packages for Solaris are available from OpenCSW. Install their pkgutil
tool (<a class="reference external" href="http://www.opencsw.org/get-it/pkgutil/">http://www.opencsw.org/get-it/pkgutil/</a>) and then install fio via
<code class="docutils literal notranslate"><span class="pre">pkgutil</span> <span class="pre">-i</span> <span class="pre">fio</span></code>.</p>
</dd>
<dt>Windows:</dt><dd><p>Beginning with fio 3.31 Windows installers for tagged releases are
available on GitHub at <a class="reference external" href="https://github.com/axboe/fio/releases">https://github.com/axboe/fio/releases</a>. The
latest installers for Windows can also be obtained as GitHub Actions
artifacts by selecting a build from
<a class="reference external" href="https://github.com/axboe/fio/actions">https://github.com/axboe/fio/actions</a>. These require logging in to a
GitHub account.</p>
</dd>
<dt>BSDs:</dt><dd><p>Packages for BSDs may be available from their binary package repositories.
Look for a package “fio” using their binary package managers.</p>
</dd>
</dl>
</section>
<section id="building">
<h2><span class="section-number">1.7. </span>Building<a class="headerlink" href="#building" title="Permalink to this heading">¶</a></h2>
<p>Just type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./configure
$ make
$ make install
</pre></div>
</div>
<p>Note that GNU make is required. On BSDs it’s available from devel/gmake within
ports directory; on Solaris it’s in the SUNWgmake package.  On platforms where
GNU make isn’t the default, type <code class="docutils literal notranslate"><span class="pre">gmake</span></code> instead of <code class="docutils literal notranslate"><span class="pre">make</span></code>.</p>
<p>Configure will print the enabled options. Note that on Linux based platforms,
the libaio development packages must be installed to use the libaio
engine. Depending on the distro, it is usually called libaio-devel or libaio-dev.</p>
<p>For gfio, gtk 2.18 (or newer), associated glib threads, and cairo are required
to be installed.  gfio isn’t built automatically and can be enabled with a
<code class="docutils literal notranslate"><span class="pre">--enable-gfio</span></code> option to configure.</p>
<p>To build fio with a cross-compiler:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make clean
$ make CROSS_COMPILE=/path/to/toolchain/prefix
</pre></div>
</div>
<p>Configure will attempt to determine the target platform automatically.</p>
<p>It’s possible to build fio for ESX as well, use the <code class="docutils literal notranslate"><span class="pre">--esx</span></code> switch to
configure.</p>
<section id="windows">
<h3><span class="section-number">1.7.1. </span>Windows<a class="headerlink" href="#windows" title="Permalink to this heading">¶</a></h3>
<p>The minimum versions of Windows for building/running fio are Windows 7/Windows
Server 2008 R2. On Windows, Cygwin (<a class="reference external" href="https://www.cygwin.com/">https://www.cygwin.com/</a>) is required in
order to build fio. To create an MSI installer package install WiX from
<a class="reference external" href="https://wixtoolset.org">https://wixtoolset.org</a> and run <code class="file docutils literal notranslate"><span class="pre">dobuild.cmd</span></code> from the <code class="file docutils literal notranslate"><span class="pre">os/windows</span></code>
directory.</p>
<p>How to compile fio on 64-bit Windows:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Install Cygwin (<a class="reference external" href="https://www.cygwin.com/">https://www.cygwin.com/</a>). Install <strong>make</strong> and all
packages starting with <strong>mingw64-x86_64</strong>. Ensure
<strong>mingw64-x86_64-zlib</strong> are installed if you wish
to enable fio’s log compression functionality.</p></li>
<li><p>Open the Cygwin Terminal.</p></li>
<li><p>Go to the fio directory (source files).</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span> <span class="pre">&amp;&amp;</span> <span class="pre">make</span> <span class="pre">-j</span></code>.</p></li>
</ol>
</div></blockquote>
<p>To build fio for 32-bit Windows, ensure the -i686 versions of the previously
mentioned -x86_64 packages are installed and run <code class="docutils literal notranslate"><span class="pre">./configure</span>
<span class="pre">--build-32bit-win</span></code> before <code class="docutils literal notranslate"><span class="pre">make</span></code>.</p>
<p>It’s recommended that once built or installed, fio be run in a Command Prompt or
other ‘native’ console such as console2, since there are known to be display and
signal issues when running it under a Cygwin shell (see
<a class="reference external" href="https://github.com/mintty/mintty/issues/56">https://github.com/mintty/mintty/issues/56</a> and
<a class="reference external" href="https://github.com/mintty/mintty/wiki/Tips#inputoutput-interaction-with-alien-programs">https://github.com/mintty/mintty/wiki/Tips#inputoutput-interaction-with-alien-programs</a>
for details).</p>
</section>
<section id="documentation">
<h3><span class="section-number">1.7.2. </span>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading">¶</a></h3>
<p>Fio uses <a class="reference external" href="https://www.sphinx-doc.org">Sphinx</a> to generate documentation from the <a class="reference external" href="https://www.sphinx-doc.org/rest.html">reStructuredText</a> files.
To build HTML formatted documentation run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">-C</span> <span class="pre">doc</span> <span class="pre">html</span></code> and direct your
browser to <code class="file docutils literal notranslate"><span class="pre">./doc/output/html/index.html</span></code>.  To build manual page run
<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">-C</span> <span class="pre">doc</span> <span class="pre">man</span></code> and then <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">doc/output/man/fio.1</span></code>.  To see what other
output formats are supported run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">-C</span> <span class="pre">doc</span> <span class="pre">help</span></code>.</p>
</section>
</section>
<section id="platforms">
<h2><span class="section-number">1.8. </span>Platforms<a class="headerlink" href="#platforms" title="Permalink to this heading">¶</a></h2>
<p>Fio works on (at least) Linux, Solaris, AIX, HP-UX, OSX, NetBSD, OpenBSD,
Windows, FreeBSD, and DragonFly. Some features and/or options may only be
available on some of the platforms, typically because those features only apply
to that platform (like the solarisaio engine, or the splice engine on Linux).</p>
<p>Some features are not available on FreeBSD/Solaris even if they could be
implemented, I’d be happy to take patches for that. An example of that is disk
utility statistics and (I think) huge page support, support for that does exist
in FreeBSD/Solaris.</p>
<p>Fio uses pthread mutexes for signaling and locking and some platforms do not
support process shared pthread mutexes. As a result, on such platforms only
threads are supported. This could be fixed with sysv ipc locking or other
locking alternatives.</p>
<p>Other *BSD platforms are untested, but fio should work there almost out of the
box. Since I don’t do test runs or even compiles on those platforms, your
mileage may vary. Sending me patches for other platforms is greatly
appreciated. There’s a lot of value in having the same test/benchmark tool
available on all platforms.</p>
<p>Note that POSIX aio is not enabled by default on AIX. Messages like these:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Symbol</span> <span class="n">resolution</span> <span class="n">failed</span> <span class="k">for</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libc</span><span class="o">.</span><span class="n">a</span><span class="p">(</span><span class="n">posix_aio</span><span class="o">.</span><span class="n">o</span><span class="p">)</span> <span class="n">because</span><span class="p">:</span>
    <span class="n">Symbol</span> <span class="n">_posix_kaio_rdwr</span> <span class="p">(</span><span class="n">number</span> <span class="mi">2</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">exported</span> <span class="kn">from</span> <span class="nn">dependent</span> <span class="n">module</span> <span class="o">/</span><span class="n">unix</span><span class="o">.</span>
</pre></div>
</div>
<p>indicate one needs to enable POSIX aio. Run the following commands as root:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># lsdev -C -l posix_aio0</span>
    <span class="n">posix_aio0</span> <span class="n">Defined</span>  <span class="n">Posix</span> <span class="n">Asynchronous</span> <span class="n">I</span><span class="o">/</span><span class="n">O</span>
<span class="c1"># cfgmgr -l posix_aio0</span>
<span class="c1"># lsdev -C -l posix_aio0</span>
    <span class="n">posix_aio0</span> <span class="n">Available</span>  <span class="n">Posix</span> <span class="n">Asynchronous</span> <span class="n">I</span><span class="o">/</span><span class="n">O</span>
</pre></div>
</div>
<p>POSIX aio should work now. To make the change permanent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># chdev -l posix_aio0 -P -a autoconfig=&#39;available&#39;</span>
    <span class="n">posix_aio0</span> <span class="n">changed</span>
</pre></div>
</div>
</section>
<section id="running-fio">
<h2><span class="section-number">1.9. </span>Running fio<a class="headerlink" href="#running-fio" title="Permalink to this heading">¶</a></h2>
<p>Running fio is normally the easiest part - you just give it the job file
(or job files) as parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ fio [options] [jobfile] ...
</pre></div>
</div>
<p>and it will start doing what the <em>jobfile</em> tells it to do. You can give more
than one job file on the command line, fio will serialize the running of those
files. Internally that is the same as using the <a class="reference internal" href="#cmdoption-arg-stonewall"><code class="xref std std-option docutils literal notranslate"><span class="pre">stonewall</span></code></a> parameter
described in the parameter section.</p>
<p>If the job file contains only one job, you may as well just give the parameters
on the command line. The command line parameters are identical to the job
parameters, with a few extra that control global parameters.  For example, for
the job file parameter <a class="reference internal" href="#cmdoption-arg-iodepth"><code class="xref std std-option docutils literal notranslate"><span class="pre">iodepth=2</span></code></a>, the mirror command line
option would be <a class="reference internal" href="#cmdoption-arg-iodepth"><code class="xref std std-option docutils literal notranslate"><span class="pre">--iodepth</span> <span class="pre">2</span></code></a> or <a class="reference internal" href="#cmdoption-arg-iodepth"><code class="xref std std-option docutils literal notranslate"><span class="pre">--iodepth=2</span></code></a>. You can also use the command line for giving more than one job
entry. For each <a class="reference internal" href="#cmdoption-arg-name"><code class="xref std std-option docutils literal notranslate"><span class="pre">--name</span></code></a> option that fio sees, it will start a
new job with that name.  Command line entries following a
<a class="reference internal" href="#cmdoption-arg-name"><code class="xref std std-option docutils literal notranslate"><span class="pre">--name</span></code></a> entry will apply to that job, until there are no more
entries or a new <a class="reference internal" href="#cmdoption-arg-name"><code class="xref std std-option docutils literal notranslate"><span class="pre">--name</span></code></a> entry is seen. This is similar to the
job file options, where each option applies to the current job until a new []
job entry is seen.</p>
<p>fio does not need to run as root, except if the files or devices specified in
the job section requires that. Some other options may also be restricted, such
as memory locking, I/O scheduler switching, and decreasing the nice value.</p>
<p>If <em>jobfile</em> is specified as <code class="docutils literal notranslate"><span class="pre">-</span></code>, the job file will be read from standard
input.</p>
</section>
<section id="how-fio-works">
<h2><span class="section-number">1.10. </span>How fio works<a class="headerlink" href="#how-fio-works" title="Permalink to this heading">¶</a></h2>
<p>The first step in getting fio to simulate a desired I/O workload, is writing a
job file describing that specific setup. A job file may contain any number of
threads and/or files – the typical contents of the job file is a <em>global</em>
section defining shared parameters, and one or more job sections describing the
jobs involved. When run, fio parses this file and sets everything up as
described. If we break down a job from top to bottom, it contains the following
basic parameters:</p>
<p><a class="reference internal" href="#i-o-type">I/O type</a></p>
<blockquote>
<div><p>Defines the I/O pattern issued to the file(s).  We may only be reading
sequentially from this file(s), or we may be writing randomly. Or even
mixing reads and writes, sequentially or randomly.
Should we be doing buffered I/O, or direct/raw I/O?</p>
</div></blockquote>
<p><a class="reference internal" href="#block-size">Block size</a></p>
<blockquote>
<div><p>In how large chunks are we issuing I/O? This may be a single value,
or it may describe a range of block sizes.</p>
</div></blockquote>
<p><a class="reference internal" href="#i-o-size">I/O size</a></p>
<blockquote>
<div><p>How much data are we going to be reading/writing.</p>
</div></blockquote>
<p><a class="reference internal" href="#i-o-engine">I/O engine</a></p>
<blockquote>
<div><p>How do we issue I/O? We could be memory mapping the file, we could be
using regular read/write, we could be using splice, async I/O, or even
SG (SCSI generic sg).</p>
</div></blockquote>
<p><a class="reference internal" href="#i-o-depth">I/O depth</a></p>
<blockquote>
<div><p>If the I/O engine is async, how large a queuing depth do we want to
maintain?</p>
</div></blockquote>
<p><a class="reference internal" href="#target-file-device">Target file/device</a></p>
<blockquote>
<div><p>How many files are we spreading the workload over.</p>
</div></blockquote>
<p><a class="reference internal" href="#threads-processes-and-job-synchronization">Threads, processes and job synchronization</a></p>
<blockquote>
<div><p>How many threads or processes should we spread this workload over.</p>
</div></blockquote>
<p>The above are the basic parameters defined for a workload, in addition there’s a
multitude of parameters that modify other aspects of how this job behaves.</p>
</section>
<section id="command-line-options">
<h2><span class="section-number">1.11. </span>Command line options<a class="headerlink" href="#command-line-options" title="Permalink to this heading">¶</a></h2>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-debug">
<span class="sig-name descname"><span class="pre">--debug</span></span><span class="sig-prename descclassname"><span class="pre">=type</span></span><a class="headerlink" href="#cmdoption-debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable verbose tracing <cite>type</cite> of various fio actions.  May be <code class="docutils literal notranslate"><span class="pre">all</span></code> for all types
or individual types separated by a comma (e.g. <code class="docutils literal notranslate"><span class="pre">--debug=file,mem</span></code> will
enable file and memory debugging).  Currently, additional logging is
available for:</p>
<dl class="simple">
<dt><em>process</em></dt><dd><p>Dump info related to processes.</p>
</dd>
<dt><em>file</em></dt><dd><p>Dump info related to file actions.</p>
</dd>
<dt><em>io</em></dt><dd><p>Dump info related to I/O queuing.</p>
</dd>
<dt><em>mem</em></dt><dd><p>Dump info related to memory allocations.</p>
</dd>
<dt><em>blktrace</em></dt><dd><p>Dump info related to blktrace setup.</p>
</dd>
<dt><em>verify</em></dt><dd><p>Dump info related to I/O verification.</p>
</dd>
<dt><em>all</em></dt><dd><p>Enable all debug options.</p>
</dd>
<dt><em>random</em></dt><dd><p>Dump info related to random offset generation.</p>
</dd>
<dt><em>parse</em></dt><dd><p>Dump info related to option matching and parsing.</p>
</dd>
<dt><em>diskutil</em></dt><dd><p>Dump info related to disk utilization updates.</p>
</dd>
<dt><em>job:x</em></dt><dd><p>Dump info only related to job number x.</p>
</dd>
<dt><em>mutex</em></dt><dd><p>Dump info only related to mutex up/down ops.</p>
</dd>
<dt><em>profile</em></dt><dd><p>Dump info related to profile extensions.</p>
</dd>
<dt><em>time</em></dt><dd><p>Dump info related to internal time keeping.</p>
</dd>
<dt><em>net</em></dt><dd><p>Dump info related to networking connections.</p>
</dd>
<dt><em>rate</em></dt><dd><p>Dump info related to I/O rate switching.</p>
</dd>
<dt><em>compress</em></dt><dd><p>Dump info related to log compress/decompress.</p>
</dd>
<dt><em>steadystate</em></dt><dd><p>Dump info related to steadystate detection.</p>
</dd>
<dt><em>helperthread</em></dt><dd><p>Dump info related to the helper thread.</p>
</dd>
<dt><em>zbd</em></dt><dd><p>Dump info related to support for zoned block devices.</p>
</dd>
<dt><em>?</em> or <em>help</em></dt><dd><p>Show available debug options.</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-parse-only">
<span class="sig-name descname"><span class="pre">--parse-only</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-parse-only" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse options only, don’t start any I/O.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-merge-blktrace-only">
<span class="sig-name descname"><span class="pre">--merge-blktrace-only</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-merge-blktrace-only" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge blktraces only, don’t start any I/O.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-output">
<span class="sig-name descname"><span class="pre">--output</span></span><span class="sig-prename descclassname"><span class="pre">=filename</span></span><a class="headerlink" href="#cmdoption-output" title="Permalink to this definition">¶</a></dt>
<dd><p>Write output to file <cite>filename</cite>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-output-format">
<span class="sig-name descname"><span class="pre">--output-format</span></span><span class="sig-prename descclassname"><span class="pre">=format</span></span><a class="headerlink" href="#cmdoption-output-format" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the reporting <cite>format</cite> to <cite>normal</cite>, <cite>terse</cite>, <cite>json</cite>, or <cite>json+</cite>.  Multiple
formats can be selected, separated by a comma.  <cite>terse</cite> is a CSV based
format.  <cite>json+</cite> is like <cite>json</cite>, except it adds a full dump of the latency
buckets.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-bandwidth-log">
<span class="sig-name descname"><span class="pre">--bandwidth-log</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-bandwidth-log" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate aggregate bandwidth logs.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-minimal">
<span class="sig-name descname"><span class="pre">--minimal</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-minimal" title="Permalink to this definition">¶</a></dt>
<dd><p>Print statistics in a terse, semicolon-delimited format.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-append-terse">
<span class="sig-name descname"><span class="pre">--append-terse</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-append-terse" title="Permalink to this definition">¶</a></dt>
<dd><p>Print statistics in selected mode AND terse, semicolon-delimited format.
<strong>Deprecated</strong>, use <a class="reference internal" href="#cmdoption-output-format"><code class="xref std std-option docutils literal notranslate"><span class="pre">--output-format</span></code></a> instead to select multiple
formats.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-terse-version">
<span class="sig-name descname"><span class="pre">--terse-version</span></span><span class="sig-prename descclassname"><span class="pre">=version</span></span><a class="headerlink" href="#cmdoption-terse-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Set terse <cite>version</cite> output format (default 3, or 2 or 4 or 5).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Print version information and exit.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-help">
<span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-help" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a summary of the command line options and exit.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-cpuclock-test">
<span class="sig-name descname"><span class="pre">--cpuclock-test</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-cpuclock-test" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform test and validation of internal CPU clock.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-crctest">
<span class="sig-name descname"><span class="pre">--crctest</span></span><span class="sig-prename descclassname"><span class="pre">=[test]</span></span><a class="headerlink" href="#cmdoption-crctest" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the speed of the built-in checksumming functions. If no argument is
given, all of them are tested. Alternatively, a comma separated list can
be passed, in which case the given ones are tested.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-cmdhelp">
<span class="sig-name descname"><span class="pre">--cmdhelp</span></span><span class="sig-prename descclassname"><span class="pre">=command</span></span><a class="headerlink" href="#cmdoption-cmdhelp" title="Permalink to this definition">¶</a></dt>
<dd><p>Print help information for <cite>command</cite>. May be <code class="docutils literal notranslate"><span class="pre">all</span></code> for all commands.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-enghelp">
<span class="sig-name descname"><span class="pre">--enghelp</span></span><span class="sig-prename descclassname"><span class="pre">=[ioengine[,command]]</span></span><a class="headerlink" href="#cmdoption-enghelp" title="Permalink to this definition">¶</a></dt>
<dd><p>List all commands defined by <cite>ioengine</cite>, or print help for <cite>command</cite>
defined by <cite>ioengine</cite>.  If no <cite>ioengine</cite> is given, list all
available ioengines.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-showcmd">
<span class="sig-name descname"><span class="pre">--showcmd</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-showcmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert given job files to a set of command-line options.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-readonly">
<span class="sig-name descname"><span class="pre">--readonly</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-readonly" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn on safety read-only checks, preventing writes and trims.  The
<code class="docutils literal notranslate"><span class="pre">--readonly</span></code> option is an extra safety guard to prevent users from
accidentally starting a write or trim workload when that is not desired.
Fio will only modify the device under test if
<cite>rw=write/randwrite/rw/randrw/trim/randtrim/trimwrite</cite> is given.  This
safety net can be used as an extra precaution.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-eta">
<span class="sig-name descname"><span class="pre">--eta</span></span><span class="sig-prename descclassname"><span class="pre">=when</span></span><a class="headerlink" href="#cmdoption-eta" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies when real-time ETA estimate should be printed.  <cite>when</cite> may be
<cite>always</cite>, <cite>never</cite> or <cite>auto</cite>. <cite>auto</cite> is the default, it prints ETA
when requested if the output is a TTY. <cite>always</cite> disregards the output
type, and prints ETA when requested. <cite>never</cite> never prints ETA.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-eta-interval">
<span class="sig-name descname"><span class="pre">--eta-interval</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><a class="headerlink" href="#cmdoption-eta-interval" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, fio requests client ETA status roughly every second. With
this option, the interval is configurable. Fio imposes a minimum
allowed time to avoid flooding the console, less than 250 msec is
not supported.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-eta-newline">
<span class="sig-name descname"><span class="pre">--eta-newline</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><a class="headerlink" href="#cmdoption-eta-newline" title="Permalink to this definition">¶</a></dt>
<dd><p>Force a new line for every <cite>time</cite> period passed.  When the unit is omitted,
the value is interpreted in seconds.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-status-interval">
<span class="sig-name descname"><span class="pre">--status-interval</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><a class="headerlink" href="#cmdoption-status-interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Force a full status dump of cumulative (from job start) values at <cite>time</cite>
intervals. This option does <em>not</em> provide per-period measurements. So
values such as bandwidth are running averages. When the time unit is omitted,
<cite>time</cite> is interpreted in seconds. Note that using this option with
<code class="docutils literal notranslate"><span class="pre">--output-format=json</span></code> will yield output that technically isn’t valid
json, since the output will be collated sets of valid json. It will need
to be split into valid sets of json after the run.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-section">
<span class="sig-name descname"><span class="pre">--section</span></span><span class="sig-prename descclassname"><span class="pre">=name</span></span><a class="headerlink" href="#cmdoption-section" title="Permalink to this definition">¶</a></dt>
<dd><p>Only run specified section <cite>name</cite> in job file.  Multiple sections can be specified.
The <code class="docutils literal notranslate"><span class="pre">--section</span></code> option allows one to combine related jobs into one file.
E.g. one job file could define light, moderate, and heavy sections. Tell
fio to run only the “heavy” section by giving <code class="docutils literal notranslate"><span class="pre">--section=heavy</span></code>
command line option.  One can also specify the “write” operations in one
section and “verify” operation in another section.  The <code class="docutils literal notranslate"><span class="pre">--section</span></code> option
only applies to job sections.  The reserved <em>global</em> section is always
parsed and used.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-alloc-size">
<span class="sig-name descname"><span class="pre">--alloc-size</span></span><span class="sig-prename descclassname"><span class="pre">=kb</span></span><a class="headerlink" href="#cmdoption-alloc-size" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate additional internal smalloc pools of size <cite>kb</cite> in KiB.  The
<code class="docutils literal notranslate"><span class="pre">--alloc-size</span></code> option increases shared memory set aside for use by fio.
If running large jobs with randommap enabled, fio can run out of memory.
Smalloc is an internal allocator for shared structures from a fixed size
memory pool and can grow to 16 pools. The pool size defaults to 16MiB.</p>
<p>NOTE: While running <code class="file docutils literal notranslate"><span class="pre">.fio_smalloc.*</span></code> backing store files are visible
in <code class="file docutils literal notranslate"><span class="pre">/tmp</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-warnings-fatal">
<span class="sig-name descname"><span class="pre">--warnings-fatal</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-warnings-fatal" title="Permalink to this definition">¶</a></dt>
<dd><p>All fio parser warnings are fatal, causing fio to exit with an
error.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-max-jobs">
<span class="sig-name descname"><span class="pre">--max-jobs</span></span><span class="sig-prename descclassname"><span class="pre">=nr</span></span><a class="headerlink" href="#cmdoption-max-jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the maximum number of threads/processes to support to <cite>nr</cite>.
NOTE: On Linux, it may be necessary to increase the shared-memory
limit (<code class="file docutils literal notranslate"><span class="pre">/proc/sys/kernel/shmmax</span></code>) if fio runs into errors while
creating jobs.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-server">
<span class="sig-name descname"><span class="pre">--server</span></span><span class="sig-prename descclassname"><span class="pre">=args</span></span><a class="headerlink" href="#cmdoption-server" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a backend server, with <cite>args</cite> specifying what to listen to.
See <a class="reference internal" href="#client-server">Client/Server</a> section.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-daemonize">
<span class="sig-name descname"><span class="pre">--daemonize</span></span><span class="sig-prename descclassname"><span class="pre">=pidfile</span></span><a class="headerlink" href="#cmdoption-daemonize" title="Permalink to this definition">¶</a></dt>
<dd><p>Background a fio server, writing the pid to the given <cite>pidfile</cite> file.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-client">
<span class="sig-name descname"><span class="pre">--client</span></span><span class="sig-prename descclassname"><span class="pre">=hostname</span></span><a class="headerlink" href="#cmdoption-client" title="Permalink to this definition">¶</a></dt>
<dd><p>Instead of running the jobs locally, send and run them on the given <cite>hostname</cite>
or set of <cite>hostname</cite>s.  See <a class="reference internal" href="#client-server">Client/Server</a> section.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-remote-config">
<span class="sig-name descname"><span class="pre">--remote-config</span></span><span class="sig-prename descclassname"><span class="pre">=file</span></span><a class="headerlink" href="#cmdoption-remote-config" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell fio server to load this local <cite>file</cite>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-idle-prof">
<span class="sig-name descname"><span class="pre">--idle-prof</span></span><span class="sig-prename descclassname"><span class="pre">=option</span></span><a class="headerlink" href="#cmdoption-idle-prof" title="Permalink to this definition">¶</a></dt>
<dd><p>Report CPU idleness. <cite>option</cite> is one of the following:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>calibrate</strong></dt><dd><p>Run unit work calibration only and exit.</p>
</dd>
<dt><strong>system</strong></dt><dd><p>Show aggregate system idleness and unit work.</p>
</dd>
<dt><strong>percpu</strong></dt><dd><p>As <strong>system</strong> but also show per CPU idleness.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-inflate-log">
<span class="sig-name descname"><span class="pre">--inflate-log</span></span><span class="sig-prename descclassname"><span class="pre">=log</span></span><a class="headerlink" href="#cmdoption-inflate-log" title="Permalink to this definition">¶</a></dt>
<dd><p>Inflate and output compressed <cite>log</cite>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-trigger-file">
<span class="sig-name descname"><span class="pre">--trigger-file</span></span><span class="sig-prename descclassname"><span class="pre">=file</span></span><a class="headerlink" href="#cmdoption-trigger-file" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute trigger command when <cite>file</cite> exists.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-trigger-timeout">
<span class="sig-name descname"><span class="pre">--trigger-timeout</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><a class="headerlink" href="#cmdoption-trigger-timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute trigger at this <cite>time</cite>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-trigger">
<span class="sig-name descname"><span class="pre">--trigger</span></span><span class="sig-prename descclassname"><span class="pre">=command</span></span><a class="headerlink" href="#cmdoption-trigger" title="Permalink to this definition">¶</a></dt>
<dd><p>Set this <cite>command</cite> as local trigger.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-trigger-remote">
<span class="sig-name descname"><span class="pre">--trigger-remote</span></span><span class="sig-prename descclassname"><span class="pre">=command</span></span><a class="headerlink" href="#cmdoption-trigger-remote" title="Permalink to this definition">¶</a></dt>
<dd><p>Set this <cite>command</cite> as remote trigger.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-aux-path">
<span class="sig-name descname"><span class="pre">--aux-path</span></span><span class="sig-prename descclassname"><span class="pre">=path</span></span><a class="headerlink" href="#cmdoption-aux-path" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the directory specified by <cite>path</cite> for generated state files instead
of the current working directory.</p>
</dd></dl>

<p>Any parameters following the options will be assumed to be job files, unless
they match a job file parameter. Multiple job files can be listed and each job
file will be regarded as a separate group. Fio will <a class="reference internal" href="#cmdoption-arg-stonewall"><code class="xref std std-option docutils literal notranslate"><span class="pre">stonewall</span></code></a>
execution between each group.</p>
</section>
<section id="job-file-format">
<h2><span class="section-number">1.12. </span>Job file format<a class="headerlink" href="#job-file-format" title="Permalink to this heading">¶</a></h2>
<p>As previously described, fio accepts one or more job files describing what it is
supposed to do. The job file format is the classic ini file, where the names
enclosed in [] brackets define the job name. You are free to use any ASCII name
you want, except <em>global</em> which has special meaning.  Following the job name is
a sequence of zero or more parameters, one per line, that define the behavior of
the job. If the first character in a line is a ‘;’ or a ‘#’, the entire line is
discarded as a comment.</p>
<p>A <em>global</em> section sets defaults for the jobs described in that file. A job may
override a <em>global</em> section parameter, and a job file may even have several
<em>global</em> sections if so desired. A job is only affected by a <em>global</em> section
residing above it.</p>
<p>The <a class="reference internal" href="#cmdoption-cmdhelp"><code class="xref std std-option docutils literal notranslate"><span class="pre">--cmdhelp</span></code></a> option also lists all options. If used with a <cite>command</cite>
argument, <a class="reference internal" href="#cmdoption-cmdhelp"><code class="xref std std-option docutils literal notranslate"><span class="pre">--cmdhelp</span></code></a> will detail the given <cite>command</cite>.</p>
<p>See the <cite>examples/</cite> directory for inspiration on how to write job files.  Note
the copyright and license requirements currently apply to <cite>examples/</cite> files.</p>
<p>So let’s look at a really simple job file that defines two processes, each
randomly reading from a 128MiB file:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">; -- start job file --</span>
<span class="k">[global]</span>
<span class="na">rw</span><span class="o">=</span><span class="s">randread</span>
<span class="na">size</span><span class="o">=</span><span class="s">128m</span>

<span class="k">[job1]</span>

<span class="k">[job2]</span>

<span class="c1">; -- end job file --</span>
</pre></div>
</div>
<p>As you can see, the job file sections themselves are empty as all the described
parameters are shared. As no <a class="reference internal" href="#cmdoption-arg-filename"><code class="xref std std-option docutils literal notranslate"><span class="pre">filename</span></code></a> option is given, fio makes up a
<cite>filename</cite> for each of the jobs as it sees fit. On the command line, this job
would look as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ fio --name=global --rw=randread --size=128m --name=job1 --name=job2
</pre></div>
</div>
<p>Let’s look at an example that has a number of processes writing randomly to
files:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">; -- start job file --</span>
<span class="k">[random-writers]</span>
<span class="na">ioengine</span><span class="o">=</span><span class="s">libaio</span>
<span class="na">iodepth</span><span class="o">=</span><span class="s">4</span>
<span class="na">rw</span><span class="o">=</span><span class="s">randwrite</span>
<span class="na">bs</span><span class="o">=</span><span class="s">32k</span>
<span class="na">direct</span><span class="o">=</span><span class="s">0</span>
<span class="na">size</span><span class="o">=</span><span class="s">64m</span>
<span class="na">numjobs</span><span class="o">=</span><span class="s">4</span>
<span class="c1">; -- end job file --</span>
</pre></div>
</div>
<p>Here we have no <em>global</em> section, as we only have one job defined anyway.  We
want to use async I/O here, with a depth of 4 for each file. We also increased
the buffer size used to 32KiB and define numjobs to 4 to fork 4 identical
jobs. The result is 4 processes each randomly writing to their own 64MiB
file. Instead of using the above job file, you could have given the parameters
on the command line. For this case, you would specify:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ fio --name=random-writers --ioengine=libaio --iodepth=4 --rw=randwrite --bs=32k --direct=0 --size=64m --numjobs=4
</pre></div>
</div>
<p>When fio is utilized as a basis of any reasonably large test suite, it might be
desirable to share a set of standardized settings across multiple job files.
Instead of copy/pasting such settings, any section may pull in an external
<code class="file docutils literal notranslate"><span class="pre">filename.fio</span></code> file with <em>include filename</em> directive, as in the following
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">;</span> <span class="o">--</span> <span class="n">start</span> <span class="n">job</span> <span class="n">file</span> <span class="n">including</span><span class="o">.</span><span class="n">fio</span> <span class="o">--</span>
<span class="p">[</span><span class="k">global</span><span class="p">]</span>
<span class="n">filename</span><span class="o">=/</span><span class="n">tmp</span><span class="o">/</span><span class="n">test</span>
<span class="n">filesize</span><span class="o">=</span><span class="mi">1</span><span class="n">m</span>
<span class="n">include</span> <span class="n">glob</span><span class="o">-</span><span class="n">include</span><span class="o">.</span><span class="n">fio</span>

<span class="p">[</span><span class="n">test</span><span class="p">]</span>
<span class="n">rw</span><span class="o">=</span><span class="n">randread</span>
<span class="n">bs</span><span class="o">=</span><span class="mi">4</span><span class="n">k</span>
<span class="n">time_based</span><span class="o">=</span><span class="mi">1</span>
<span class="n">runtime</span><span class="o">=</span><span class="mi">10</span>
<span class="n">include</span> <span class="n">test</span><span class="o">-</span><span class="n">include</span><span class="o">.</span><span class="n">fio</span>
<span class="p">;</span> <span class="o">--</span> <span class="n">end</span> <span class="n">job</span> <span class="n">file</span> <span class="n">including</span><span class="o">.</span><span class="n">fio</span> <span class="o">--</span>
</pre></div>
</div>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">; -- start job file glob-include.fio --</span>
<span class="na">thread</span><span class="o">=</span><span class="s">1</span>
<span class="na">group_reporting</span><span class="o">=</span><span class="s">1</span>
<span class="c1">; -- end job file glob-include.fio --</span>
</pre></div>
</div>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">; -- start job file test-include.fio --</span>
<span class="na">ioengine</span><span class="o">=</span><span class="s">libaio</span>
<span class="na">iodepth</span><span class="o">=</span><span class="s">4</span>
<span class="c1">; -- end job file test-include.fio --</span>
</pre></div>
</div>
<p>Settings pulled into a section apply to that section only (except <em>global</em>
section). Include directives may be nested in that any included file may contain
further include directive(s). Include files may not contain [] sections.</p>
<section id="environment-variables">
<h3><span class="section-number">1.12.1. </span>Environment variables<a class="headerlink" href="#environment-variables" title="Permalink to this heading">¶</a></h3>
<p>Fio also supports environment variable expansion in job files. Any sub-string of
the form <code class="docutils literal notranslate"><span class="pre">${VARNAME}</span></code> as part of an option value (in other words, on the right
of the ‘=’), will be expanded to the value of the environment variable called
<cite>VARNAME</cite>.  If no such environment variable is defined, or <cite>VARNAME</cite> is the
empty string, the empty string will be substituted.</p>
<p>As an example, let’s look at a sample fio invocation and job file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ SIZE=64m NUMJOBS=4 fio jobfile.fio
</pre></div>
</div>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">; -- start job file --</span>
<span class="k">[random-writers]</span>
<span class="na">rw</span><span class="o">=</span><span class="s">randwrite</span>
<span class="na">size</span><span class="o">=</span><span class="s">${SIZE}</span>
<span class="na">numjobs</span><span class="o">=</span><span class="s">${NUMJOBS}</span>
<span class="c1">; -- end job file --</span>
</pre></div>
</div>
<p>This will expand to the following equivalent job file at runtime:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">; -- start job file --</span>
<span class="k">[random-writers]</span>
<span class="na">rw</span><span class="o">=</span><span class="s">randwrite</span>
<span class="na">size</span><span class="o">=</span><span class="s">64m</span>
<span class="na">numjobs</span><span class="o">=</span><span class="s">4</span>
<span class="c1">; -- end job file --</span>
</pre></div>
</div>
<p>Fio ships with a few example job files, you can also look there for inspiration.</p>
</section>
<section id="reserved-keywords">
<h3><span class="section-number">1.12.2. </span>Reserved keywords<a class="headerlink" href="#reserved-keywords" title="Permalink to this heading">¶</a></h3>
<p>Additionally, fio has a set of reserved keywords that will be replaced
internally with the appropriate value. Those keywords are:</p>
<p><strong>$pagesize</strong></p>
<blockquote>
<div><p>The architecture page size of the running system.</p>
</div></blockquote>
<p><strong>$mb_memory</strong></p>
<blockquote>
<div><p>Megabytes of total memory in the system.</p>
</div></blockquote>
<p><strong>$ncpus</strong></p>
<blockquote>
<div><p>Number of online available CPUs.</p>
</div></blockquote>
<p>These can be used on the command line or in the job file, and will be
automatically substituted with the current system values when the job is
run. Simple math is also supported on these keywords, so you can perform actions
like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>size=8*$mb_memory
</pre></div>
</div>
<p>and get that properly expanded to 8 times the size of memory in the machine.</p>
</section>
</section>
<section id="job-file-parameters">
<h2><span class="section-number">1.13. </span>Job file parameters<a class="headerlink" href="#job-file-parameters" title="Permalink to this heading">¶</a></h2>
<p>This section describes in details each parameter associated with a job.  Some
parameters take an option of a given type, such as an integer or a
string. Anywhere a numeric value is required, an arithmetic expression may be
used, provided it is surrounded by parentheses. Supported operators are:</p>
<blockquote>
<div><ul class="simple">
<li><p>addition (+)</p></li>
<li><p>subtraction (-)</p></li>
<li><p>multiplication (*)</p></li>
<li><p>division (/)</p></li>
<li><p>modulus (%)</p></li>
<li><p>exponentiation (^)</p></li>
</ul>
</div></blockquote>
<p>For time values in expressions, units are microseconds by default. This is
different than for time values not in expressions (not enclosed in
parentheses). The following types are used:</p>
<section id="parameter-types">
<h3><span class="section-number">1.13.1. </span>Parameter types<a class="headerlink" href="#parameter-types" title="Permalink to this heading">¶</a></h3>
<dl class="simple">
<dt><strong>str</strong></dt><dd><p>String: A sequence of alphanumeric characters.</p>
</dd>
<dt><strong>time</strong></dt><dd><p>Integer with possible time suffix.  Without a unit value is interpreted as
seconds unless otherwise specified.  Accepts a suffix of ‘d’ for days, ‘h’ for
hours, ‘m’ for minutes, ‘s’ for seconds, ‘ms’ (or ‘msec’) for milliseconds and
‘us’ (or ‘usec’) for microseconds.  For example, use 10m for 10 minutes.</p>
</dd>
</dl>
<dl id="int">
<dt><strong>int</strong></dt><dd><p>Integer. A whole number value, which may contain an integer prefix
and an integer suffix:</p>
<p>[<em>integer prefix</em>] <strong>number</strong> [<em>integer suffix</em>]</p>
<p>The optional <em>integer prefix</em> specifies the number’s base. The default
is decimal. <em>0x</em> specifies hexadecimal.</p>
<p>The optional <em>integer suffix</em> specifies the number’s units, and includes an
optional unit prefix and an optional unit.  For quantities of data, the
default unit is bytes. For quantities of time, the default unit is seconds
unless otherwise specified.</p>
<p>With <a class="reference internal" href="#cmdoption-arg-kb_base"><code class="xref std std-option docutils literal notranslate"><span class="pre">kb_base</span></code></a>=1000, fio follows international standards for unit
prefixes.  To specify power-of-10 decimal values defined in the
International System of Units (SI):</p>
<blockquote>
<div><ul class="simple">
<li><p><em>K</em> – means kilo (K) or 1000</p></li>
<li><p><em>M</em> – means mega (M) or 1000**2</p></li>
<li><p><em>G</em> – means giga (G) or 1000**3</p></li>
<li><p><em>T</em> – means tera (T) or 1000**4</p></li>
<li><p><em>P</em> – means peta (P) or 1000**5</p></li>
</ul>
</div></blockquote>
<p>To specify power-of-2 binary values defined in IEC 80000-13:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>Ki</em> – means kibi (Ki) or 1024</p></li>
<li><p><em>Mi</em> – means mebi (Mi) or 1024**2</p></li>
<li><p><em>Gi</em> – means gibi (Gi) or 1024**3</p></li>
<li><p><em>Ti</em> – means tebi (Ti) or 1024**4</p></li>
<li><p><em>Pi</em> – means pebi (Pi) or 1024**5</p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>For Zone Block Device Mode:</dt><dd><ul class="simple">
<li><p><em>z</em>  – means Zone</p></li>
</ul>
</dd>
</dl>
<p>With <a class="reference internal" href="#cmdoption-arg-kb_base"><code class="xref std std-option docutils literal notranslate"><span class="pre">kb_base</span></code></a>=1024 (the default), the unit prefixes are opposite
from those specified in the SI and IEC 80000-13 standards to provide
compatibility with old scripts.  For example, 4k means 4096.</p>
<p>For quantities of data, an optional unit of ‘B’ may be included
(e.g., ‘kB’ is the same as ‘k’).</p>
<p>The <em>integer suffix</em> is not case sensitive (e.g., m/mi mean mebi/mega,
not milli). ‘b’ and ‘B’ both mean byte, not bit.</p>
<p>Examples with <a class="reference internal" href="#cmdoption-arg-kb_base"><code class="xref std std-option docutils literal notranslate"><span class="pre">kb_base</span></code></a>=1000:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>4 KiB</em>: 4096, 4096b, 4096B, 4ki, 4kib, 4kiB, 4Ki, 4KiB</p></li>
<li><p><em>1 MiB</em>: 1048576, 1mi, 1024ki</p></li>
<li><p><em>1 MB</em>: 1000000, 1m, 1000k</p></li>
<li><p><em>1 TiB</em>: 1099511627776, 1ti, 1024gi, 1048576mi</p></li>
<li><p><em>1 TB</em>: 1000000000, 1t, 1000m, 1000000k</p></li>
</ul>
</div></blockquote>
<p>Examples with <a class="reference internal" href="#cmdoption-arg-kb_base"><code class="xref std std-option docutils literal notranslate"><span class="pre">kb_base</span></code></a>=1024 (default):</p>
<blockquote>
<div><ul class="simple">
<li><p><em>4 KiB</em>: 4096, 4096b, 4096B, 4k, 4kb, 4kB, 4K, 4KB</p></li>
<li><p><em>1 MiB</em>: 1048576, 1m, 1024k</p></li>
<li><p><em>1 MB</em>: 1000000, 1mi, 1000ki</p></li>
<li><p><em>1 TiB</em>: 1099511627776, 1t, 1024g, 1048576m</p></li>
<li><p><em>1 TB</em>: 1000000000, 1ti, 1000mi, 1000000ki</p></li>
</ul>
</div></blockquote>
<p>To specify times (units are not case sensitive):</p>
<blockquote>
<div><ul class="simple">
<li><p><em>D</em> – means days</p></li>
<li><p><em>H</em> – means hours</p></li>
<li><p><em>M</em> – means minutes</p></li>
<li><p><em>s</em> – or sec means seconds (default)</p></li>
<li><p><em>ms</em> – or <em>msec</em> means milliseconds</p></li>
<li><p><em>us</em> – or <em>usec</em> means microseconds</p></li>
</ul>
</div></blockquote>
<p>If the option accepts an upper and lower range, use a colon ‘:’ or
minus ‘-’ to separate such values. See <a class="reference internal" href="#irange"><span class="std std-ref">irange</span></a>.
If the lower value specified happens to be larger than the upper value
the two values are swapped.</p>
</dd>
</dl>
<dl class="simple" id="bool">
<dt><strong>bool</strong></dt><dd><p>Boolean. Usually parsed as an integer, however only defined for
true and false (1 and 0).</p>
</dd>
</dl>
<dl class="simple" id="irange">
<dt><strong>irange</strong></dt><dd><p>Integer range with suffix. Allows value range to be given, such as
1024-4096. A colon may also be used as the separator, e.g. 1k:4k. If the
option allows two sets of ranges, they can be specified with a ‘,’ or ‘/’
delimiter: 1k-4k/8k-32k. Also see <a class="reference internal" href="#int"><span class="std std-ref">int</span></a>.</p>
</dd>
<dt><strong>float_list</strong></dt><dd><p>A list of floating point numbers, separated by a ‘:’ character.</p>
</dd>
</dl>
<p>With the above in mind, here follows the complete list of fio job parameters.</p>
</section>
<section id="units">
<h3><span class="section-number">1.13.2. </span>Units<a class="headerlink" href="#units" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-kb_base">
<span id="cmdoption-arg-kb-base"></span><span class="sig-name descname"><span class="pre">kb_base</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-kb_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Select the interpretation of unit prefixes in input parameters.</p>
<blockquote>
<div><dl>
<dt><strong>1000</strong></dt><dd><p>Inputs comply with IEC 80000-13 and the International
System of Units (SI). Use:</p>
<blockquote>
<div><ul class="simple">
<li><p>power-of-2 values with IEC prefixes (e.g., KiB)</p></li>
<li><p>power-of-10 values with SI prefixes (e.g., kB)</p></li>
</ul>
</div></blockquote>
</dd>
<dt><strong>1024</strong></dt><dd><p>Compatibility mode (default).  To avoid breaking old scripts:</p>
<blockquote>
<div><ul class="simple">
<li><p>power-of-2 values with SI prefixes</p></li>
<li><p>power-of-10 values with IEC prefixes</p></li>
</ul>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>See <a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">bs</span></code></a> for more details on input parameters.</p>
<p>Outputs always use correct prefixes.  Most outputs include both
side-by-side, like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bw</span><span class="o">=</span><span class="mf">2383.3</span><span class="n">kB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">2327.4</span><span class="n">KiB</span><span class="o">/</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>If only one value is reported, then kb_base selects the one to use:</p>
<blockquote>
<div><p><strong>1000</strong> – SI prefixes</p>
<p><strong>1024</strong> – IEC prefixes</p>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-unit_base">
<span id="cmdoption-arg-unit-base"></span><span class="sig-name descname"><span class="pre">unit_base</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-unit_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Base unit for reporting.  Allowed values are:</p>
<dl class="simple">
<dt><strong>0</strong></dt><dd><p>Use auto-detection (default).</p>
</dd>
<dt><strong>8</strong></dt><dd><p>Byte based.</p>
</dd>
<dt><strong>1</strong></dt><dd><p>Bit based.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="job-description">
<h3><span class="section-number">1.13.3. </span>Job description<a class="headerlink" href="#job-description" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-name" title="Permalink to this definition">¶</a></dt>
<dd><p>ASCII name of the job. This may be used to override the name printed by fio
for this job. Otherwise the job name is used. On the command line this
parameter has the special purpose of also signaling the start of a new job.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-description">
<span class="sig-name descname"><span class="pre">description</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-description" title="Permalink to this definition">¶</a></dt>
<dd><p>Text description of the job. Doesn’t do anything except dump this text
description when this job is run. It’s not parsed.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-loops">
<span class="sig-name descname"><span class="pre">loops</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-loops" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the specified number of iterations of this job. Used to repeat the same
workload a given number of times. Defaults to 1.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-numjobs">
<span class="sig-name descname"><span class="pre">numjobs</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-numjobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the specified number of clones of this job. Each clone of job
is spawned as an independent thread or process. May be used to setup a
larger number of threads/processes doing the same thing. Each thread is
reported separately; to see statistics for all clones as a whole, use
<a class="reference internal" href="#cmdoption-arg-group_reporting"><code class="xref std std-option docutils literal notranslate"><span class="pre">group_reporting</span></code></a> in conjunction with <a class="reference internal" href="#cmdoption-arg-new_group"><code class="xref std std-option docutils literal notranslate"><span class="pre">new_group</span></code></a>.
See <a class="reference internal" href="#cmdoption-max-jobs"><code class="xref std std-option docutils literal notranslate"><span class="pre">--max-jobs</span></code></a>.  Default: 1.</p>
</dd></dl>

</section>
<section id="time-related-parameters">
<h3><span class="section-number">1.13.4. </span>Time related parameters<a class="headerlink" href="#time-related-parameters" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-runtime">
<span class="sig-name descname"><span class="pre">runtime</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><a class="headerlink" href="#cmdoption-arg-runtime" title="Permalink to this definition">¶</a></dt>
<dd><p>Limit runtime. The test will run until it completes the configured I/O
workload or until it has run for this specified amount of time, whichever
occurs first. It can be quite hard to determine for how long a specified
job will run, so this parameter is handy to cap the total runtime to a
given time.  When the unit is omitted, the value is interpreted in
seconds.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-time_based">
<span id="cmdoption-arg-time-based"></span><span class="sig-name descname"><span class="pre">time_based</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-time_based" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, fio will run for the duration of the <a class="reference internal" href="#cmdoption-arg-runtime"><code class="xref std std-option docutils literal notranslate"><span class="pre">runtime</span></code></a> specified
even if the file(s) are completely read or written. It will simply loop over
the same workload as many times as the <a class="reference internal" href="#cmdoption-arg-runtime"><code class="xref std std-option docutils literal notranslate"><span class="pre">runtime</span></code></a> allows.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-startdelay">
<span class="sig-name descname"><span class="pre">startdelay</span></span><span class="sig-prename descclassname"><span class="pre">=irange(time)</span></span><a class="headerlink" href="#cmdoption-arg-startdelay" title="Permalink to this definition">¶</a></dt>
<dd><p>Delay the start of job for the specified amount of time.  Can be a single
value or a range.  When given as a range, each thread will choose a value
randomly from within the range.  Value is in seconds if a unit is omitted.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-ramp_time">
<span id="cmdoption-arg-ramp-time"></span><span class="sig-name descname"><span class="pre">ramp_time</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><a class="headerlink" href="#cmdoption-arg-ramp_time" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, fio will run the specified workload for this amount of time before
logging any performance numbers. Useful for letting performance settle
before logging results, thus minimizing the runtime required for stable
results. Note that the <code class="docutils literal notranslate"><span class="pre">ramp_time</span></code> is considered lead in time for a job,
thus it will increase the total runtime if a special timeout or
<a class="reference internal" href="#cmdoption-arg-runtime"><code class="xref std std-option docutils literal notranslate"><span class="pre">runtime</span></code></a> is specified.  When the unit is omitted, the value is
given in seconds.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-clocksource">
<span class="sig-name descname"><span class="pre">clocksource</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-clocksource" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the given clocksource as the base of timing. The supported options are:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>gettimeofday</strong></dt><dd><p><em class="manpage">gettimeofday(2)</em></p>
</dd>
<dt><strong>clock_gettime</strong></dt><dd><p><em class="manpage">clock_gettime(2)</em></p>
</dd>
<dt><strong>cpu</strong></dt><dd><p>Internal CPU clock source</p>
</dd>
</dl>
</div></blockquote>
<p>cpu is the preferred clocksource if it is reliable, as it is very fast (and
fio is heavy on time calls). Fio will automatically use this clocksource if
it’s supported and considered reliable on the system it is running on,
unless another clocksource is specifically set. For x86/x86-64 CPUs, this
means supporting TSC Invariant.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-gtod_reduce">
<span id="cmdoption-arg-gtod-reduce"></span><span class="sig-name descname"><span class="pre">gtod_reduce</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-gtod_reduce" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable all of the <em class="manpage">gettimeofday(2)</em> reducing options
(<a class="reference internal" href="#cmdoption-arg-disable_clat"><code class="xref std std-option docutils literal notranslate"><span class="pre">disable_clat</span></code></a>, <a class="reference internal" href="#cmdoption-arg-disable_slat"><code class="xref std std-option docutils literal notranslate"><span class="pre">disable_slat</span></code></a>, <a class="reference internal" href="#cmdoption-arg-disable_bw_measurement"><code class="xref std std-option docutils literal notranslate"><span class="pre">disable_bw_measurement</span></code></a>) plus
reduce precision of the timeout somewhat to really shrink the
<em class="manpage">gettimeofday(2)</em> call count. With this option enabled, we only do
about 0.4% of the <em class="manpage">gettimeofday(2)</em> calls we would have done if all
time keeping was enabled.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-gtod_cpu">
<span id="cmdoption-arg-gtod-cpu"></span><span class="sig-name descname"><span class="pre">gtod_cpu</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-gtod_cpu" title="Permalink to this definition">¶</a></dt>
<dd><p>Sometimes it’s cheaper to dedicate a single thread of execution to just
getting the current time. Fio (and databases, for instance) are very
intensive on <em class="manpage">gettimeofday(2)</em> calls. With this option, you can set
one CPU aside for doing nothing but logging current time to a shared memory
location. Then the other threads/processes that run I/O workloads need only
copy that segment, instead of entering the kernel with a
<em class="manpage">gettimeofday(2)</em> call. The CPU set aside for doing these time
calls will be excluded from other uses. Fio will manually clear it from the
CPU mask of other jobs.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-job_start_clock_id">
<span id="cmdoption-arg-job-start-clock-id"></span><span class="sig-name descname"><span class="pre">job_start_clock_id</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-job_start_clock_id" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-arg-The">
<span id="cmdoption-arg-the"></span><span class="sig-name descname"><span class="pre">The</span></span><span class="sig-prename descclassname"> <span class="pre">clock_id</span> <span class="pre">passed</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">call</span> <span class="pre">to</span> <span class="pre">`clock_gettime`</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">record</span> <span class="pre">job_start</span></span><a class="headerlink" href="#cmdoption-arg-The" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-arg-in">
<span id="cmdoption-arg-or"></span><span class="sig-name descname"><span class="pre">in</span></span><span class="sig-prename descclassname"> <span class="pre">the</span> <span class="pre">`json`</span> <span class="pre">output</span> <span class="pre">format.</span> <span class="pre">Default</span> <span class="pre">is</span> <span class="pre">0</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">or</span></span><span class="sig-prename descclassname"> <span class="pre">CLOCK_REALTIME.</span></span><a class="headerlink" href="#cmdoption-arg-in" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="target-file-device">
<h3><span class="section-number">1.13.5. </span>Target file/device<a class="headerlink" href="#target-file-device" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-directory">
<span class="sig-name descname"><span class="pre">directory</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefix filenames with this directory. Used to place files in a different
location than <code class="file docutils literal notranslate"><span class="pre">./</span></code>.  You can specify a number of directories by
separating the names with a ‘:’ character. These directories will be
assigned equally distributed to job clones created by <a class="reference internal" href="#cmdoption-arg-numjobs"><code class="xref std std-option docutils literal notranslate"><span class="pre">numjobs</span></code></a> as
long as they are using generated filenames. If specific <cite>filename(s)</cite> are
set fio will use the first listed directory, and thereby matching the
<cite>filename</cite> semantic (which generates a file for each clone if not
specified, but lets all clones use the same file if set).</p>
<p>See the <a class="reference internal" href="#cmdoption-arg-filename"><code class="xref std std-option docutils literal notranslate"><span class="pre">filename</span></code></a> option for information on how to escape “<code class="docutils literal notranslate"><span class="pre">:</span></code>”
characters within the directory path itself.</p>
<p>Note: To control the directory fio will use for internal state files
use <a class="reference internal" href="#cmdoption-aux-path"><code class="xref std std-option docutils literal notranslate"><span class="pre">--aux-path</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-filename">
<span class="sig-name descname"><span class="pre">filename</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Fio normally makes up a <cite>filename</cite> based on the job name, thread number, and
file number (see <a class="reference internal" href="#cmdoption-arg-filename_format"><code class="xref std std-option docutils literal notranslate"><span class="pre">filename_format</span></code></a>). If you want to share files
between threads in a job or several
jobs with fixed file paths, specify a <cite>filename</cite> for each of them to override
the default. If the ioengine is file based, you can specify a number of files
by separating the names with a ‘:’ colon. So if you wanted a job to open
<code class="file docutils literal notranslate"><span class="pre">/dev/sda</span></code> and <code class="file docutils literal notranslate"><span class="pre">/dev/sdb</span></code> as the two working files, you would use
<code class="docutils literal notranslate"><span class="pre">filename=/dev/sda:/dev/sdb</span></code>. This also means that whenever this option is
specified, <a class="reference internal" href="#cmdoption-arg-nrfiles"><code class="xref std std-option docutils literal notranslate"><span class="pre">nrfiles</span></code></a> is ignored. The size of regular files specified
by this option will be <a class="reference internal" href="#cmdoption-arg-size"><code class="xref std std-option docutils literal notranslate"><span class="pre">size</span></code></a> divided by number of files unless an
explicit size is specified by <a class="reference internal" href="#cmdoption-arg-filesize"><code class="xref std std-option docutils literal notranslate"><span class="pre">filesize</span></code></a>.</p>
<p>Each colon in the wanted path must be escaped with a <code class="docutils literal notranslate"><span class="pre">\</span></code>
character.  For instance, if the path is <code class="file docutils literal notranslate"><span class="pre">/dev/dsk/foo&#64;3,0:c</span></code> then you
would use <code class="docutils literal notranslate"><span class="pre">filename=/dev/dsk/foo&#64;3,0\:c</span></code> and if the path is
<code class="file docutils literal notranslate"><span class="pre">F:\filename</span></code> then you would use <code class="docutils literal notranslate"><span class="pre">filename=F\:\filename</span></code>.</p>
<p>On Windows, disk devices are accessed as <code class="file docutils literal notranslate"><span class="pre">\.\PhysicalDrive0</span></code> for
the first device, <code class="file docutils literal notranslate"><span class="pre">\.\PhysicalDrive1</span></code> for the second etc.
Note: Windows and FreeBSD prevent write access to areas
of the disk containing in-use data (e.g. filesystems).</p>
<p>The filename “<cite>-</cite>” is a reserved name, meaning <em>stdin</em> or <em>stdout</em>.  Which
of the two depends on the read/write direction set.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-filename_format">
<span id="cmdoption-arg-filename-format"></span><span class="sig-name descname"><span class="pre">filename_format</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-filename_format" title="Permalink to this definition">¶</a></dt>
<dd><p>If sharing multiple files between jobs, it is usually necessary to have fio
generate the exact names that you want. By default, fio will name a file
based on the default file format specification of
<code class="file docutils literal notranslate"><span class="pre">jobname.jobnumber.filenumber</span></code>. With this option, that can be
customized. Fio will recognize and replace the following keywords in this
string:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>$jobname</strong></dt><dd><p>The name of the worker thread or process.</p>
</dd>
<dt><strong>$clientuid</strong></dt><dd><p>IP of the fio process when using client/server mode.</p>
</dd>
<dt><strong>$jobnum</strong></dt><dd><p>The incremental number of the worker thread or process.</p>
</dd>
<dt><strong>$filenum</strong></dt><dd><p>The incremental number of the file for that worker thread or
process.</p>
</dd>
</dl>
</div></blockquote>
<p>To have dependent jobs share a set of files, this option can be set to have
fio generate filenames that are shared between the two. For instance, if
<code class="file docutils literal notranslate"><span class="pre">testfiles.$filenum</span></code> is specified, file number 4 for any job will be
named <code class="file docutils literal notranslate"><span class="pre">testfiles.4</span></code>. The default of <code class="file docutils literal notranslate"><span class="pre">$jobname.$jobnum.$filenum</span></code>
will be used if no other format specifier is given.</p>
<p>If you specify a path then the directories will be created up to the
main directory for the file.  So for example if you specify
<code class="docutils literal notranslate"><span class="pre">filename_format=a/b/c/$jobnum</span></code> then the directories a/b/c will be
created before the file setup part of the job.  If you specify
<a class="reference internal" href="#cmdoption-arg-directory"><code class="xref std std-option docutils literal notranslate"><span class="pre">directory</span></code></a> then the path will be relative that directory,
otherwise it is treated as the absolute path.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-unique_filename">
<span id="cmdoption-arg-unique-filename"></span><span class="sig-name descname"><span class="pre">unique_filename</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-unique_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>To avoid collisions between networked clients, fio defaults to prefixing any
generated filenames (with a directory specified) with the source of the
client connecting. To disable this behavior, set this option to 0.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-opendir">
<span class="sig-name descname"><span class="pre">opendir</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-opendir" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively open any files below directory <cite>str</cite>. This accepts only a
single directory and unlike related options, colons appearing in the
path must not be escaped.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-lockfile">
<span class="sig-name descname"><span class="pre">lockfile</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-lockfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Fio defaults to not locking any files before it does I/O to them. If a file
or file descriptor is shared, fio can serialize I/O to that file to make the
end result consistent. This is usual for emulating real workloads that share
files. The lock modes are:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>none</strong></dt><dd><p>No locking. The default.</p>
</dd>
<dt><strong>exclusive</strong></dt><dd><p>Only one thread or process may do I/O at a time, excluding all
others.</p>
</dd>
<dt><strong>readwrite</strong></dt><dd><p>Read-write locking on the file. Many readers may
access the file at the same time, but writes get exclusive access.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-nrfiles">
<span class="sig-name descname"><span class="pre">nrfiles</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-nrfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of files to use for this job. Defaults to 1. The size of files
will be <a class="reference internal" href="#cmdoption-arg-size"><code class="xref std std-option docutils literal notranslate"><span class="pre">size</span></code></a> divided by this unless explicit size is specified by
<a class="reference internal" href="#cmdoption-arg-filesize"><code class="xref std std-option docutils literal notranslate"><span class="pre">filesize</span></code></a>. Files are created for each thread separately, and each
file will have a file number within its name by default, as explained in
<a class="reference internal" href="#cmdoption-arg-filename"><code class="xref std std-option docutils literal notranslate"><span class="pre">filename</span></code></a> section.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-openfiles">
<span class="sig-name descname"><span class="pre">openfiles</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-openfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of files to keep open at the same time. Defaults to the same as
<a class="reference internal" href="#cmdoption-arg-nrfiles"><code class="xref std std-option docutils literal notranslate"><span class="pre">nrfiles</span></code></a>, can be set smaller to limit the number simultaneous
opens.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-file_service_type">
<span id="cmdoption-arg-file-service-type"></span><span class="sig-name descname"><span class="pre">file_service_type</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-file_service_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines how fio decides which file from a job to service next. The following
types are defined:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>random</strong></dt><dd><p>Choose a file at random.</p>
</dd>
<dt><strong>roundrobin</strong></dt><dd><p>Round robin over opened files. This is the default.</p>
</dd>
<dt><strong>sequential</strong></dt><dd><p>Finish one file before moving on to the next. Multiple files can
still be open depending on <a class="reference internal" href="#cmdoption-arg-openfiles"><code class="xref std std-option docutils literal notranslate"><span class="pre">openfiles</span></code></a>.</p>
</dd>
<dt><strong>zipf</strong></dt><dd><p>Use a <em>Zipf</em> distribution to decide what file to access.</p>
</dd>
<dt><strong>pareto</strong></dt><dd><p>Use a <em>Pareto</em> distribution to decide what file to access.</p>
</dd>
<dt><strong>normal</strong></dt><dd><p>Use a <em>Gaussian</em> (normal) distribution to decide what file to
access.</p>
</dd>
<dt><strong>gauss</strong></dt><dd><p>Alias for normal.</p>
</dd>
</dl>
</div></blockquote>
<p>For <em>random</em>, <em>roundrobin</em>, and <em>sequential</em>, a postfix can be appended to
tell fio how many I/Os to issue before switching to a new file. For example,
specifying <code class="docutils literal notranslate"><span class="pre">file_service_type=random:8</span></code> would cause fio to issue
8 I/Os before selecting a new file at random. For the non-uniform
distributions, a floating point postfix can be given to influence how the
distribution is skewed. See <a class="reference internal" href="#cmdoption-arg-random_distribution"><code class="xref std std-option docutils literal notranslate"><span class="pre">random_distribution</span></code></a> for a description
of how that would work.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-ioscheduler">
<span class="sig-name descname"><span class="pre">ioscheduler</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-ioscheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to switch the device hosting the file to the specified I/O scheduler
before running.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-create_serialize">
<span id="cmdoption-arg-create-serialize"></span><span class="sig-name descname"><span class="pre">create_serialize</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-create_serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>If true, serialize the file creation for the jobs.  This may be handy to
avoid interleaving of data files, which may greatly depend on the filesystem
used and even the number of processors in the system.  Default: true.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-create_fsync">
<span id="cmdoption-arg-create-fsync"></span><span class="sig-name descname"><span class="pre">create_fsync</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-create_fsync" title="Permalink to this definition">¶</a></dt>
<dd><p><em class="manpage">fsync(2)</em> the data file after creation. This is the default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-create_on_open">
<span id="cmdoption-arg-create-on-open"></span><span class="sig-name descname"><span class="pre">create_on_open</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-create_on_open" title="Permalink to this definition">¶</a></dt>
<dd><p>If true, don’t pre-create files but allow the job’s open() to create a file
when it’s time to do I/O.  Default: false – pre-create all necessary files
when the job starts.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-create_only">
<span id="cmdoption-arg-create-only"></span><span class="sig-name descname"><span class="pre">create_only</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-create_only" title="Permalink to this definition">¶</a></dt>
<dd><p>If true, fio will only run the setup phase of the job.  If files need to be
laid out or updated on disk, only that will be done – the actual job contents
are not executed.  Default: false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-allow_file_create">
<span id="cmdoption-arg-allow-file-create"></span><span class="sig-name descname"><span class="pre">allow_file_create</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-allow_file_create" title="Permalink to this definition">¶</a></dt>
<dd><p>If true, fio is permitted to create files as part of its workload.  If this
option is false, then fio will error out if
the files it needs to use don’t already exist. Default: true.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-allow_mounted_write">
<span id="cmdoption-arg-allow-mounted-write"></span><span class="sig-name descname"><span class="pre">allow_mounted_write</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-allow_mounted_write" title="Permalink to this definition">¶</a></dt>
<dd><p>If this isn’t set, fio will abort jobs that are destructive (e.g. that write)
to what appears to be a mounted device or partition. This should help catch
creating inadvertently destructive tests, not realizing that the test will
destroy data on the mounted file system. Note that some platforms don’t allow
writing against a mounted device regardless of this option. Default: false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-pre_read">
<span id="cmdoption-arg-pre-read"></span><span class="sig-name descname"><span class="pre">pre_read</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-pre_read" title="Permalink to this definition">¶</a></dt>
<dd><p>If this is given, files will be pre-read into memory before starting the
given I/O operation. This will also clear the <a class="reference internal" href="#cmdoption-arg-invalidate"><code class="xref std std-option docutils literal notranslate"><span class="pre">invalidate</span></code></a> flag,
since it is pointless to pre-read and then drop the cache. This will only
work for I/O engines that are seek-able, since they allow you to read the
same data multiple times. Thus it will not work on non-seekable I/O engines
(e.g. network, splice). Default: false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-unlink">
<span class="sig-name descname"><span class="pre">unlink</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-unlink" title="Permalink to this definition">¶</a></dt>
<dd><p>Unlink the job files when done. Not the default, as repeated runs of that
job would then waste time recreating the file set again and again. Default:
false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-unlink_each_loop">
<span id="cmdoption-arg-unlink-each-loop"></span><span class="sig-name descname"><span class="pre">unlink_each_loop</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-unlink_each_loop" title="Permalink to this definition">¶</a></dt>
<dd><p>Unlink job files after each iteration or loop.  Default: false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-zonemode">
<span class="sig-name descname"><span class="pre">zonemode</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-zonemode" title="Permalink to this definition">¶</a></dt>
<dd><p>Accepted values are:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>none</strong></dt><dd><p>The <a class="reference internal" href="#cmdoption-arg-zonerange"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonerange</span></code></a>, <a class="reference internal" href="#cmdoption-arg-zonesize"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonesize</span></code></a>,
:option <cite>zonecapacity</cite> and option:<cite>zoneskip</cite>
parameters are ignored.</p>
</dd>
<dt><strong>strided</strong></dt><dd><p>I/O happens in a single zone until
<a class="reference internal" href="#cmdoption-arg-zonesize"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonesize</span></code></a> bytes have been transferred.
After that number of bytes has been
transferred processing of the next zone
starts. :option <cite>zonecapacity</cite> is ignored.</p>
</dd>
<dt><strong>zbd</strong></dt><dd><p>Zoned block device mode. I/O happens
sequentially in each zone, even if random I/O
has been selected. Random I/O happens across
all zones instead of being restricted to a
single zone. The <a class="reference internal" href="#cmdoption-arg-zoneskip"><code class="xref std std-option docutils literal notranslate"><span class="pre">zoneskip</span></code></a> parameter
is ignored. <a class="reference internal" href="#cmdoption-arg-zonerange"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonerange</span></code></a> and
<a class="reference internal" href="#cmdoption-arg-zonesize"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonesize</span></code></a> must be identical.
Trim is handled using a zone reset operation.
Trim only considers non-empty sequential write
required and sequential write preferred zones.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-zonerange">
<span class="sig-name descname"><span class="pre">zonerange</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-zonerange" title="Permalink to this definition">¶</a></dt>
<dd><p>Size of a single zone. See also <a class="reference internal" href="#cmdoption-arg-zonesize"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonesize</span></code></a> and
<a class="reference internal" href="#cmdoption-arg-zoneskip"><code class="xref std std-option docutils literal notranslate"><span class="pre">zoneskip</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-zonesize">
<span class="sig-name descname"><span class="pre">zonesize</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-zonesize" title="Permalink to this definition">¶</a></dt>
<dd><p>For <a class="reference internal" href="#cmdoption-arg-zonemode"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonemode</span></code></a> =strided, this is the number of bytes to
transfer before skipping <a class="reference internal" href="#cmdoption-arg-zoneskip"><code class="xref std std-option docutils literal notranslate"><span class="pre">zoneskip</span></code></a> bytes. If this parameter
is smaller than <a class="reference internal" href="#cmdoption-arg-zonerange"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonerange</span></code></a> then only a fraction of each zone
with <a class="reference internal" href="#cmdoption-arg-zonerange"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonerange</span></code></a> bytes will be accessed.  If this parameter is
larger than <a class="reference internal" href="#cmdoption-arg-zonerange"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonerange</span></code></a> then each zone will be accessed
multiple times before skipping to the next zone.</p>
<p>For <a class="reference internal" href="#cmdoption-arg-zonemode"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonemode</span></code></a> =zbd, this is the size of a single zone. The
<a class="reference internal" href="#cmdoption-arg-zonerange"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonerange</span></code></a> parameter is ignored in this mode.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-zonecapacity">
<span class="sig-name descname"><span class="pre">zonecapacity</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-zonecapacity" title="Permalink to this definition">¶</a></dt>
<dd><p>For <a class="reference internal" href="#cmdoption-arg-zonemode"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonemode</span></code></a> =zbd, this defines the capacity of a single zone,
which is the accessible area starting from the zone start address.
This parameter only applies when using <a class="reference internal" href="#cmdoption-arg-zonemode"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonemode</span></code></a> =zbd in
combination with regular block devices. If not specified it defaults to
the zone size. If the target device is a zoned block device, the zone
capacity is obtained from the device information and this option is
ignored.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-zoneskip">
<span class="sig-name descname"><span class="pre">zoneskip</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-zoneskip" title="Permalink to this definition">¶</a></dt>
<dd><p>For <a class="reference internal" href="#cmdoption-arg-zonemode"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonemode</span></code></a> =strided, the number of bytes to skip after
<a class="reference internal" href="#cmdoption-arg-zonesize"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonesize</span></code></a> bytes of data have been transferred. This parameter
must be zero for <a class="reference internal" href="#cmdoption-arg-zonemode"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonemode</span></code></a> =zbd.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-read_beyond_wp">
<span id="cmdoption-arg-read-beyond-wp"></span><span class="sig-name descname"><span class="pre">read_beyond_wp</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-read_beyond_wp" title="Permalink to this definition">¶</a></dt>
<dd><p>This parameter applies to <a class="reference internal" href="#cmdoption-arg-zonemode"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonemode</span></code></a> =zbd only.</p>
<p>Zoned block devices are block devices that consist of multiple zones.
Each zone has a type, e.g. conventional or sequential. A conventional
zone can be written at any offset that is a multiple of the block
size. Sequential zones must be written sequentially. The position at
which a write must occur is called the write pointer. A zoned block
device can be either drive managed, host managed or host aware. For
host managed devices the host must ensure that writes happen
sequentially. Fio recognizes host managed devices and serializes
writes to sequential zones for these devices.</p>
<p>If a read occurs in a sequential zone beyond the write pointer then
the zoned block device will complete the read without reading any data
from the storage medium. Since such reads lead to unrealistically high
bandwidth and IOPS numbers fio only reads beyond the write pointer if
explicitly told to do so. Default: false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-max_open_zones">
<span id="cmdoption-arg-max-open-zones"></span><span class="sig-name descname"><span class="pre">max_open_zones</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-max_open_zones" title="Permalink to this definition">¶</a></dt>
<dd><p>When a zone of a zoned block device is partially written (i.e. not all
sectors of the zone have been written), the zone is in one of three
conditions: ‘implicit open’, ‘explicit open’ or ‘closed’. Zoned block
devices may have a limit called ‘max_open_zones’ (same name as the
parameter) on the total number of zones that can simultaneously be in
the ‘implicit open’ or ‘explicit open’ conditions. Zoned block devices
may have another limit called ‘max_active_zones’, on the total number of
zones that can simultaneously be in the three conditions. The
<a class="reference internal" href="#cmdoption-arg-max_open_zones"><code class="xref std std-option docutils literal notranslate"><span class="pre">max_open_zones</span></code></a> parameter limits the number of zones to which
write commands are issued by all fio jobs, that is, limits the number of
zones that will be in the conditions. When the device has the
max_open_zones limit and does not have the max_active_zones limit, the
<a class="reference internal" href="#cmdoption-arg-max_open_zones"><code class="xref std std-option docutils literal notranslate"><span class="pre">max_open_zones</span></code></a> parameter limits the number of zones in the two
open conditions up to the limit. In this case, fio includes zones in the
two open conditions to the write target zones at fio start. When the
device has both the max_open_zones and the max_active_zones limits, the
<a class="reference internal" href="#cmdoption-arg-max_open_zones"><code class="xref std std-option docutils literal notranslate"><span class="pre">max_open_zones</span></code></a> parameter limits the number of zones in the
three conditions up to the limit. In this case, fio includes zones in
the three conditions to the write target zones at fio start.</p>
<p>This parameter is relevant only if the <a class="reference internal" href="#cmdoption-arg-zonemode"><code class="xref std std-option docutils literal notranslate"><span class="pre">zonemode</span></code></a> =zbd is used.
The default value is always equal to the max_open_zones limit of the
target zoned block device and a value higher than this limit cannot be
specified by users unless the option <a class="reference internal" href="#cmdoption-arg-ignore_zone_limits"><code class="xref std std-option docutils literal notranslate"><span class="pre">ignore_zone_limits</span></code></a> is
specified. When <a class="reference internal" href="#cmdoption-arg-ignore_zone_limits"><code class="xref std std-option docutils literal notranslate"><span class="pre">ignore_zone_limits</span></code></a> is specified or the target
device does not have the max_open_zones limit, <a class="reference internal" href="#cmdoption-arg-max_open_zones"><code class="xref std std-option docutils literal notranslate"><span class="pre">max_open_zones</span></code></a>
can specify 0 to disable any limit on the number of zones that can be
simultaneously written to by all jobs.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-job_max_open_zones">
<span id="cmdoption-arg-job-max-open-zones"></span><span class="sig-name descname"><span class="pre">job_max_open_zones</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-job_max_open_zones" title="Permalink to this definition">¶</a></dt>
<dd><p>In the same manner as <a class="reference internal" href="#cmdoption-arg-max_open_zones"><code class="xref std std-option docutils literal notranslate"><span class="pre">max_open_zones</span></code></a>, limit the number of open
zones per fio job, that is, the number of zones that a single job can
simultaneously write to. A value of zero indicates no limit.
Default: zero.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-ignore_zone_limits">
<span id="cmdoption-arg-ignore-zone-limits"></span><span class="sig-name descname"><span class="pre">ignore_zone_limits</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-ignore_zone_limits" title="Permalink to this definition">¶</a></dt>
<dd><p>If this option is used, fio will ignore the maximum number of open
zones limit of the zoned block device in use, thus allowing the
option <a class="reference internal" href="#cmdoption-arg-max_open_zones"><code class="xref std std-option docutils literal notranslate"><span class="pre">max_open_zones</span></code></a> value to be larger than the device
reported limit. Default: false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-zone_reset_threshold">
<span id="cmdoption-arg-zone-reset-threshold"></span><span class="sig-name descname"><span class="pre">zone_reset_threshold</span></span><span class="sig-prename descclassname"><span class="pre">=float</span></span><a class="headerlink" href="#cmdoption-arg-zone_reset_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>A number between zero and one that indicates the ratio of written bytes
in the zones with write pointers in the IO range to the size of the IO
range. When current ratio is above this ratio, zones are reset
periodically as <a class="reference internal" href="#cmdoption-arg-zone_reset_frequency"><code class="xref std std-option docutils literal notranslate"><span class="pre">zone_reset_frequency</span></code></a> specifies. If there are
multiple jobs when using this option, the IO range for all write jobs
has to be the same.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-zone_reset_frequency">
<span id="cmdoption-arg-zone-reset-frequency"></span><span class="sig-name descname"><span class="pre">zone_reset_frequency</span></span><span class="sig-prename descclassname"><span class="pre">=float</span></span><a class="headerlink" href="#cmdoption-arg-zone_reset_frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>A number between zero and one that indicates how often a zone reset
should be issued if the zone reset threshold has been exceeded. A zone
reset is submitted after each (1 / zone_reset_frequency) write
requests. This and the previous parameter can be used to simulate
garbage collection activity.</p>
</dd></dl>

</section>
<section id="i-o-type">
<h3><span class="section-number">1.13.6. </span>I/O type<a class="headerlink" href="#i-o-type" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-direct">
<span class="sig-name descname"><span class="pre">direct</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-direct" title="Permalink to this definition">¶</a></dt>
<dd><p>If value is true, use non-buffered I/O. This is usually O_DIRECT. Note that
OpenBSD and ZFS on Solaris don’t support direct I/O.  On Windows the synchronous
ioengines don’t support direct I/O.  Default: false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-buffered">
<span class="sig-name descname"><span class="pre">buffered</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-buffered" title="Permalink to this definition">¶</a></dt>
<dd><p>If value is true, use buffered I/O. This is the opposite of the
<a class="reference internal" href="#cmdoption-arg-direct"><code class="xref std std-option docutils literal notranslate"><span class="pre">direct</span></code></a> option. Defaults to true.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-readwrite">
<span id="cmdoption-arg-rw"></span><span class="sig-name descname"><span class="pre">readwrite</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">rw</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-readwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of I/O pattern. Accepted values are:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>read</strong></dt><dd><p>Sequential reads.</p>
</dd>
<dt><strong>write</strong></dt><dd><p>Sequential writes.</p>
</dd>
<dt><strong>trim</strong></dt><dd><p>Sequential trims (Linux block devices and SCSI
character devices only).</p>
</dd>
<dt><strong>randread</strong></dt><dd><p>Random reads.</p>
</dd>
<dt><strong>randwrite</strong></dt><dd><p>Random writes.</p>
</dd>
<dt><strong>randtrim</strong></dt><dd><p>Random trims (Linux block devices and SCSI
character devices only).</p>
</dd>
<dt><strong>rw,readwrite</strong></dt><dd><p>Sequential mixed reads and writes.</p>
</dd>
<dt><strong>randrw</strong></dt><dd><p>Random mixed reads and writes.</p>
</dd>
<dt><strong>trimwrite</strong></dt><dd><p>Sequential trim+write sequences. Blocks will be trimmed first,
then the same blocks will be written to. So if <code class="docutils literal notranslate"><span class="pre">io_size=64K</span></code>
is specified, Fio will trim a total of 64K bytes and also
write 64K bytes on the same trimmed blocks. This behaviour
will be consistent with <code class="docutils literal notranslate"><span class="pre">number_ios</span></code> or other Fio options
limiting the total bytes or number of I/O’s.</p>
</dd>
<dt><strong>randtrimwrite</strong></dt><dd><p>Like trimwrite, but uses random offsets rather
than sequential writes.</p>
</dd>
</dl>
</div></blockquote>
<p>Fio defaults to read if the option is not specified.  For the mixed I/O
types, the default is to split them 50/50.  For certain types of I/O the
result may still be skewed a bit, since the speed may be different.</p>
<p>It is possible to specify the number of I/Os to do before getting a new
offset by appending <code class="docutils literal notranslate"><span class="pre">:&lt;nr&gt;</span></code> to the end of the string given.  For a
random read, it would look like <code class="docutils literal notranslate"><span class="pre">rw=randread:8</span></code> for passing in an offset
modifier with a value of 8. If the suffix is used with a sequential I/O
pattern, then the <em>&lt;nr&gt;</em> value specified will be <strong>added</strong> to the generated
offset for each I/O turning sequential I/O into sequential I/O with holes.
For instance, using <code class="docutils literal notranslate"><span class="pre">rw=write:4k</span></code> will skip 4k for every write.  Also see
the <a class="reference internal" href="#cmdoption-arg-rw_sequencer"><code class="xref std std-option docutils literal notranslate"><span class="pre">rw_sequencer</span></code></a> option.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-rw_sequencer">
<span id="cmdoption-arg-rw-sequencer"></span><span class="sig-name descname"><span class="pre">rw_sequencer</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-rw_sequencer" title="Permalink to this definition">¶</a></dt>
<dd><p>If an offset modifier is given by appending a number to the <code class="docutils literal notranslate"><span class="pre">rw=&lt;str&gt;</span></code>
line, then this option controls how that number modifies the I/O offset
being generated. Accepted values are:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>sequential</strong></dt><dd><p>Generate sequential offset.</p>
</dd>
<dt><strong>identical</strong></dt><dd><p>Generate the same offset.</p>
</dd>
</dl>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">sequential</span></code> is only useful for random I/O, where fio would normally
generate a new random offset for every I/O. If you append e.g. 8 to
randread, i.e. <code class="docutils literal notranslate"><span class="pre">rw=randread:8</span></code> you would get a new random offset for
every 8 I/Os. The result would be a sequence of 8 sequential offsets
with a random starting point. However this behavior may change if a
sequential I/O reaches end of the file. As sequential I/O is already
sequential, setting <code class="docutils literal notranslate"><span class="pre">sequential</span></code> for that would not result in any
difference. <code class="docutils literal notranslate"><span class="pre">identical</span></code> behaves in a similar fashion, except it sends
the same offset 8 number of times before generating a new offset.</p>
<p>Example #1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rw</span><span class="o">=</span><span class="n">randread</span><span class="p">:</span><span class="mi">8</span>
<span class="n">rw_sequencer</span><span class="o">=</span><span class="n">sequential</span>
<span class="n">bs</span><span class="o">=</span><span class="mi">4</span><span class="n">k</span>
</pre></div>
</div>
<p>The generated sequence of offsets will look like this:
4k, 8k, 12k, 16k, 20k, 24k, 28k, 32k, 92k, 96k, 100k, 104k, 108k,
112k, 116k, 120k, 48k, 52k …</p>
<p>Example #2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rw</span><span class="o">=</span><span class="n">randread</span><span class="p">:</span><span class="mi">8</span>
<span class="n">rw_sequencer</span><span class="o">=</span><span class="n">identical</span>
<span class="n">bs</span><span class="o">=</span><span class="mi">4</span><span class="n">k</span>
</pre></div>
</div>
<p>The generated sequence of offsets will look like this:
4k, 4k, 4k, 4k, 4k, 4k, 4k, 4k, 92k, 92k, 92k, 92k, 92k, 92k, 92k, 92k,
48k, 48k, 48k …</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-unified_rw_reporting">
<span id="cmdoption-arg-unified-rw-reporting"></span><span class="sig-name descname"><span class="pre">unified_rw_reporting</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-unified_rw_reporting" title="Permalink to this definition">¶</a></dt>
<dd><p>Fio normally reports statistics on a per data direction basis, meaning that
reads, writes, and trims are accounted and reported separately. This option
determines whether fio reports the results normally, summed together, or as
both options.
Accepted values are:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>none</strong></dt><dd><p>Normal statistics reporting.</p>
</dd>
<dt><strong>mixed</strong></dt><dd><p>Statistics are summed per data direction and reported together.</p>
</dd>
<dt><strong>both</strong></dt><dd><p>Statistics are reported normally, followed by the mixed statistics.</p>
</dd>
<dt><strong>0</strong></dt><dd><p>Backward-compatible alias for <strong>none</strong>.</p>
</dd>
<dt><strong>1</strong></dt><dd><p>Backward-compatible alias for <strong>mixed</strong>.</p>
</dd>
<dt><strong>2</strong></dt><dd><p>Alias for <strong>both</strong>.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-randrepeat">
<span class="sig-name descname"><span class="pre">randrepeat</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-randrepeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Seed all random number generators in a predictable way so the pattern
is repeatable across runs. Default: true.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-allrandrepeat">
<span class="sig-name descname"><span class="pre">allrandrepeat</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-allrandrepeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <a class="reference internal" href="#cmdoption-arg-randrepeat"><code class="xref std std-option docutils literal notranslate"><span class="pre">randrepeat</span></code></a>. Default: true.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-randseed">
<span class="sig-name descname"><span class="pre">randseed</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-randseed" title="Permalink to this definition">¶</a></dt>
<dd><p>Seed the random number generators based on this seed value, to be able to
control what sequence of output is being generated.  If not set, the random
sequence depends on the <a class="reference internal" href="#cmdoption-arg-randrepeat"><code class="xref std std-option docutils literal notranslate"><span class="pre">randrepeat</span></code></a> setting.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-fallocate">
<span class="sig-name descname"><span class="pre">fallocate</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-fallocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether pre-allocation is performed when laying down files.
Accepted values are:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>none</strong></dt><dd><p>Do not pre-allocate space.</p>
</dd>
<dt><strong>native</strong></dt><dd><p>Use a platform’s native pre-allocation call but fall back to
<strong>none</strong> behavior if it fails/is not implemented.</p>
</dd>
<dt><strong>posix</strong></dt><dd><p>Pre-allocate via <em class="manpage">posix_fallocate(3)</em>.</p>
</dd>
<dt><strong>keep</strong></dt><dd><p>Pre-allocate via <em class="manpage">fallocate(2)</em> with
FALLOC_FL_KEEP_SIZE set.</p>
</dd>
<dt><strong>truncate</strong></dt><dd><p>Extend file to final size via <em class="manpage">ftruncate(2)</em>
instead of allocating.</p>
</dd>
<dt><strong>0</strong></dt><dd><p>Backward-compatible alias for <strong>none</strong>.</p>
</dd>
<dt><strong>1</strong></dt><dd><p>Backward-compatible alias for <strong>posix</strong>.</p>
</dd>
</dl>
</div></blockquote>
<p>May not be available on all supported platforms. <strong>keep</strong> is only available
on Linux. If using ZFS on Solaris this cannot be set to <strong>posix</strong>
because ZFS doesn’t support pre-allocation. Default: <strong>native</strong> if any
pre-allocation methods except <strong>truncate</strong> are available, <strong>none</strong> if not.</p>
<p>Note that using <strong>truncate</strong> on Windows will interact surprisingly
with non-sequential write patterns. When writing to a file that has
been extended by setting the end-of-file information, Windows will
backfill the unwritten portion of the file up to that offset with
zeroes before issuing the new write. This means that a single small
write to the end of an extended file will stall until the entire
file has been filled with zeroes.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-fadvise_hint">
<span id="cmdoption-arg-fadvise-hint"></span><span class="sig-name descname"><span class="pre">fadvise_hint</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-fadvise_hint" title="Permalink to this definition">¶</a></dt>
<dd><p>Use <em class="manpage">posix_fadvise(2)</em> or <em class="manpage">posix_fadvise(2)</em> to
advise the kernel on what I/O patterns are likely to be issued.
Accepted values are:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>0</strong></dt><dd><p>Backwards-compatible hint for “no hint”.</p>
</dd>
<dt><strong>1</strong></dt><dd><p>Backwards compatible hint for “advise with fio workload type”. This
uses <strong>FADV_RANDOM</strong> for a random workload, and <strong>FADV_SEQUENTIAL</strong>
for a sequential workload.</p>
</dd>
<dt><strong>sequential</strong></dt><dd><p>Advise using <strong>FADV_SEQUENTIAL</strong>.</p>
</dd>
<dt><strong>random</strong></dt><dd><p>Advise using <strong>FADV_RANDOM</strong>.</p>
</dd>
<dt><strong>noreuse</strong></dt><dd><p>Advise using <strong>FADV_NOREUSE</strong>. This may be a no-op on older Linux
kernels. Since Linux 6.3, it provides a hint to the LRU algorithm.
See the <em class="manpage">posix_fadvise(2)</em> man page.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-write_hint">
<span id="cmdoption-arg-write-hint"></span><span class="sig-name descname"><span class="pre">write_hint</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-write_hint" title="Permalink to this definition">¶</a></dt>
<dd><p>Use <em class="manpage">fcntl(2)</em> to advise the kernel what life time to expect
from a write. Only supported on Linux, as of version 4.13. Accepted
values are:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>none</strong></dt><dd><p>No particular life time associated with this file.</p>
</dd>
<dt><strong>short</strong></dt><dd><p>Data written to this file has a short life time.</p>
</dd>
<dt><strong>medium</strong></dt><dd><p>Data written to this file has a medium life time.</p>
</dd>
<dt><strong>long</strong></dt><dd><p>Data written to this file has a long life time.</p>
</dd>
<dt><strong>extreme</strong></dt><dd><p>Data written to this file has a very long life time.</p>
</dd>
</dl>
</div></blockquote>
<p>The values are all relative to each other, and no absolute meaning
should be associated with them.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-offset">
<span class="sig-name descname"><span class="pre">offset</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Start I/O at the provided offset in the file, given as either a fixed size in
bytes, zones or a percentage. If a percentage is given, the generated offset will be
aligned to the minimum <code class="docutils literal notranslate"><span class="pre">blocksize</span></code> or to the value of <code class="docutils literal notranslate"><span class="pre">offset_align</span></code> if
provided. Data before the given offset will not be touched. This
effectively caps the file size at <cite>real_size - offset</cite>. Can be combined with
<a class="reference internal" href="#cmdoption-arg-size"><code class="xref std std-option docutils literal notranslate"><span class="pre">size</span></code></a> to constrain the start and end range of the I/O workload.
A percentage can be specified by a number between 1 and 100 followed by ‘%’,
for example, <code class="docutils literal notranslate"><span class="pre">offset=20%</span></code> to specify 20%. In ZBD mode, value can be set as
number of zones using ‘z’.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-offset_align">
<span id="cmdoption-arg-offset-align"></span><span class="sig-name descname"><span class="pre">offset_align</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-offset_align" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to non-zero value, the byte offset generated by a percentage <code class="docutils literal notranslate"><span class="pre">offset</span></code>
is aligned upwards to this value. Defaults to 0 meaning that a percentage
offset is aligned to the minimum block size.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-offset_increment">
<span id="cmdoption-arg-offset-increment"></span><span class="sig-name descname"><span class="pre">offset_increment</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-offset_increment" title="Permalink to this definition">¶</a></dt>
<dd><p>If this is provided, then the real offset becomes <cite>offset + offset_increment
* thread_number</cite>, where the thread number is a counter that starts at 0 and
is incremented for each sub-job (i.e. when <a class="reference internal" href="#cmdoption-arg-numjobs"><code class="xref std std-option docutils literal notranslate"><span class="pre">numjobs</span></code></a> option is
specified). This option is useful if there are several jobs which are
intended to operate on a file in parallel disjoint segments, with even
spacing between the starting points. Percentages can be used for this option.
If a percentage is given, the generated offset will be aligned to the minimum
<code class="docutils literal notranslate"><span class="pre">blocksize</span></code> or to the value of <code class="docutils literal notranslate"><span class="pre">offset_align</span></code> if provided. In ZBD mode, value can
also be set as number of zones using ‘z’.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-number_ios">
<span id="cmdoption-arg-number-ios"></span><span class="sig-name descname"><span class="pre">number_ios</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-number_ios" title="Permalink to this definition">¶</a></dt>
<dd><p>Fio will normally perform I/Os until it has exhausted the size of the region
set by <a class="reference internal" href="#cmdoption-arg-size"><code class="xref std std-option docutils literal notranslate"><span class="pre">size</span></code></a>, or if it exhaust the allocated time (or hits an error
condition). With this setting, the range/size can be set independently of
the number of I/Os to perform. When fio reaches this number, it will exit
normally and report status. Note that this does not extend the amount of I/O
that will be done, it will only stop fio if this condition is met before
other end-of-job criteria.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-fsync">
<span class="sig-name descname"><span class="pre">fsync</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-fsync" title="Permalink to this definition">¶</a></dt>
<dd><p>If writing to a file, issue an <em class="manpage">fsync(2)</em> (or its equivalent) of
the dirty data for every number of blocks given. For example, if you give 32
as a parameter, fio will sync the file after every 32 writes issued. If fio is
using non-buffered I/O, we may not sync the file. The exception is the sg
I/O engine, which synchronizes the disk cache anyway. Defaults to 0, which
means fio does not periodically issue and wait for a sync to complete. Also
see <a class="reference internal" href="#cmdoption-arg-end_fsync"><code class="xref std std-option docutils literal notranslate"><span class="pre">end_fsync</span></code></a> and <a class="reference internal" href="#cmdoption-arg-fsync_on_close"><code class="xref std std-option docutils literal notranslate"><span class="pre">fsync_on_close</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-fdatasync">
<span class="sig-name descname"><span class="pre">fdatasync</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-fdatasync" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#cmdoption-arg-fsync"><code class="xref std std-option docutils literal notranslate"><span class="pre">fsync</span></code></a> but uses <em class="manpage">fdatasync(2)</em> to only sync data and
not metadata blocks. In Windows, DragonFlyBSD or OSX there is no
<em class="manpage">fdatasync(2)</em> so this falls back to using <em class="manpage">fsync(2)</em>.
Defaults to 0, which means fio does not periodically issue and wait for a
data-only sync to complete.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-write_barrier">
<span id="cmdoption-arg-write-barrier"></span><span class="sig-name descname"><span class="pre">write_barrier</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-write_barrier" title="Permalink to this definition">¶</a></dt>
<dd><p>Make every <cite>N-th</cite> write a barrier write.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-sync_file_range">
<span id="cmdoption-arg-sync-file-range"></span><span class="sig-name descname"><span class="pre">sync_file_range</span></span><span class="sig-prename descclassname"><span class="pre">=str:int</span></span><a class="headerlink" href="#cmdoption-arg-sync_file_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Use <em class="manpage">sync_file_range(2)</em> for every <cite>int</cite> number of write
operations. Fio will track range of writes that have happened since the last
<em class="manpage">sync_file_range(2)</em> call. <cite>str</cite> can currently be one or more of:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>wait_before</strong></dt><dd><p>SYNC_FILE_RANGE_WAIT_BEFORE</p>
</dd>
<dt><strong>write</strong></dt><dd><p>SYNC_FILE_RANGE_WRITE</p>
</dd>
<dt><strong>wait_after</strong></dt><dd><p>SYNC_FILE_RANGE_WAIT_AFTER</p>
</dd>
</dl>
</div></blockquote>
<p>So if you do <code class="docutils literal notranslate"><span class="pre">sync_file_range=wait_before,write:8</span></code>, fio would use
<code class="docutils literal notranslate"><span class="pre">SYNC_FILE_RANGE_WAIT_BEFORE</span> <span class="pre">|</span> <span class="pre">SYNC_FILE_RANGE_WRITE</span></code> for every 8
writes. Also see the <em class="manpage">sync_file_range(2)</em> man page.  This option is
Linux specific.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-overwrite">
<span class="sig-name descname"><span class="pre">overwrite</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-overwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>If true, writes to a file will always overwrite existing data. If the file
doesn’t already exist, it will be created before the write phase begins. If
the file exists and is large enough for the specified write phase, nothing
will be done. Default: false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-end_fsync">
<span id="cmdoption-arg-end-fsync"></span><span class="sig-name descname"><span class="pre">end_fsync</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-end_fsync" title="Permalink to this definition">¶</a></dt>
<dd><p>If true, <em class="manpage">fsync(2)</em> file contents when a write stage has completed.
Default: false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-fsync_on_close">
<span id="cmdoption-arg-fsync-on-close"></span><span class="sig-name descname"><span class="pre">fsync_on_close</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-fsync_on_close" title="Permalink to this definition">¶</a></dt>
<dd><p>If true, fio will <em class="manpage">fsync(2)</em> a dirty file on close.  This differs
from <a class="reference internal" href="#cmdoption-arg-end_fsync"><code class="xref std std-option docutils literal notranslate"><span class="pre">end_fsync</span></code></a> in that it will happen on every file close, not
just at the end of the job.  Default: false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-rwmixread">
<span class="sig-name descname"><span class="pre">rwmixread</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-rwmixread" title="Permalink to this definition">¶</a></dt>
<dd><p>Percentage of a mixed workload that should be reads. Default: 50.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-rwmixwrite">
<span class="sig-name descname"><span class="pre">rwmixwrite</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-rwmixwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Percentage of a mixed workload that should be writes. If both
<a class="reference internal" href="#cmdoption-arg-rwmixread"><code class="xref std std-option docutils literal notranslate"><span class="pre">rwmixread</span></code></a> and <a class="reference internal" href="#cmdoption-arg-rwmixwrite"><code class="xref std std-option docutils literal notranslate"><span class="pre">rwmixwrite</span></code></a> is given and the values do not
add up to 100%, the latter of the two will be used to override the
first. This may interfere with a given rate setting, if fio is asked to
limit reads or writes to a certain rate.  If that is the case, then the
distribution may be skewed. Default: 50.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-random_distribution">
<span id="cmdoption-arg-random-distribution"></span><span class="sig-name descname"><span class="pre">random_distribution</span></span><span class="sig-prename descclassname"><span class="pre">=str:float[:float][,str:float][,str:float]</span></span><a class="headerlink" href="#cmdoption-arg-random_distribution" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, fio will use a completely uniform random distribution when asked
to perform random I/O. Sometimes it is useful to skew the distribution in
specific ways, ensuring that some parts of the data is more hot than others.
fio includes the following distribution models:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>random</strong></dt><dd><p>Uniform random distribution</p>
</dd>
<dt><strong>zipf</strong></dt><dd><p>Zipf distribution</p>
</dd>
<dt><strong>pareto</strong></dt><dd><p>Pareto distribution</p>
</dd>
<dt><strong>normal</strong></dt><dd><p>Normal (Gaussian) distribution</p>
</dd>
<dt><strong>zoned</strong></dt><dd><p>Zoned random distribution</p>
</dd>
<dt><strong>zoned_abs</strong></dt><dd><p>Zone absolute random distribution</p>
</dd>
</dl>
</div></blockquote>
<p>When using a <strong>zipf</strong> or <strong>pareto</strong> distribution, an input value is also
needed to define the access pattern. For <strong>zipf</strong>, this is the <cite>Zipf
theta</cite>. For <strong>pareto</strong>, it’s the <cite>Pareto power</cite>. Fio includes a test
program, <strong class="command">fio-genzipf</strong>, that can be used visualize what the given input
values will yield in terms of hit rates.  If you wanted to use <strong>zipf</strong> with
a <cite>theta</cite> of 1.2, you would use <code class="docutils literal notranslate"><span class="pre">random_distribution=zipf:1.2</span></code> as the
option. If a non-uniform model is used, fio will disable use of the random
map. For the <strong>normal</strong> distribution, a normal (Gaussian) deviation is
supplied as a value between 0 and 100.</p>
<p>The second, optional float is allowed for <strong>pareto</strong>, <strong>zipf</strong> and <strong>normal</strong> distributions.
It allows one to set base of distribution in non-default place, giving more control
over most probable outcome. This value is in range [0-1] which maps linearly to
range of possible random values.
Defaults are: random for <strong>pareto</strong> and <strong>zipf</strong>, and 0.5 for <strong>normal</strong>.
If you wanted to use <strong>zipf</strong> with a <cite>theta</cite> of 1.2 centered on 1/4 of allowed value range,
you would use <code class="docutils literal notranslate"><span class="pre">random_distribution=zipf:1.2:0.25</span></code>.</p>
<p>For a <strong>zoned</strong> distribution, fio supports specifying percentages of I/O
access that should fall within what range of the file or device. For
example, given a criteria of:</p>
<blockquote>
<div><ul class="simple">
<li><p>60% of accesses should be to the first 10%</p></li>
<li><p>30% of accesses should be to the next 20%</p></li>
<li><p>8% of accesses should be to the next 30%</p></li>
<li><p>2% of accesses should be to the next 40%</p></li>
</ul>
</div></blockquote>
<p>we can define that through zoning of the random accesses. For the above
example, the user would do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">random_distribution</span><span class="o">=</span><span class="n">zoned</span><span class="p">:</span><span class="mi">60</span><span class="o">/</span><span class="mi">10</span><span class="p">:</span><span class="mi">30</span><span class="o">/</span><span class="mi">20</span><span class="p">:</span><span class="mi">8</span><span class="o">/</span><span class="mi">30</span><span class="p">:</span><span class="mi">2</span><span class="o">/</span><span class="mi">40</span>
</pre></div>
</div>
<p>A <strong>zoned_abs</strong> distribution works exactly like the <strong>zoned</strong>, except
that it takes absolute sizes. For example, let’s say you wanted to
define access according to the following criteria:</p>
<blockquote>
<div><ul class="simple">
<li><p>60% of accesses should be to the first 20G</p></li>
<li><p>30% of accesses should be to the next 100G</p></li>
<li><p>10% of accesses should be to the next 500G</p></li>
</ul>
</div></blockquote>
<p>we can define an absolute zoning distribution with:</p>
<blockquote>
<div><p>random_distribution=zoned_abs=60/20G:30/100G:10/500g</p>
</div></blockquote>
<p>For both <strong>zoned</strong> and <strong>zoned_abs</strong>, fio supports defining up to
256 separate zones.</p>
<p>Similarly to how <a class="reference internal" href="#cmdoption-arg-bssplit"><code class="xref std std-option docutils literal notranslate"><span class="pre">bssplit</span></code></a> works for setting ranges and
percentages of block sizes. Like <a class="reference internal" href="#cmdoption-arg-bssplit"><code class="xref std std-option docutils literal notranslate"><span class="pre">bssplit</span></code></a>, it’s possible to
specify separate zones for reads, writes, and trims. If just one set
is given, it’ll apply to all of them. This goes for both <strong>zoned</strong>
<strong>zoned_abs</strong> distributions.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-percentage_random">
<span id="cmdoption-arg-percentage-random"></span><span class="sig-name descname"><span class="pre">percentage_random</span></span><span class="sig-prename descclassname"><span class="pre">=int[,int][,int]</span></span><a class="headerlink" href="#cmdoption-arg-percentage_random" title="Permalink to this definition">¶</a></dt>
<dd><p>For a random workload, set how big a percentage should be random. This
defaults to 100%, in which case the workload is fully random. It can be set
from anywhere from 0 to 100.  Setting it to 0 would make the workload fully
sequential. Any setting in between will result in a random mix of sequential
and random I/O, at the given percentages.  Comma-separated values may be
specified for reads, writes, and trims as described in <a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-norandommap">
<span class="sig-name descname"><span class="pre">norandommap</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-norandommap" title="Permalink to this definition">¶</a></dt>
<dd><p>Normally fio will cover every block of the file when doing random I/O. If
this option is given, fio will just get a new random offset without looking
at past I/O history. This means that some blocks may not be read or written,
and that some blocks may be read/written more than once. If this option is
used with <a class="reference internal" href="#cmdoption-arg-verify"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify</span></code></a> and multiple blocksizes (via <a class="reference internal" href="#cmdoption-arg-blocksize_range"><code class="xref std std-option docutils literal notranslate"><span class="pre">bsrange</span></code></a>),
only intact blocks are verified, i.e., partially-overwritten blocks are
ignored.  With an async I/O engine and an I/O depth &gt; 1, it is possible for
the same block to be overwritten, which can cause verification errors.  Either
do not use norandommap in this case, or also use the lfsr random generator.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-softrandommap">
<span class="sig-name descname"><span class="pre">softrandommap</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-softrandommap" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#cmdoption-arg-norandommap"><code class="xref std std-option docutils literal notranslate"><span class="pre">norandommap</span></code></a>. If fio runs with the random block map enabled and
it fails to allocate the map, if this option is set it will continue without
a random block map. As coverage will not be as complete as with random maps,
this option is disabled by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-random_generator">
<span id="cmdoption-arg-random-generator"></span><span class="sig-name descname"><span class="pre">random_generator</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-random_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Fio supports the following engines for generating I/O offsets for random I/O:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>tausworthe</strong></dt><dd><p>Strong 2^88 cycle random number generator.</p>
</dd>
<dt><strong>lfsr</strong></dt><dd><p>Linear feedback shift register generator.</p>
</dd>
<dt><strong>tausworthe64</strong></dt><dd><p>Strong 64-bit 2^258 cycle random number generator.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>tausworthe</strong> is a strong random number generator, but it requires tracking
on the side if we want to ensure that blocks are only read or written
once. <strong>lfsr</strong> guarantees that we never generate the same offset twice, and
it’s also less computationally expensive. It’s not a true random generator,
however, though for I/O purposes it’s typically good enough. <strong>lfsr</strong> only
works with single block sizes, not with workloads that use multiple block
sizes. If used with such a workload, fio may read or write some blocks
multiple times. The default value is <strong>tausworthe</strong>, unless the required
space exceeds 2^32 blocks. If it does, then <strong>tausworthe64</strong> is
selected automatically.</p>
</dd></dl>

</section>
<section id="block-size">
<h3><span class="section-number">1.13.7. </span>Block size<a class="headerlink" href="#block-size" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-blocksize">
<span id="cmdoption-arg-bs"></span><span class="sig-name descname"><span class="pre">blocksize</span></span><span class="sig-prename descclassname"><span class="pre">=int[,int][,int]</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">bs</span></span><span class="sig-prename descclassname"><span class="pre">=int[,int][,int]</span></span><a class="headerlink" href="#cmdoption-arg-blocksize" title="Permalink to this definition">¶</a></dt>
<dd><p>The block size in bytes used for I/O units. Default: 4096.  A single value
applies to reads, writes, and trims.  Comma-separated values may be
specified for reads, writes, and trims.  A value not terminated in a comma
applies to subsequent types.</p>
<p>Examples:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>bs=256k</strong></dt><dd><p>means 256k for reads, writes and trims.</p>
</dd>
<dt><strong>bs=8k,32k</strong></dt><dd><p>means 8k for reads, 32k for writes and trims.</p>
</dd>
<dt><strong>bs=8k,32k,</strong></dt><dd><p>means 8k for reads, 32k for writes, and default for trims.</p>
</dd>
<dt><strong>bs=,8k</strong></dt><dd><p>means default for reads, 8k for writes and trims.</p>
</dd>
<dt><strong>bs=,8k,</strong></dt><dd><p>means default for reads, 8k for writes, and default for trims.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-blocksize_range">
<span id="cmdoption-arg-blocksize-range"></span><span id="cmdoption-arg-bsrange"></span><span class="sig-name descname"><span class="pre">blocksize_range</span></span><span class="sig-prename descclassname"><span class="pre">=irange[,irange][,irange]</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">bsrange</span></span><span class="sig-prename descclassname"><span class="pre">=irange[,irange][,irange]</span></span><a class="headerlink" href="#cmdoption-arg-blocksize_range" title="Permalink to this definition">¶</a></dt>
<dd><p>A range of block sizes in bytes for I/O units.  The issued I/O unit will
always be a multiple of the minimum size, unless
<a class="reference internal" href="#cmdoption-arg-blocksize_unaligned"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize_unaligned</span></code></a> is set.</p>
<p>Comma-separated ranges may be specified for reads, writes, and trims as
described in <a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize</span></code></a>.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">bsrange=1k-4k,2k-8k</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-bssplit">
<span class="sig-name descname"><span class="pre">bssplit</span></span><span class="sig-prename descclassname"><span class="pre">=str[,str][,str]</span></span><a class="headerlink" href="#cmdoption-arg-bssplit" title="Permalink to this definition">¶</a></dt>
<dd><p>Sometimes you want even finer grained control of the block sizes
issued, not just an even split between them.  This option allows you to
weight various block sizes, so that you are able to define a specific
amount of block sizes issued. The format for this option is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bssplit</span><span class="o">=</span><span class="n">blocksize</span><span class="o">/</span><span class="n">percentage</span><span class="p">:</span><span class="n">blocksize</span><span class="o">/</span><span class="n">percentage</span>
</pre></div>
</div>
<p>for as many block sizes as needed. So if you want to define a workload
that has 50% 64k blocks, 10% 4k blocks, and 40% 32k blocks, you would
write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bssplit</span><span class="o">=</span><span class="mi">4</span><span class="n">k</span><span class="o">/</span><span class="mi">10</span><span class="p">:</span><span class="mi">64</span><span class="n">k</span><span class="o">/</span><span class="mi">50</span><span class="p">:</span><span class="mi">32</span><span class="n">k</span><span class="o">/</span><span class="mi">40</span>
</pre></div>
</div>
<p>Ordering does not matter. If the percentage is left blank, fio will
fill in the remaining values evenly. So a bssplit option like this one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bssplit</span><span class="o">=</span><span class="mi">4</span><span class="n">k</span><span class="o">/</span><span class="mi">50</span><span class="p">:</span><span class="mi">1</span><span class="n">k</span><span class="o">/</span><span class="p">:</span><span class="mi">32</span><span class="n">k</span><span class="o">/</span>
</pre></div>
</div>
<p>would have 50% 4k ios, and 25% 1k and 32k ios. The percentages always
add up to 100, if bssplit is given a range that adds up to more, it
will error out.</p>
<p>Comma-separated values may be specified for reads, writes, and trims as
described in <a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize</span></code></a>.</p>
<p>If you want a workload that has 50% 2k reads and 50% 4k reads, while
having 90% 4k writes and 10% 8k writes, you would specify:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bssplit</span><span class="o">=</span><span class="mi">2</span><span class="n">k</span><span class="o">/</span><span class="mi">50</span><span class="p">:</span><span class="mi">4</span><span class="n">k</span><span class="o">/</span><span class="mi">50</span><span class="p">,</span><span class="mi">4</span><span class="n">k</span><span class="o">/</span><span class="mi">90</span><span class="p">:</span><span class="mi">8</span><span class="n">k</span><span class="o">/</span><span class="mi">10</span>
</pre></div>
</div>
<p>Fio supports defining up to 64 different weights for each data
direction.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-blocksize_unaligned">
<span id="cmdoption-arg-blocksize-unaligned"></span><span id="cmdoption-arg-bs_unaligned"></span><span id="cmdoption-arg-bs-unaligned"></span><span class="sig-name descname"><span class="pre">blocksize_unaligned</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">bs_unaligned</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-blocksize_unaligned" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, fio will issue I/O units with any size within
<a class="reference internal" href="#cmdoption-arg-blocksize_range"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize_range</span></code></a>, not just multiples of the minimum size.  This
typically won’t work with direct I/O, as that normally requires sector
alignment.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-bs_is_seq_rand">
<span id="cmdoption-arg-bs-is-seq-rand"></span><span class="sig-name descname"><span class="pre">bs_is_seq_rand</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-bs_is_seq_rand" title="Permalink to this definition">¶</a></dt>
<dd><p>If this option is set, fio will use the normal read,write blocksize settings
as sequential,random blocksize settings instead. Any random read or write
will use the WRITE blocksize settings, and any sequential read or write will
use the READ blocksize settings.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-blockalign">
<span id="cmdoption-arg-ba"></span><span class="sig-name descname"><span class="pre">blockalign</span></span><span class="sig-prename descclassname"><span class="pre">=int[,int][,int]</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">ba</span></span><span class="sig-prename descclassname"><span class="pre">=int[,int][,int]</span></span><a class="headerlink" href="#cmdoption-arg-blockalign" title="Permalink to this definition">¶</a></dt>
<dd><p>Boundary to which fio will align random I/O units.  Default:
<a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize</span></code></a>.  Minimum alignment is typically 512b for using direct
I/O, though it usually depends on the hardware block size. This option is
mutually exclusive with using a random map for files, so it will turn off
that option.  Comma-separated values may be specified for reads, writes, and
trims as described in <a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize</span></code></a>.</p>
</dd></dl>

</section>
<section id="buffers-and-memory">
<h3><span class="section-number">1.13.8. </span>Buffers and memory<a class="headerlink" href="#buffers-and-memory" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-zero_buffers">
<span id="cmdoption-arg-zero-buffers"></span><span class="sig-name descname"><span class="pre">zero_buffers</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-zero_buffers" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize buffers with all zeros. Default: fill buffers with random data.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-refill_buffers">
<span id="cmdoption-arg-refill-buffers"></span><span class="sig-name descname"><span class="pre">refill_buffers</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-refill_buffers" title="Permalink to this definition">¶</a></dt>
<dd><p>If this option is given, fio will refill the I/O buffers on every
submit. Only makes sense if <a class="reference internal" href="#cmdoption-arg-zero_buffers"><code class="xref std std-option docutils literal notranslate"><span class="pre">zero_buffers</span></code></a> isn’t specified,
naturally. Defaults to being unset i.e., the buffer is only filled at
init time and the data in it is reused when possible but if any of
<a class="reference internal" href="#cmdoption-arg-verify"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify</span></code></a>, <a class="reference internal" href="#cmdoption-arg-buffer_compress_percentage"><code class="xref std std-option docutils literal notranslate"><span class="pre">buffer_compress_percentage</span></code></a> or
<a class="reference internal" href="#cmdoption-arg-dedupe_percentage"><code class="xref std std-option docutils literal notranslate"><span class="pre">dedupe_percentage</span></code></a> are enabled then <cite>refill_buffers</cite> is also
automatically enabled.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-scramble_buffers">
<span id="cmdoption-arg-scramble-buffers"></span><span class="sig-name descname"><span class="pre">scramble_buffers</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-scramble_buffers" title="Permalink to this definition">¶</a></dt>
<dd><p>If <a class="reference internal" href="#cmdoption-arg-refill_buffers"><code class="xref std std-option docutils literal notranslate"><span class="pre">refill_buffers</span></code></a> is too costly and the target is using data
deduplication, then setting this option will slightly modify the I/O buffer
contents to defeat normal de-dupe attempts. This is not enough to defeat
more clever block compression attempts, but it will stop naive dedupe of
blocks. Default: true.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-buffer_compress_percentage">
<span id="cmdoption-arg-buffer-compress-percentage"></span><span class="sig-name descname"><span class="pre">buffer_compress_percentage</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-buffer_compress_percentage" title="Permalink to this definition">¶</a></dt>
<dd><p>If this is set, then fio will attempt to provide I/O buffer content
(on WRITEs) that compresses to the specified level. Fio does this by
providing a mix of random data followed by fixed pattern data. The
fixed pattern is either zeros, or the pattern specified by
<a class="reference internal" href="#cmdoption-arg-buffer_pattern"><code class="xref std std-option docutils literal notranslate"><span class="pre">buffer_pattern</span></code></a>. If the <cite>buffer_pattern</cite> option is used, it
might skew the compression ratio slightly. Setting
<cite>buffer_compress_percentage</cite> to a value other than 100 will also
enable <a class="reference internal" href="#cmdoption-arg-refill_buffers"><code class="xref std std-option docutils literal notranslate"><span class="pre">refill_buffers</span></code></a> in order to reduce the likelihood that
adjacent blocks are so similar that they over compress when seen
together. See <a class="reference internal" href="#cmdoption-arg-buffer_compress_chunk"><code class="xref std std-option docutils literal notranslate"><span class="pre">buffer_compress_chunk</span></code></a> for how to set a finer or
coarser granularity for the random/fixed data region. Defaults to unset
i.e., buffer data will not adhere to any compression level.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-buffer_compress_chunk">
<span id="cmdoption-arg-buffer-compress-chunk"></span><span class="sig-name descname"><span class="pre">buffer_compress_chunk</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-buffer_compress_chunk" title="Permalink to this definition">¶</a></dt>
<dd><p>This setting allows fio to manage how big the random/fixed data region
is when using <a class="reference internal" href="#cmdoption-arg-buffer_compress_percentage"><code class="xref std std-option docutils literal notranslate"><span class="pre">buffer_compress_percentage</span></code></a>. When
<cite>buffer_compress_chunk</cite> is set to some non-zero value smaller than the
block size, fio can repeat the random/fixed region throughout the I/O
buffer at the specified interval (which particularly useful when
bigger block sizes are used for a job). When set to 0, fio will use a
chunk size that matches the block size resulting in a single
random/fixed region within the I/O buffer. Defaults to 512. When the
unit is omitted, the value is interpreted in bytes.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-buffer_pattern">
<span id="cmdoption-arg-buffer-pattern"></span><span class="sig-name descname"><span class="pre">buffer_pattern</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-buffer_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, fio will fill the I/O buffers with this pattern or with the contents
of a file. If not set, the contents of I/O buffers are defined by the other
options related to buffer contents. The setting can be any pattern of bytes,
and can be prefixed with 0x for hex values. It may also be a string, where
the string must then be wrapped with <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>. Or it may also be a filename,
where the filename must be wrapped with <code class="docutils literal notranslate"><span class="pre">''</span></code> in which case the file is
opened and read. Note that not all the file contents will be read if that
would cause the buffers to overflow. So, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">buffer_pattern</span><span class="o">=</span><span class="s1">&#39;filename&#39;</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">buffer_pattern</span><span class="o">=</span><span class="s2">&quot;abcd&quot;</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">buffer_pattern</span><span class="o">=-</span><span class="mi">12</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">buffer_pattern</span><span class="o">=</span><span class="mh">0xdeadface</span>
</pre></div>
</div>
<p>Also you can combine everything together in any order:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">buffer_pattern</span><span class="o">=</span><span class="mh">0xdeadface</span><span class="s2">&quot;abcd&quot;</span><span class="o">-</span><span class="mi">12</span><span class="s1">&#39;filename&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-dedupe_percentage">
<span id="cmdoption-arg-dedupe-percentage"></span><span class="sig-name descname"><span class="pre">dedupe_percentage</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-dedupe_percentage" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, fio will generate this percentage of identical buffers when
writing. These buffers will be naturally dedupable. The contents of the
buffers depend on what other buffer compression settings have been set. It’s
possible to have the individual buffers either fully compressible, or not at
all – this option only controls the distribution of unique buffers. Setting
this option will also enable <a class="reference internal" href="#cmdoption-arg-refill_buffers"><code class="xref std std-option docutils literal notranslate"><span class="pre">refill_buffers</span></code></a> to prevent every buffer
being identical.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-dedupe_mode">
<span id="cmdoption-arg-dedupe-mode"></span><span class="sig-name descname"><span class="pre">dedupe_mode</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-dedupe_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">dedupe_percentage=&lt;int&gt;</span></code> is given, then this option controls how fio
generates the dedupe buffers.</p>
<blockquote>
<div><dl class="simple">
<dt><strong>repeat</strong></dt><dd><p>Generate dedupe buffers by repeating previous writes</p>
</dd>
<dt><strong>working_set</strong></dt><dd><p>Generate dedupe buffers from working set</p>
</dd>
</dl>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">repeat</span></code> is the default option for fio. Dedupe buffers are generated
by repeating previous unique write.</p>
<p><code class="docutils literal notranslate"><span class="pre">working_set</span></code> is a more realistic workload.
With <code class="docutils literal notranslate"><span class="pre">working_set</span></code>, <code class="docutils literal notranslate"><span class="pre">dedupe_working_set_percentage=&lt;int&gt;</span></code> should be provided.
Given that, fio will use the initial unique write buffers as its working set.
Upon deciding to dedupe, fio will randomly choose a buffer from the working set.
Note that by using <code class="docutils literal notranslate"><span class="pre">working_set</span></code> the dedupe percentage will converge
to the desired over time while <code class="docutils literal notranslate"><span class="pre">repeat</span></code> maintains the desired percentage
throughout the job.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-dedupe_working_set_percentage">
<span id="cmdoption-arg-dedupe-working-set-percentage"></span><span class="sig-name descname"><span class="pre">dedupe_working_set_percentage</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-dedupe_working_set_percentage" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">dedupe_mode=&lt;str&gt;</span></code> is set to <code class="docutils literal notranslate"><span class="pre">working_set</span></code>, then this controls
the percentage of size of the file or device used as the buffers
fio will choose to generate the dedupe buffers from</p>
<p>Note that size needs to be explicitly provided and only 1 file per
job is supported</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-dedupe_global">
<span id="cmdoption-arg-dedupe-global"></span><span class="sig-name descname"><span class="pre">dedupe_global</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-dedupe_global" title="Permalink to this definition">¶</a></dt>
<dd><p>This controls whether the deduplication buffers will be shared amongst
all jobs that have this option set. The buffers are spread evenly between
participating jobs.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-invalidate">
<span class="sig-name descname"><span class="pre">invalidate</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-invalidate" title="Permalink to this definition">¶</a></dt>
<dd><p>Invalidate the buffer/page cache parts of the files to be used prior to
starting I/O if the platform and file type support it.  Defaults to true.
This will be ignored if <a class="reference internal" href="#cmdoption-arg-pre_read"><code class="xref std std-option docutils literal notranslate"><span class="pre">pre_read</span></code></a> is also specified for the
same job.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-sync">
<span class="sig-name descname"><span class="pre">sync</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-sync" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether, and what type, of synchronous I/O to use for writes.  The allowed
values are:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>none</strong></dt><dd><p>Do not use synchronous IO, the default.</p>
</dd>
<dt><strong>0</strong></dt><dd><p>Same as <strong>none</strong>.</p>
</dd>
<dt><strong>sync</strong></dt><dd><p>Use synchronous file IO. For the majority of I/O engines,
this means using O_SYNC.</p>
</dd>
<dt><strong>1</strong></dt><dd><p>Same as <strong>sync</strong>.</p>
</dd>
<dt><strong>dsync</strong></dt><dd><p>Use synchronous data IO. For the majority of I/O engines,
this means using O_DSYNC.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-iomem">
<span id="cmdoption-arg-mem"></span><span class="sig-name descname"><span class="pre">iomem</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">mem</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-iomem" title="Permalink to this definition">¶</a></dt>
<dd><p>Fio can use various types of memory as the I/O unit buffer.  The allowed
values are:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>malloc</strong></dt><dd><p>Use memory from <em class="manpage">malloc(3)</em> as the buffers.  Default memory
type.</p>
</dd>
<dt><strong>shm</strong></dt><dd><p>Use shared memory as the buffers. Allocated through
<em class="manpage">shmget(2)</em>.</p>
</dd>
<dt><strong>shmhuge</strong></dt><dd><p>Same as shm, but use huge pages as backing.</p>
</dd>
<dt><strong>mmap</strong></dt><dd><p>Use <em class="manpage">mmap(2)</em> to allocate buffers. May either be anonymous memory, or can
be file backed if a filename is given after the option. The format
is <cite>mem=mmap:/path/to/file</cite>.</p>
</dd>
<dt><strong>mmaphuge</strong></dt><dd><p>Use a memory mapped huge file as the buffer backing. Append filename
after mmaphuge, ala <cite>mem=mmaphuge:/hugetlbfs/file</cite>.</p>
</dd>
<dt><strong>mmapshared</strong></dt><dd><p>Same as mmap, but use a MMAP_SHARED mapping.</p>
</dd>
<dt><strong>cudamalloc</strong></dt><dd><p>Use GPU memory as the buffers for GPUDirect RDMA benchmark.
The <a class="reference internal" href="#cmdoption-arg-ioengine"><code class="xref std std-option docutils literal notranslate"><span class="pre">ioengine</span></code></a> must be <cite>rdma</cite>.</p>
</dd>
</dl>
</div></blockquote>
<p>The area allocated is a function of the maximum allowed bs size for the job,
multiplied by the I/O depth given. Note that for <strong>shmhuge</strong> and
<strong>mmaphuge</strong> to work, the system must have free huge pages allocated. This
can normally be checked and set by reading/writing
<code class="file docutils literal notranslate"><span class="pre">/proc/sys/vm/nr_hugepages</span></code> on a Linux system. Fio assumes a huge page
is 2 or 4MiB in size depending on the platform. So to calculate the
number of huge pages you need for a given job file, add up the I/O
depth of all jobs (normally one unless <a class="reference internal" href="#cmdoption-arg-iodepth"><code class="xref std std-option docutils literal notranslate"><span class="pre">iodepth</span></code></a> is used) and
multiply by the maximum bs set. Then divide that number by the huge
page size. You can see the size of the huge pages in
<code class="file docutils literal notranslate"><span class="pre">/proc/meminfo</span></code>. If no huge pages are allocated by having a
non-zero number in <cite>nr_hugepages</cite>, using <strong>mmaphuge</strong> or <strong>shmhuge</strong>
will fail. Also see <a class="reference internal" href="#cmdoption-arg-hugepage-size"><code class="xref std std-option docutils literal notranslate"><span class="pre">hugepage-size</span></code></a>.</p>
<p><strong>mmaphuge</strong> also needs to have hugetlbfs mounted and the file location
should point there. So if it’s mounted in <code class="file docutils literal notranslate"><span class="pre">/huge</span></code>, you would use
<cite>mem=mmaphuge:/huge/somefile</cite>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-iomem_align">
<span id="cmdoption-arg-iomem-align"></span><span id="cmdoption-arg-mem_align"></span><span id="cmdoption-arg-mem-align"></span><span class="sig-name descname"><span class="pre">iomem_align</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">mem_align</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-iomem_align" title="Permalink to this definition">¶</a></dt>
<dd><p>This indicates the memory alignment of the I/O memory buffers.  Note that
the given alignment is applied to the first I/O unit buffer, if using
<a class="reference internal" href="#cmdoption-arg-iodepth"><code class="xref std std-option docutils literal notranslate"><span class="pre">iodepth</span></code></a> the alignment of the following buffers are given by the
<a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">bs</span></code></a> used. In other words, if using a <a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">bs</span></code></a> that is a
multiple of the page sized in the system, all buffers will be aligned to
this value. If using a <a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">bs</span></code></a> that is not page aligned, the alignment
of subsequent I/O memory buffers is the sum of the <a class="reference internal" href="#cmdoption-arg-iomem_align"><code class="xref std std-option docutils literal notranslate"><span class="pre">iomem_align</span></code></a> and
<a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">bs</span></code></a> used.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-hugepage-size">
<span class="sig-name descname"><span class="pre">hugepage-size</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-hugepage-size" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the size of a huge page. Must at least be equal to the system
setting, see <code class="file docutils literal notranslate"><span class="pre">/proc/meminfo</span></code> and
<code class="file docutils literal notranslate"><span class="pre">/sys/kernel/mm/hugepages/</span></code>. Defaults to 2 or 4MiB depending on
the platform.  Should probably always be a multiple of megabytes, so
using <code class="docutils literal notranslate"><span class="pre">hugepage-size=Xm</span></code> is the preferred way to set this to avoid
setting a non-pow-2 bad value.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-lockmem">
<span class="sig-name descname"><span class="pre">lockmem</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-lockmem" title="Permalink to this definition">¶</a></dt>
<dd><p>Pin the specified amount of memory with <em class="manpage">mlock(2)</em>. Can be used to
simulate a smaller amount of memory.  The amount specified is per worker.</p>
</dd></dl>

</section>
<section id="i-o-size">
<h3><span class="section-number">1.13.9. </span>I/O size<a class="headerlink" href="#i-o-size" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-size">
<span class="sig-name descname"><span class="pre">size</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-size" title="Permalink to this definition">¶</a></dt>
<dd><p>The total size of file I/O for each thread of this job. Fio will run until
this many bytes has been transferred, unless runtime is altered by other means
such as (1) <a class="reference internal" href="#cmdoption-arg-runtime"><code class="xref std std-option docutils literal notranslate"><span class="pre">runtime</span></code></a>, (2) <a class="reference internal" href="#cmdoption-arg-io_size"><code class="xref std std-option docutils literal notranslate"><span class="pre">io_size</span></code></a> (3) <a class="reference internal" href="#cmdoption-arg-number_ios"><code class="xref std std-option docutils literal notranslate"><span class="pre">number_ios</span></code></a>,
(4) gaps/holes while doing I/O’s such as <code class="docutils literal notranslate"><span class="pre">rw=read:16K</span></code>, or (5) sequential
I/O reaching end of the file which is possible when <a class="reference internal" href="#cmdoption-arg-percentage_random"><code class="xref std std-option docutils literal notranslate"><span class="pre">percentage_random</span></code></a>
is less than 100.
Fio will divide this size between the available files determined by options
such as <a class="reference internal" href="#cmdoption-arg-nrfiles"><code class="xref std std-option docutils literal notranslate"><span class="pre">nrfiles</span></code></a>, <a class="reference internal" href="#cmdoption-arg-filename"><code class="xref std std-option docutils literal notranslate"><span class="pre">filename</span></code></a>, unless <a class="reference internal" href="#cmdoption-arg-filesize"><code class="xref std std-option docutils literal notranslate"><span class="pre">filesize</span></code></a> is
specified by the job. If the result of division happens to be 0, the size is
set to the physical size of the given files or devices if they exist.
If this option is not specified, fio will use the full size of the given
files or devices.  If the files do not exist, size must be given. It is also
possible to give size as a percentage between 1 and 100. If <code class="docutils literal notranslate"><span class="pre">size=20%</span></code> is
given, fio will use 20% of the full size of the given files or devices.
In ZBD mode, value can also be set as number of zones using ‘z’.
Can be combined with <a class="reference internal" href="#cmdoption-arg-offset"><code class="xref std std-option docutils literal notranslate"><span class="pre">offset</span></code></a> to constrain the start and end range
that I/O will be done within.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-io_size">
<span id="cmdoption-arg-io-size"></span><span id="cmdoption-arg-io_limit"></span><span id="cmdoption-arg-io-limit"></span><span class="sig-name descname"><span class="pre">io_size</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">io_limit</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-io_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Normally fio operates within the region set by <a class="reference internal" href="#cmdoption-arg-size"><code class="xref std std-option docutils literal notranslate"><span class="pre">size</span></code></a>, which means
that the <a class="reference internal" href="#cmdoption-arg-size"><code class="xref std std-option docutils literal notranslate"><span class="pre">size</span></code></a> option sets both the region and size of I/O to be
performed. Sometimes that is not what you want. With this option, it is
possible to define just the amount of I/O that fio should do. For instance,
if <a class="reference internal" href="#cmdoption-arg-size"><code class="xref std std-option docutils literal notranslate"><span class="pre">size</span></code></a> is set to 20GiB and <a class="reference internal" href="#cmdoption-arg-io_size"><code class="xref std std-option docutils literal notranslate"><span class="pre">io_size</span></code></a> is set to 5GiB, fio
will perform I/O within the first 20GiB but exit when 5GiB have been
done. The opposite is also possible – if <a class="reference internal" href="#cmdoption-arg-size"><code class="xref std std-option docutils literal notranslate"><span class="pre">size</span></code></a> is set to 20GiB,
and <a class="reference internal" href="#cmdoption-arg-io_size"><code class="xref std std-option docutils literal notranslate"><span class="pre">io_size</span></code></a> is set to 40GiB, then fio will do 40GiB of I/O within
the 0..20GiB region.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-filesize">
<span class="sig-name descname"><span class="pre">filesize</span></span><span class="sig-prename descclassname"><span class="pre">=irange(int)</span></span><a class="headerlink" href="#cmdoption-arg-filesize" title="Permalink to this definition">¶</a></dt>
<dd><p>Individual file sizes. May be a range, in which case fio will select sizes for
files at random within the given range. If not given, each created file is the
same size. This option overrides <a class="reference internal" href="#cmdoption-arg-size"><code class="xref std std-option docutils literal notranslate"><span class="pre">size</span></code></a> in terms of file size, i.e. if
<a class="reference internal" href="#cmdoption-arg-filesize"><code class="xref std std-option docutils literal notranslate"><span class="pre">filesize</span></code></a> is specified then <a class="reference internal" href="#cmdoption-arg-size"><code class="xref std std-option docutils literal notranslate"><span class="pre">size</span></code></a> becomes merely the default
for <a class="reference internal" href="#cmdoption-arg-io_size"><code class="xref std std-option docutils literal notranslate"><span class="pre">io_size</span></code></a> and has no effect at all if <a class="reference internal" href="#cmdoption-arg-io_size"><code class="xref std std-option docutils literal notranslate"><span class="pre">io_size</span></code></a> is set
explicitly.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-file_append">
<span id="cmdoption-arg-file-append"></span><span class="sig-name descname"><span class="pre">file_append</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-file_append" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform I/O after the end of the file. Normally fio will operate within the
size of a file. If this option is set, then fio will append to the file
instead. This has identical behavior to setting <a class="reference internal" href="#cmdoption-arg-offset"><code class="xref std std-option docutils literal notranslate"><span class="pre">offset</span></code></a> to the size
of a file.  This option is ignored on non-regular files.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-fill_device">
<span id="cmdoption-arg-fill-device"></span><span id="cmdoption-arg-fill_fs"></span><span id="cmdoption-arg-fill-fs"></span><span class="sig-name descname"><span class="pre">fill_device</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">fill_fs</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-fill_device" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets size to something really large and waits for ENOSPC (no space left on
device) or EDQUOT (disk quota exceeded)
as the terminating condition. Only makes sense with sequential
write. For a read workload, the mount point will be filled first then I/O
started on the result. This option doesn’t make sense if operating on a raw
device node, since the size of that is already known by the file system.
Additionally, writing beyond end-of-device will not return ENOSPC there.</p>
</dd></dl>

</section>
<section id="i-o-engine">
<h3><span class="section-number">1.13.10. </span>I/O engine<a class="headerlink" href="#i-o-engine" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-ioengine">
<span class="sig-name descname"><span class="pre">ioengine</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-ioengine" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines how the job issues I/O to the file. The following types are defined:</p>
<blockquote>
<div><dl>
<dt><strong>sync</strong></dt><dd><p>Basic <em class="manpage">read(2)</em> or <em class="manpage">write(2)</em>
I/O. <em class="manpage">lseek(2)</em> is used to position the I/O location.
See <a class="reference internal" href="#cmdoption-arg-fsync"><code class="xref std std-option docutils literal notranslate"><span class="pre">fsync</span></code></a> and <a class="reference internal" href="#cmdoption-arg-fdatasync"><code class="xref std std-option docutils literal notranslate"><span class="pre">fdatasync</span></code></a> for syncing write I/Os.</p>
</dd>
<dt><strong>psync</strong></dt><dd><p>Basic <em class="manpage">pread(2)</em> or <em class="manpage">pwrite(2)</em> I/O.  Default on
all supported operating systems except for Windows.</p>
</dd>
<dt><strong>vsync</strong></dt><dd><p>Basic <em class="manpage">readv(2)</em> or <em class="manpage">writev(2)</em> I/O.  Will emulate
queuing by coalescing adjacent I/Os into a single submission.</p>
</dd>
<dt><strong>pvsync</strong></dt><dd><p>Basic <em class="manpage">preadv(2)</em> or <em class="manpage">pwritev(2)</em> I/O.</p>
</dd>
<dt><strong>pvsync2</strong></dt><dd><p>Basic <em class="manpage">preadv2(2)</em> or <em class="manpage">pwritev2(2)</em> I/O.</p>
</dd>
<dt><strong>io_uring</strong></dt><dd><p>Fast Linux native asynchronous I/O. Supports async IO
for both direct and buffered IO.
This engine defines engine specific options.</p>
</dd>
<dt><strong>io_uring_cmd</strong></dt><dd><p>Fast Linux native asynchronous I/O for pass through commands.
This engine defines engine specific options.</p>
</dd>
<dt><strong>libaio</strong></dt><dd><p>Linux native asynchronous I/O. Note that Linux may only support
queued behavior with non-buffered I/O (set <code class="docutils literal notranslate"><span class="pre">direct=1</span></code> or
<code class="docutils literal notranslate"><span class="pre">buffered=0</span></code>).
This engine defines engine specific options.</p>
</dd>
<dt><strong>posixaio</strong></dt><dd><p>POSIX asynchronous I/O using <em class="manpage">aio_read(3)</em> and
<em class="manpage">aio_write(3)</em>.</p>
</dd>
<dt><strong>solarisaio</strong></dt><dd><p>Solaris native asynchronous I/O.</p>
</dd>
<dt><strong>windowsaio</strong></dt><dd><p>Windows native asynchronous I/O.  Default on Windows.</p>
</dd>
<dt><strong>mmap</strong></dt><dd><p>File is memory mapped with <em class="manpage">mmap(2)</em> and data copied
to/from using <em class="manpage">memcpy(3)</em>.</p>
</dd>
<dt><strong>splice</strong></dt><dd><p><em class="manpage">splice(2)</em> is used to transfer the data and
<em class="manpage">vmsplice(2)</em> to transfer data from user space to the
kernel.</p>
</dd>
<dt><strong>sg</strong></dt><dd><p>SCSI generic sg v3 I/O. May either be synchronous using the SG_IO
ioctl, or if the target is an sg character device we use
<em class="manpage">read(2)</em> and <em class="manpage">write(2)</em> for asynchronous
I/O. Requires <a class="reference internal" href="#cmdoption-arg-filename"><code class="xref std std-option docutils literal notranslate"><span class="pre">filename</span></code></a> option to specify either block or
character devices. This engine supports trim operations.
The sg engine includes engine specific options.</p>
</dd>
<dt><strong>libzbc</strong></dt><dd><p>Read, write, trim and ZBC/ZAC operations to a zoned
block device using libzbc library. The target can be
either an SG character device or a block device file.</p>
</dd>
<dt><strong>null</strong></dt><dd><p>Doesn’t transfer any data, just pretends to.  This is mainly used to
exercise fio itself and for debugging/testing purposes.</p>
</dd>
<dt><strong>net</strong></dt><dd><p>Transfer over the network to given <code class="docutils literal notranslate"><span class="pre">host:port</span></code>.  Depending on the
<a class="reference internal" href="#cmdoption-arg-protocol"><code class="xref std std-option docutils literal notranslate"><span class="pre">protocol</span></code></a> used, the <a class="reference internal" href="#cmdoption-arg-hostname"><code class="xref std std-option docutils literal notranslate"><span class="pre">hostname</span></code></a>, <a class="reference internal" href="#cmdoption-arg-port"><code class="xref std std-option docutils literal notranslate"><span class="pre">port</span></code></a>,
<a class="reference internal" href="#cmdoption-arg-listen"><code class="xref std std-option docutils literal notranslate"><span class="pre">listen</span></code></a> and <a class="reference internal" href="#cmdoption-arg-filename"><code class="xref std std-option docutils literal notranslate"><span class="pre">filename</span></code></a> options are used to specify
what sort of connection to make, while the <a class="reference internal" href="#cmdoption-arg-protocol"><code class="xref std std-option docutils literal notranslate"><span class="pre">protocol</span></code></a> option
determines which protocol will be used.  This engine defines engine
specific options.</p>
</dd>
<dt><strong>netsplice</strong></dt><dd><p>Like <strong>net</strong>, but uses <em class="manpage">splice(2)</em> and
<em class="manpage">vmsplice(2)</em> to map data and send/receive.
This engine defines engine specific options.</p>
</dd>
<dt><strong>cpuio</strong></dt><dd><p>Doesn’t transfer any data, but burns CPU cycles according to the
<a class="reference internal" href="#cmdoption-arg-cpuload"><code class="xref std std-option docutils literal notranslate"><span class="pre">cpuload</span></code></a>, <a class="reference internal" href="#cmdoption-arg-cpuchunks"><code class="xref std std-option docutils literal notranslate"><span class="pre">cpuchunks</span></code></a> and <a class="reference internal" href="#cmdoption-arg-cpumode"><code class="xref std std-option docutils literal notranslate"><span class="pre">cpumode</span></code></a> options.
Setting <a class="reference internal" href="#cmdoption-arg-cpuload"><code class="xref std std-option docutils literal notranslate"><span class="pre">cpuload</span></code></a>=85 will cause that job to do nothing but burn 85%
of the CPU. In case of SMP machines, use <a class="reference internal" href="#cmdoption-arg-numjobs"><code class="xref std std-option docutils literal notranslate"><span class="pre">numjobs</span></code></a>=&lt;nr_of_cpu&gt;
to get desired CPU usage, as the cpuload only loads a
single CPU at the desired rate. A job never finishes unless there is
at least one non-cpuio job.
Setting <a class="reference internal" href="#cmdoption-arg-cpumode"><code class="xref std std-option docutils literal notranslate"><span class="pre">cpumode</span></code></a>=qsort replace the default noop instructions loop
by a qsort algorithm to consume more energy.</p>
</dd>
<dt><strong>rdma</strong></dt><dd><p>The RDMA I/O engine supports both RDMA memory semantics
(RDMA_WRITE/RDMA_READ) and channel semantics (Send/Recv) for the
InfiniBand, RoCE and iWARP protocols. This engine defines engine
specific options.</p>
</dd>
<dt><strong>falloc</strong></dt><dd><p>I/O engine that does regular fallocate to simulate data transfer as
fio ioengine.</p>
<dl class="simple">
<dt>DDIR_READ</dt><dd><p>does fallocate(,mode = FALLOC_FL_KEEP_SIZE,).</p>
</dd>
<dt>DDIR_WRITE</dt><dd><p>does fallocate(,mode = 0).</p>
</dd>
<dt>DDIR_TRIM</dt><dd><p>does fallocate(,mode = FALLOC_FL_KEEP_SIZE|FALLOC_FL_PUNCH_HOLE).</p>
</dd>
</dl>
</dd>
<dt><strong>ftruncate</strong></dt><dd><p>I/O engine that sends <em class="manpage">ftruncate(2)</em> operations in response
to write (DDIR_WRITE) events. Each ftruncate issued sets the file’s
size to the current block offset. <a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize</span></code></a> is ignored.</p>
</dd>
<dt><strong>e4defrag</strong></dt><dd><p>I/O engine that does regular EXT4_IOC_MOVE_EXT ioctls to simulate
defragment activity in request to DDIR_WRITE event.</p>
</dd>
<dt><strong>rados</strong></dt><dd><p>I/O engine supporting direct access to Ceph Reliable Autonomic
Distributed Object Store (RADOS) via librados. This ioengine
defines engine specific options.</p>
</dd>
<dt><strong>rbd</strong></dt><dd><p>I/O engine supporting direct access to Ceph Rados Block Devices
(RBD) via librbd without the need to use the kernel rbd driver. This
ioengine defines engine specific options.</p>
</dd>
<dt><strong>http</strong></dt><dd><p>I/O engine supporting GET/PUT requests over HTTP(S) with libcurl to
a WebDAV or S3 endpoint.  This ioengine defines engine specific options.</p>
<p>This engine only supports direct IO of iodepth=1; you need to scale this
via numjobs. blocksize defines the size of the objects to be created.</p>
<p>TRIM is translated to object deletion.</p>
</dd>
<dt><strong>gfapi</strong></dt><dd><p>Using GlusterFS libgfapi sync interface to direct access to
GlusterFS volumes without having to go through FUSE.  This ioengine
defines engine specific options.</p>
</dd>
<dt><strong>gfapi_async</strong></dt><dd><p>Using GlusterFS libgfapi async interface to direct access to
GlusterFS volumes without having to go through FUSE. This ioengine
defines engine specific options.</p>
</dd>
<dt><strong>libhdfs</strong></dt><dd><p>Read and write through Hadoop (HDFS).  The <a class="reference internal" href="#cmdoption-arg-filename"><code class="xref std std-option docutils literal notranslate"><span class="pre">filename</span></code></a> option
is used to specify host,port of the hdfs name-node to connect.  This
engine interprets offsets a little differently.  In HDFS, files once
created cannot be modified so random writes are not possible. To
imitate this the libhdfs engine expects a bunch of small files to be
created over HDFS and will randomly pick a file from them
based on the offset generated by fio backend (see the example
job file to create such files, use <code class="docutils literal notranslate"><span class="pre">rw=write</span></code> option). Please
note, it may be necessary to set environment variables to work
with HDFS/libhdfs properly.  Each job uses its own connection to
HDFS.</p>
</dd>
<dt><strong>mtd</strong></dt><dd><p>Read, write and erase an MTD character device (e.g.,
<code class="file docutils literal notranslate"><span class="pre">/dev/mtd0</span></code>). Discards are treated as erases. Depending on the
underlying device type, the I/O may have to go in a certain pattern,
e.g., on NAND, writing sequentially to erase blocks and discarding
before overwriting. The <cite>trimwrite</cite> mode works well for this
constraint.</p>
</dd>
<dt><strong>dev-dax</strong></dt><dd><p>Read and write using device DAX to a persistent memory device (e.g.,
/dev/dax0.0) through the PMDK libpmem library.</p>
</dd>
<dt><strong>external</strong></dt><dd><p>Prefix to specify loading an external I/O engine object file. Append
the engine filename, e.g. <code class="docutils literal notranslate"><span class="pre">ioengine=external:/tmp/foo.o</span></code> to load
ioengine <code class="file docutils literal notranslate"><span class="pre">foo.o</span></code> in <code class="file docutils literal notranslate"><span class="pre">/tmp</span></code>. The path can be either
absolute or relative. See <code class="file docutils literal notranslate"><span class="pre">engines/skeleton_external.c</span></code> for
details of writing an external I/O engine.</p>
</dd>
<dt><strong>filecreate</strong></dt><dd><p>Simply create the files and do no I/O to them.  You still need to
set  <cite>filesize</cite> so that all the accounting still occurs, but no
actual I/O will be done other than creating the file.</p>
</dd>
<dt><strong>filestat</strong></dt><dd><p>Simply do stat() and do no I/O to the file. You need to set ‘filesize’
and ‘nrfiles’, so that files will be created.
This engine is to measure file lookup and meta data access.</p>
</dd>
<dt><strong>filedelete</strong></dt><dd><p>Simply delete the files by unlink() and do no I/O to them. You need to set ‘filesize’
and ‘nrfiles’, so that the files will be created.
This engine is to measure file delete.</p>
</dd>
<dt><strong>libpmem</strong></dt><dd><p>Read and write using mmap I/O to a file on a filesystem
mounted with DAX on a persistent memory device through the PMDK
libpmem library.</p>
</dd>
<dt><strong>ime_psync</strong></dt><dd><p>Synchronous read and write using DDN’s Infinite Memory Engine (IME).
This engine is very basic and issues calls to IME whenever an IO is
queued.</p>
</dd>
<dt><strong>ime_psyncv</strong></dt><dd><p>Synchronous read and write using DDN’s Infinite Memory Engine (IME).
This engine uses iovecs and will try to stack as much IOs as possible
(if the IOs are “contiguous” and the IO depth is not exceeded)
before issuing a call to IME.</p>
</dd>
<dt><strong>ime_aio</strong></dt><dd><p>Asynchronous read and write using DDN’s Infinite Memory Engine (IME).
This engine will try to stack as much IOs as possible by creating
requests for IME. FIO will then decide when to commit these requests.</p>
</dd>
<dt><strong>libiscsi</strong></dt><dd><p>Read and write iscsi lun with libiscsi.</p>
</dd>
<dt><strong>nbd</strong></dt><dd><p>Read and write a Network Block Device (NBD).</p>
</dd>
<dt><strong>libcufile</strong></dt><dd><p>I/O engine supporting libcufile synchronous access to nvidia-fs and a
GPUDirect Storage-supported filesystem. This engine performs
I/O without transferring buffers between user-space and the kernel,
unless <a class="reference internal" href="#cmdoption-arg-verify"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify</span></code></a> is set or <a class="reference internal" href="#cmdoption-arg-cuda_io"><code class="xref std std-option docutils literal notranslate"><span class="pre">cuda_io</span></code></a> is <cite>posix</cite>.
<a class="reference internal" href="#cmdoption-arg-iomem"><code class="xref std std-option docutils literal notranslate"><span class="pre">iomem</span></code></a> must not be <cite>cudamalloc</cite>. This ioengine defines
engine specific options.</p>
</dd>
<dt><strong>dfs</strong></dt><dd><p>I/O engine supporting asynchronous read and write operations to the
DAOS File System (DFS) via libdfs.</p>
</dd>
<dt><strong>nfs</strong></dt><dd><p>I/O engine supporting asynchronous read and write operations to
NFS filesystems from userspace via libnfs. This is useful for
achieving higher concurrency and thus throughput than is possible
via kernel NFS.</p>
</dd>
<dt><strong>exec</strong></dt><dd><p>Execute 3rd party tools. Could be used to perform monitoring during jobs runtime.</p>
</dd>
<dt><strong>xnvme</strong></dt><dd><p>I/O engine using the xNVMe C API, for NVMe devices. The xnvme engine provides
flexibility to access GNU/Linux Kernel NVMe driver via libaio, IOCTLs, io_uring,
the SPDK NVMe driver, or your own custom NVMe driver. The xnvme engine includes
engine specific options. (See <a class="reference external" href="https://xnvme.io">https://xnvme.io</a>).</p>
</dd>
<dt><strong>libblkio</strong></dt><dd><p>Use the libblkio library
(<a class="reference external" href="https://gitlab.com/libblkio/libblkio">https://gitlab.com/libblkio/libblkio</a>). The specific
<em>driver</em> to use must be set using
<a class="reference internal" href="#cmdoption-arg-libblkio_driver"><code class="xref std std-option docutils literal notranslate"><span class="pre">libblkio_driver</span></code></a>. If
<a class="reference internal" href="#cmdoption-arg-iomem"><code class="xref std std-option docutils literal notranslate"><span class="pre">mem</span></code></a>/<a class="reference internal" href="#cmdoption-arg-iomem"><code class="xref std std-option docutils literal notranslate"><span class="pre">iomem</span></code></a> is not specified, memory
allocation is delegated to libblkio (and so is
guaranteed to work with the selected <em>driver</em>). One
libblkio instance is used per process, so all jobs
setting option <a class="reference internal" href="#cmdoption-arg-thread"><code class="xref std std-option docutils literal notranslate"><span class="pre">thread</span></code></a> will share a single
instance (with one queue per thread) and must specify
compatible options. Note that some drivers don’t allow
several instances to access the same device or file
simultaneously, but allow it for threads.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</section>
<section id="i-o-engine-specific-parameters">
<h3><span class="section-number">1.13.11. </span>I/O engine specific parameters<a class="headerlink" href="#i-o-engine-specific-parameters" title="Permalink to this heading">¶</a></h3>
<p>In addition, there are some parameters which are only valid when a specific
<a class="reference internal" href="#cmdoption-arg-ioengine"><code class="xref std std-option docutils literal notranslate"><span class="pre">ioengine</span></code></a> is in use. These are used identically to normal parameters,
with the caveat that when used on the command line, they must come after the
<a class="reference internal" href="#cmdoption-arg-ioengine"><code class="xref std std-option docutils literal notranslate"><span class="pre">ioengine</span></code></a> that defines them is selected.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cmdprio_percentage">
<span id="cmdoption-arg-cmdprio-percentage"></span><span class="sig-name descname"><span class="pre">cmdprio_percentage</span></span><span class="sig-prename descclassname"><span class="pre">=int[,int]</span> <span class="pre">:</span> <span class="pre">[io_uring]</span> <span class="pre">[libaio]</span></span><a class="headerlink" href="#cmdoption-arg-cmdprio_percentage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the percentage of I/O that will be issued with the highest priority.
Default: 0. A single value applies to reads and writes. Comma-separated
values may be specified for reads and writes. For this option to be
effective, NCQ priority must be supported and enabled, and the <a class="reference internal" href="#cmdoption-arg-direct"><code class="xref std std-option docutils literal notranslate"><span class="pre">direct</span></code></a>
option must be set. fio must also be run as the root user. Unlike
slat/clat/lat stats, which can be tracked and reported independently, per
priority stats only track and report a single type of latency. By default,
completion latency (clat) will be reported, if <a class="reference internal" href="#cmdoption-arg-lat_percentiles"><code class="xref std std-option docutils literal notranslate"><span class="pre">lat_percentiles</span></code></a> is
set, total latency (lat) will be reported.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cmdprio_class">
<span id="cmdoption-arg-cmdprio-class"></span><span class="sig-name descname"><span class="pre">cmdprio_class</span></span><span class="sig-prename descclassname"><span class="pre">=int[,int]</span> <span class="pre">:</span> <span class="pre">[io_uring]</span> <span class="pre">[libaio]</span></span><a class="headerlink" href="#cmdoption-arg-cmdprio_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the I/O priority class to use for I/Os that must be issued with
a priority when <a class="reference internal" href="#cmdoption-arg-cmdprio_percentage"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_percentage</span></code></a> or
<a class="reference internal" href="#cmdoption-arg-cmdprio_bssplit"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_bssplit</span></code></a> is set. If not specified when
<a class="reference internal" href="#cmdoption-arg-cmdprio_percentage"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_percentage</span></code></a> or <a class="reference internal" href="#cmdoption-arg-cmdprio_bssplit"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_bssplit</span></code></a> is set,
this defaults to the highest priority class. A single value applies
to reads and writes. Comma-separated values may be specified for
reads and writes. See <em class="manpage">ionice(1)</em>. See also the
<a class="reference internal" href="#cmdoption-arg-prioclass"><code class="xref std std-option docutils literal notranslate"><span class="pre">prioclass</span></code></a> option.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cmdprio_hint">
<span id="cmdoption-arg-cmdprio-hint"></span><span class="sig-name descname"><span class="pre">cmdprio_hint</span></span><span class="sig-prename descclassname"><span class="pre">=int[,int]</span> <span class="pre">:</span> <span class="pre">[io_uring]</span> <span class="pre">[libaio]</span></span><a class="headerlink" href="#cmdoption-arg-cmdprio_hint" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the I/O priority hint to use for I/Os that must be issued with
a priority when <a class="reference internal" href="#cmdoption-arg-cmdprio_percentage"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_percentage</span></code></a> or
<a class="reference internal" href="#cmdoption-arg-cmdprio_bssplit"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_bssplit</span></code></a> is set. If not specified when
<a class="reference internal" href="#cmdoption-arg-cmdprio_percentage"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_percentage</span></code></a> or <a class="reference internal" href="#cmdoption-arg-cmdprio_bssplit"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_bssplit</span></code></a> is set,
this defaults to 0 (no hint). A single value applies to reads and
writes. Comma-separated values may be specified for reads and writes.
See also the <a class="reference internal" href="#cmdoption-arg-priohint"><code class="xref std std-option docutils literal notranslate"><span class="pre">priohint</span></code></a> option.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cmdprio">
<span class="sig-name descname"><span class="pre">cmdprio</span></span><span class="sig-prename descclassname"><span class="pre">=int[,int]</span> <span class="pre">:</span> <span class="pre">[io_uring]</span> <span class="pre">[libaio]</span></span><a class="headerlink" href="#cmdoption-arg-cmdprio" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the I/O priority value to use for I/Os that must be issued with
a priority when <a class="reference internal" href="#cmdoption-arg-cmdprio_percentage"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_percentage</span></code></a> or
<a class="reference internal" href="#cmdoption-arg-cmdprio_bssplit"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_bssplit</span></code></a> is set. If not specified when
<a class="reference internal" href="#cmdoption-arg-cmdprio_percentage"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_percentage</span></code></a> or <a class="reference internal" href="#cmdoption-arg-cmdprio_bssplit"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_bssplit</span></code></a> is set,
this defaults to 0.
Linux limits us to a positive value between 0 and 7, with 0 being the
highest. A single value applies to reads and writes. Comma-separated
values may be specified for reads and writes. See <em class="manpage">ionice(1)</em>.
Refer to an appropriate manpage for other operating systems since
meaning of priority may differ. See also the <a class="reference internal" href="#cmdoption-arg-prio"><code class="xref std std-option docutils literal notranslate"><span class="pre">prio</span></code></a> option.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cmdprio_bssplit">
<span id="cmdoption-arg-cmdprio-bssplit"></span><span class="sig-name descname"><span class="pre">cmdprio_bssplit</span></span><span class="sig-prename descclassname"><span class="pre">=str[,str]</span> <span class="pre">:</span> <span class="pre">[io_uring]</span> <span class="pre">[libaio]</span></span><a class="headerlink" href="#cmdoption-arg-cmdprio_bssplit" title="Permalink to this definition">¶</a></dt>
<dd><p>To get a finer control over I/O priority, this option allows
specifying the percentage of IOs that must have a priority set
depending on the block size of the IO. This option is useful only
when used together with the <a class="reference internal" href="#cmdoption-arg-bssplit"><code class="xref std std-option docutils literal notranslate"><span class="pre">bssplit</span></code></a> option, that is,
multiple different block sizes are used for reads and writes.</p>
<p>The first accepted format for this option is the same as the format of
the <a class="reference internal" href="#cmdoption-arg-bssplit"><code class="xref std std-option docutils literal notranslate"><span class="pre">bssplit</span></code></a> option:</p>
<blockquote>
<div><p>cmdprio_bssplit=blocksize/percentage:blocksize/percentage</p>
</div></blockquote>
<p>In this case, each entry will use the priority class, priority hint
and priority level defined by the options <a class="reference internal" href="#cmdoption-arg-cmdprio_class"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_class</span></code></a>,
<a class="reference internal" href="#cmdoption-arg-cmdprio"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio</span></code></a> and <a class="reference internal" href="#cmdoption-arg-cmdprio_hint"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_hint</span></code></a> respectively.</p>
<p>The second accepted format for this option is:</p>
<blockquote>
<div><p>cmdprio_bssplit=blocksize/percentage/class/level:blocksize/percentage/class/level</p>
</div></blockquote>
<p>In this case, the priority class and priority level is defined inside
each entry. In comparison with the first accepted format, the second
accepted format does not restrict all entries to have the same priority
class and priority level.</p>
<p>The third accepted format for this option is:</p>
<blockquote>
<div><p>cmdprio_bssplit=blocksize/percentage/class/level/hint:…</p>
</div></blockquote>
<p>This is an extension of the second accepted format that allows one to
also specify a priority hint.</p>
<p>For all formats, only the read and write data directions are supported,
values for trim IOs are ignored. This option is mutually exclusive with
the <a class="reference internal" href="#cmdoption-arg-cmdprio_percentage"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_percentage</span></code></a> option.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-fixedbufs">
<span class="sig-name descname"><span class="pre">fixedbufs</span></span><span class="sig-prename descclassname"> <span class="pre">:</span> <span class="pre">[io_uring]</span> <span class="pre">[io_uring_cmd]</span></span><a class="headerlink" href="#cmdoption-arg-fixedbufs" title="Permalink to this definition">¶</a></dt>
<dd><p>If fio is asked to do direct IO, then Linux will map pages for each
IO call, and release them when IO is done. If this option is set, the
pages are pre-mapped before IO is started. This eliminates the need to
map and release for each IO. This is more efficient, and reduces the
IO latency as well.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-nonvectored">
<span class="sig-name descname"><span class="pre">nonvectored</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[io_uring]</span> <span class="pre">[io_uring_cmd]</span></span><a class="headerlink" href="#cmdoption-arg-nonvectored" title="Permalink to this definition">¶</a></dt>
<dd><p>With this option, fio will use non-vectored read/write commands, where
address must contain the address directly. Default is -1.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-force_async">
<span id="cmdoption-arg-force-async"></span><span class="sig-name descname"><span class="pre">force_async</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[io_uring]</span> <span class="pre">[io_uring_cmd]</span></span><a class="headerlink" href="#cmdoption-arg-force_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Normal operation for io_uring is to try and issue an sqe as
non-blocking first, and if that fails, execute it in an async manner.
With this option set to N, then every N request fio will ask sqe to
be issued in an async manner. Default is 0.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-registerfiles">
<span class="sig-name descname"><span class="pre">registerfiles</span></span><span class="sig-prename descclassname"> <span class="pre">:</span> <span class="pre">[io_uring]</span> <span class="pre">[io_uring_cmd]</span></span><a class="headerlink" href="#cmdoption-arg-registerfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>With this option, fio registers the set of files being used with the
kernel. This avoids the overhead of managing file counts in the kernel,
making the submission and completion part more lightweight. Required
for the below <a class="reference internal" href="#cmdoption-arg-sqthread_poll"><code class="xref std std-option docutils literal notranslate"><span class="pre">sqthread_poll</span></code></a> option.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-sqthread_poll">
<span id="cmdoption-arg-sqthread-poll"></span><span class="sig-name descname"><span class="pre">sqthread_poll</span></span><span class="sig-prename descclassname"> <span class="pre">:</span> <span class="pre">[io_uring]</span> <span class="pre">[io_uring_cmd]</span> <span class="pre">[xnvme]</span></span><a class="headerlink" href="#cmdoption-arg-sqthread_poll" title="Permalink to this definition">¶</a></dt>
<dd><p>Normally fio will submit IO by issuing a system call to notify the
kernel of available items in the SQ ring. If this option is set, the
act of submitting IO will be done by a polling thread in the kernel.
This frees up cycles for fio, at the cost of using more CPU in the
system. As submission is just the time it takes to fill in the sqe
entries and any syscall required to wake up the idle kernel thread,
fio will not report submission latencies.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-sqthread_poll_cpu">
<span id="cmdoption-arg-sqthread-poll-cpu"></span><span class="sig-name descname"><span class="pre">sqthread_poll_cpu</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[io_uring]</span> <span class="pre">[io_uring_cmd]</span></span><a class="headerlink" href="#cmdoption-arg-sqthread_poll_cpu" title="Permalink to this definition">¶</a></dt>
<dd><p>When <a class="reference internal" href="#cmdoption-arg-sqthread_poll"><code class="xref std std-option docutils literal notranslate"><span class="pre">sqthread_poll</span></code></a> is set, this option provides a way to
define which CPU should be used for the polling thread.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cmd_type">
<span id="cmdoption-arg-cmd-type"></span><span class="sig-name descname"><span class="pre">cmd_type</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[io_uring_cmd]</span></span><a class="headerlink" href="#cmdoption-arg-cmd_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the type of uring passthrough command to be used. Supported
value is nvme. Default is nvme.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-hipri">
<span class="sig-name descname"><span class="pre">hipri</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-hipri" title="Permalink to this definition">¶</a></dt>
<dd><p>[io_uring] [io_uring_cmd] [xnvme]</p>
<blockquote>
<div><p>If this option is set, fio will attempt to use polled IO completions.
Normal IO completions generate interrupts to signal the completion of
IO, polled completions do not. Hence they are require active reaping
by the application. The benefits are more efficient IO for high IOPS
scenarios, and lower latencies for low queue depth IO.</p>
</div></blockquote>
<p>[libblkio]</p>
<blockquote>
<div><p>Use poll queues. This is incompatible with
<a class="reference internal" href="#cmdoption-arg-libblkio_wait_mode"><code class="xref std std-option docutils literal notranslate"><span class="pre">libblkio_wait_mode=eventfd</span></code></a> and
<a class="reference internal" href="#cmdoption-arg-libblkio_force_enable_completion_eventfd"><code class="xref std std-option docutils literal notranslate"><span class="pre">libblkio_force_enable_completion_eventfd</span></code></a>.</p>
</div></blockquote>
<p>[pvsync2]</p>
<blockquote>
<div><p>Set RWF_HIPRI on I/O, indicating to the kernel that it’s of higher priority
than normal.</p>
</div></blockquote>
<p>[sg]</p>
<blockquote>
<div><p>If this option is set, fio will attempt to use polled IO completions.
This will have a similar effect as (io_uring)hipri. Only SCSI READ and
WRITE commands will have the SGV4_FLAG_HIPRI set (not UNMAP (trim) nor
VERIFY). Older versions of the Linux sg driver that do not support
hipri will simply ignore this flag and do normal IO. The Linux SCSI
Low Level Driver (LLD) that “owns” the device also needs to support
hipri (also known as iopoll and mq_poll). The MegaRAID driver is an
example of a SCSI LLD. Default: clear (0) which does normal
(interrupted based) IO.</p>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-userspace_reap">
<span id="cmdoption-arg-userspace-reap"></span><span class="sig-name descname"><span class="pre">userspace_reap</span></span><span class="sig-prename descclassname"> <span class="pre">:</span> <span class="pre">[libaio]</span></span><a class="headerlink" href="#cmdoption-arg-userspace_reap" title="Permalink to this definition">¶</a></dt>
<dd><p>Normally, with the libaio engine in use, fio will use the
<em class="manpage">io_getevents(2)</em> system call to reap newly returned events.  With
this flag turned on, the AIO ring will be read directly from user-space to
reap events. The reaping mode is only enabled when polling for a minimum of
0 events (e.g. when <a class="reference internal" href="#cmdoption-arg-iodepth_batch_complete_min"><code class="xref std std-option docutils literal notranslate"><span class="pre">iodepth_batch_complete</span></code></a> <cite>=0</cite>).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-hipri_percentage">
<span id="cmdoption-arg-hipri-percentage"></span><span class="sig-name descname"><span class="pre">hipri_percentage</span></span><span class="sig-prename descclassname"> <span class="pre">:</span> <span class="pre">[pvsync2]</span></span><a class="headerlink" href="#cmdoption-arg-hipri_percentage" title="Permalink to this definition">¶</a></dt>
<dd><p>When hipri is set this determines the probability of a pvsync2 I/O being high
priority. The default is 100%.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-nowait">
<span class="sig-name descname"><span class="pre">nowait</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span> <span class="pre">:</span> <span class="pre">[pvsync2]</span> <span class="pre">[libaio]</span> <span class="pre">[io_uring]</span> <span class="pre">[io_uring_cmd]</span></span><a class="headerlink" href="#cmdoption-arg-nowait" title="Permalink to this definition">¶</a></dt>
<dd><p>By default if a request cannot be executed immediately (e.g. resource starvation,
waiting on locks) it is queued and the initiating process will be blocked until
the required resource becomes free.</p>
<p>This option sets the RWF_NOWAIT flag (supported from the 4.14 Linux kernel) and
the call will return instantly with EAGAIN or a partial result rather than waiting.</p>
<p>It is useful to also use ignore_error=EAGAIN when using this option.</p>
<p>Note: glibc 2.27, 2.28 have a bug in syscall wrappers preadv2, pwritev2.
They return EOPNOTSUP instead of EAGAIN.</p>
<p>For cached I/O, using this option usually means a request operates only with
cached data. Currently the RWF_NOWAIT flag does not supported for cached write.</p>
<p>For direct I/O, requests will only succeed if cache invalidation isn’t required,
file blocks are fully allocated and the disk request could be issued immediately.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-fdp">
<span class="sig-name descname"><span class="pre">fdp</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span> <span class="pre">:</span> <span class="pre">[io_uring_cmd]</span> <span class="pre">[xnvme]</span></span><a class="headerlink" href="#cmdoption-arg-fdp" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable Flexible Data Placement mode for write commands.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-fdp_pli_select">
<span id="cmdoption-arg-fdp-pli-select"></span><span class="sig-name descname"><span class="pre">fdp_pli_select</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[io_uring_cmd]</span> <span class="pre">[xnvme]</span></span><a class="headerlink" href="#cmdoption-arg-fdp_pli_select" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines how fio decides which placement ID to use next. The following
types are defined:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>random</strong></dt><dd><p>Choose a placement ID at random (uniform).</p>
</dd>
<dt><strong>roundrobin</strong></dt><dd><p>Round robin over available placement IDs. This is the
default.</p>
</dd>
</dl>
</div></blockquote>
<p>The available placement ID index/indices is defined by the option
<a class="reference internal" href="#cmdoption-arg-fdp_pli"><code class="xref std std-option docutils literal notranslate"><span class="pre">fdp_pli</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-fdp_pli">
<span id="cmdoption-arg-fdp-pli"></span><span class="sig-name descname"><span class="pre">fdp_pli</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[io_uring_cmd]</span> <span class="pre">[xnvme]</span></span><a class="headerlink" href="#cmdoption-arg-fdp_pli" title="Permalink to this definition">¶</a></dt>
<dd><p>Select which Placement ID Index/Indicies this job is allowed to use for
writes. By default, the job will cycle through all available Placement
IDs, so use this to isolate these identifiers to specific jobs. If you
want fio to use placement identifier only at indices 0, 2 and 5 specify
<code class="docutils literal notranslate"><span class="pre">fdp_pli=0,2,5</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-md_per_io_size">
<span id="cmdoption-arg-md-per-io-size"></span><span class="sig-name descname"><span class="pre">md_per_io_size</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[io_uring_cmd]</span></span><a class="headerlink" href="#cmdoption-arg-md_per_io_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Size in bytes for separate metadata buffer per IO. Default: 0.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-pi_act">
<span id="cmdoption-arg-pi-act"></span><span class="sig-name descname"><span class="pre">pi_act</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[io_uring_cmd]</span></span><a class="headerlink" href="#cmdoption-arg-pi_act" title="Permalink to this definition">¶</a></dt>
<dd><p>Action to take when nvme namespace is formatted with protection
information. If this is set to 1 and namespace is formatted with
metadata size equal to protection information size, fio won’t use
separate metadata buffer or extended logical block. If this is set to
1 and namespace is formatted with metadata size greater than protection
information size, fio will not generate or verify the protection
information portion of metadata for write or read case respectively.
If this is set to 0, fio generates protection information for
write case and verifies for read case. Default: 1.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-pi_chk">
<span id="cmdoption-arg-pi-chk"></span><span class="sig-name descname"><span class="pre">pi_chk</span></span><span class="sig-prename descclassname"><span class="pre">=str[,str][,str]</span> <span class="pre">:</span> <span class="pre">[io_uring_cmd]</span></span><a class="headerlink" href="#cmdoption-arg-pi_chk" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls the protection information check. This can take one or more
of these values. Default: none.</p>
<dl class="simple">
<dt><strong>GUARD</strong></dt><dd><p>Enables protection information checking of guard field.</p>
</dd>
<dt><strong>REFTAG</strong></dt><dd><p>Enables protection information checking of logical block
reference tag field.</p>
</dd>
<dt><strong>APPTAG</strong></dt><dd><p>Enables protection information checking of application tag field.</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-apptag">
<span class="sig-name descname"><span class="pre">apptag</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[io_uring_cmd]</span></span><a class="headerlink" href="#cmdoption-arg-apptag" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies logical block application tag value, if namespace is
formatted to use end to end protection information. Default: 0x1234.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-apptag_mask">
<span id="cmdoption-arg-apptag-mask"></span><span class="sig-name descname"><span class="pre">apptag_mask</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[io_uring_cmd]</span></span><a class="headerlink" href="#cmdoption-arg-apptag_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies logical block application tag mask value, if namespace is
formatted to use end to end protection information. Default: 0xffff.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cpuload">
<span class="sig-name descname"><span class="pre">cpuload</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[cpuio]</span></span><a class="headerlink" href="#cmdoption-arg-cpuload" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to use the specified percentage of CPU cycles. This is a mandatory
option when using cpuio I/O engine.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cpuchunks">
<span class="sig-name descname"><span class="pre">cpuchunks</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[cpuio]</span></span><a class="headerlink" href="#cmdoption-arg-cpuchunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Split the load into cycles of the given time. In microseconds.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cpumode">
<span class="sig-name descname"><span class="pre">cpumode</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[cpuio]</span></span><a class="headerlink" href="#cmdoption-arg-cpumode" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify how to stress the CPU. It can take these two values:</p>
<dl class="simple">
<dt><strong>noop</strong></dt><dd><p>This is the default where the CPU executes noop instructions.</p>
</dd>
<dt><strong>qsort</strong></dt><dd><p>Replace the default noop instructions loop with a qsort algorithm to
consume more energy.</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-exit_on_io_done">
<span id="cmdoption-arg-exit-on-io-done"></span><span class="sig-name descname"><span class="pre">exit_on_io_done</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span> <span class="pre">:</span> <span class="pre">[cpuio]</span></span><a class="headerlink" href="#cmdoption-arg-exit_on_io_done" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect when I/O threads are done, then exit.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-namenode">
<span class="sig-name descname"><span class="pre">namenode</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[libhdfs]</span></span><a class="headerlink" href="#cmdoption-arg-namenode" title="Permalink to this definition">¶</a></dt>
<dd><p>The hostname or IP address of a HDFS cluster namenode to contact.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-port">
<span class="sig-name descname"><span class="pre">port</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-port" title="Permalink to this definition">¶</a></dt>
<dd><p>[libhdfs]</p>
<blockquote>
<div><p>The listening port of the HFDS cluster namenode.</p>
</div></blockquote>
<p>[netsplice], [net]</p>
<blockquote>
<div><p>The TCP or UDP port to bind to or connect to. If this is used with
<a class="reference internal" href="#cmdoption-arg-numjobs"><code class="xref std std-option docutils literal notranslate"><span class="pre">numjobs</span></code></a> to spawn multiple instances of the same job type, then
this will be the starting port number since fio will use a range of
ports.</p>
</div></blockquote>
<p>[rdma], [librpma_*]</p>
<blockquote>
<div><p>The port to use for RDMA-CM communication. This should be the same value
on the client and the server side.</p>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-hostname">
<span class="sig-name descname"><span class="pre">hostname</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[netsplice]</span> <span class="pre">[net]</span> <span class="pre">[rdma]</span></span><a class="headerlink" href="#cmdoption-arg-hostname" title="Permalink to this definition">¶</a></dt>
<dd><p>The hostname or IP address to use for TCP, UDP or RDMA-CM based I/O.  If the job
is a TCP listener or UDP reader, the hostname is not used and must be omitted
unless it is a valid UDP multicast address.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-serverip">
<span class="sig-name descname"><span class="pre">serverip</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[librpma_*]</span></span><a class="headerlink" href="#cmdoption-arg-serverip" title="Permalink to this definition">¶</a></dt>
<dd><p>The IP address to be used for RDMA-CM based I/O.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-direct_write_to_pmem">
<span id="cmdoption-arg-direct-write-to-pmem"></span><span class="sig-name descname"><span class="pre">direct_write_to_pmem</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span> <span class="pre">:</span> <span class="pre">[librpma_*]</span></span><a class="headerlink" href="#cmdoption-arg-direct_write_to_pmem" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to 1 only when Direct Write to PMem from the remote host is possible.
Otherwise, set to 0.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-busy_wait_polling">
<span id="cmdoption-arg-busy-wait-polling"></span><span class="sig-name descname"><span class="pre">busy_wait_polling</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span> <span class="pre">:</span> <span class="pre">[librpma_*_server]</span></span><a class="headerlink" href="#cmdoption-arg-busy_wait_polling" title="Permalink to this definition">¶</a></dt>
<dd><p>Set to 0 to wait for completion instead of busy-wait polling completion.
Default: 1.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-interface">
<span class="sig-name descname"><span class="pre">interface</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[netsplice]</span> <span class="pre">[net]</span></span><a class="headerlink" href="#cmdoption-arg-interface" title="Permalink to this definition">¶</a></dt>
<dd><p>The IP address of the network interface used to send or receive UDP
multicast.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-ttl">
<span class="sig-name descname"><span class="pre">ttl</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[netsplice]</span> <span class="pre">[net]</span></span><a class="headerlink" href="#cmdoption-arg-ttl" title="Permalink to this definition">¶</a></dt>
<dd><p>Time-to-live value for outgoing UDP multicast packets. Default: 1.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-nodelay">
<span class="sig-name descname"><span class="pre">nodelay</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span> <span class="pre">:</span> <span class="pre">[netsplice]</span> <span class="pre">[net]</span></span><a class="headerlink" href="#cmdoption-arg-nodelay" title="Permalink to this definition">¶</a></dt>
<dd><p>Set TCP_NODELAY on TCP connections.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-protocol">
<span id="cmdoption-arg-proto"></span><span class="sig-name descname"><span class="pre">protocol</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">proto</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[netsplice]</span> <span class="pre">[net]</span></span><a class="headerlink" href="#cmdoption-arg-protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>The network protocol to use. Accepted values are:</p>
<dl class="simple">
<dt><strong>tcp</strong></dt><dd><p>Transmission control protocol.</p>
</dd>
<dt><strong>tcpv6</strong></dt><dd><p>Transmission control protocol V6.</p>
</dd>
<dt><strong>udp</strong></dt><dd><p>User datagram protocol.</p>
</dd>
<dt><strong>udpv6</strong></dt><dd><p>User datagram protocol V6.</p>
</dd>
<dt><strong>unix</strong></dt><dd><p>UNIX domain socket.</p>
</dd>
</dl>
<p>When the protocol is TCP or UDP, the port must also be given, as well as the
hostname if the job is a TCP listener or UDP reader. For unix sockets, the
normal <a class="reference internal" href="#cmdoption-arg-filename"><code class="xref std std-option docutils literal notranslate"><span class="pre">filename</span></code></a> option should be used and the port is invalid.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-listen">
<span class="sig-name descname"><span class="pre">listen</span></span><span class="sig-prename descclassname"> <span class="pre">:</span> <span class="pre">[netsplice]</span> <span class="pre">[net]</span></span><a class="headerlink" href="#cmdoption-arg-listen" title="Permalink to this definition">¶</a></dt>
<dd><p>For TCP network connections, tell fio to listen for incoming connections
rather than initiating an outgoing connection. The <a class="reference internal" href="#cmdoption-arg-hostname"><code class="xref std std-option docutils literal notranslate"><span class="pre">hostname</span></code></a> must
be omitted if this option is used.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-pingpong">
<span class="sig-name descname"><span class="pre">pingpong</span></span><span class="sig-prename descclassname"> <span class="pre">:</span> <span class="pre">[netsplice]</span> <span class="pre">[net]</span></span><a class="headerlink" href="#cmdoption-arg-pingpong" title="Permalink to this definition">¶</a></dt>
<dd><p>Normally a network writer will just continue writing data, and a network
reader will just consume packages. If <code class="docutils literal notranslate"><span class="pre">pingpong=1</span></code> is set, a writer will
send its normal payload to the reader, then wait for the reader to send the
same payload back. This allows fio to measure network latencies. The
submission and completion latencies then measure local time spent sending or
receiving, and the completion latency measures how long it took for the
other end to receive and send back.  For UDP multicast traffic
<code class="docutils literal notranslate"><span class="pre">pingpong=1</span></code> should only be set for a single reader when multiple readers
are listening to the same address.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-window_size">
<span id="cmdoption-arg-window-size"></span><span class="sig-name descname"><span class="pre">window_size</span></span><span class="sig-prename descclassname"> <span class="pre">:</span> <span class="pre">[netsplice]</span> <span class="pre">[net]</span></span><a class="headerlink" href="#cmdoption-arg-window_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the desired socket buffer size for the connection.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-mss">
<span class="sig-name descname"><span class="pre">mss</span></span><span class="sig-prename descclassname"> <span class="pre">:</span> <span class="pre">[netsplice]</span> <span class="pre">[net]</span></span><a class="headerlink" href="#cmdoption-arg-mss" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the TCP maximum segment size (TCP_MAXSEG).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-donorname">
<span class="sig-name descname"><span class="pre">donorname</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[e4defrag]</span></span><a class="headerlink" href="#cmdoption-arg-donorname" title="Permalink to this definition">¶</a></dt>
<dd><p>File will be used as a block donor (swap extents between files).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-inplace">
<span class="sig-name descname"><span class="pre">inplace</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[e4defrag]</span></span><a class="headerlink" href="#cmdoption-arg-inplace" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure donor file blocks allocation strategy:</p>
<dl class="simple">
<dt><strong>0</strong></dt><dd><p>Default. Preallocate donor’s file on init.</p>
</dd>
<dt><strong>1</strong></dt><dd><p>Allocate space immediately inside defragment event, and free right
after event.</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-clustername">
<span class="sig-name descname"><span class="pre">clustername</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[rbd,rados]</span></span><a class="headerlink" href="#cmdoption-arg-clustername" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the name of the Ceph cluster.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-rbdname">
<span class="sig-name descname"><span class="pre">rbdname</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[rbd]</span></span><a class="headerlink" href="#cmdoption-arg-rbdname" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the name of the RBD.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-clientname">
<span class="sig-name descname"><span class="pre">clientname</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[rbd,rados]</span></span><a class="headerlink" href="#cmdoption-arg-clientname" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the username (without the ‘client.’ prefix) used to access the
Ceph cluster. If the <em>clustername</em> is specified, the <em>clientname</em> shall be
the full <em>type.id</em> string. If no type. prefix is given, fio will add
‘client.’ by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-conf">
<span class="sig-name descname"><span class="pre">conf</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[rados]</span></span><a class="headerlink" href="#cmdoption-arg-conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the configuration path of ceph cluster, so conf file does not
have to be /etc/ceph/ceph.conf.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-busy_poll">
<span id="cmdoption-arg-busy-poll"></span><span class="sig-name descname"><span class="pre">busy_poll</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span> <span class="pre">:</span> <span class="pre">[rbd,rados]</span></span><a class="headerlink" href="#cmdoption-arg-busy_poll" title="Permalink to this definition">¶</a></dt>
<dd><p>Poll store instead of waiting for completion. Usually this provides better
throughput at cost of higher(up to 100%) CPU utilization.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-touch_objects">
<span id="cmdoption-arg-touch-objects"></span><span class="sig-name descname"><span class="pre">touch_objects</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span> <span class="pre">:</span> <span class="pre">[rados]</span></span><a class="headerlink" href="#cmdoption-arg-touch_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>During initialization, touch (create if do not exist) all objects (files).
Touching all objects affects ceph caches and likely impacts test results.
Enabled by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-pool">
<span class="sig-name descname"><span class="pre">pool</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span></span><a class="headerlink" href="#cmdoption-arg-pool" title="Permalink to this definition">¶</a></dt>
<dd><p>[rbd,rados]</p>
<blockquote>
<div><p>Specifies the name of the Ceph pool containing RBD or RADOS data.</p>
</div></blockquote>
<p>[dfs]</p>
<blockquote>
<div><p>Specify the label or UUID of the DAOS pool to connect to.</p>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cont">
<span class="sig-name descname"><span class="pre">cont</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[dfs]</span></span><a class="headerlink" href="#cmdoption-arg-cont" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the label or UUID of the DAOS container to open.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-chunk_size">
<span id="cmdoption-arg-chunk-size"></span><span class="sig-name descname"><span class="pre">chunk_size</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-chunk_size" title="Permalink to this definition">¶</a></dt>
<dd><p>[dfs]</p>
<blockquote>
<div><p>Specify a different chunk size (in bytes) for the dfs file.
Use DAOS container’s chunk size by default.</p>
</div></blockquote>
<p>[libhdfs]</p>
<blockquote>
<div><p>The size of the chunk to use for each file.</p>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-object_class">
<span id="cmdoption-arg-object-class"></span><span class="sig-name descname"><span class="pre">object_class</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[dfs]</span></span><a class="headerlink" href="#cmdoption-arg-object_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a different object class for the dfs file.
Use DAOS container’s object class by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-skip_bad">
<span id="cmdoption-arg-skip-bad"></span><span class="sig-name descname"><span class="pre">skip_bad</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span> <span class="pre">:</span> <span class="pre">[mtd]</span></span><a class="headerlink" href="#cmdoption-arg-skip_bad" title="Permalink to this definition">¶</a></dt>
<dd><p>Skip operations against known bad blocks.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-hdfsdirectory">
<span class="sig-name descname"><span class="pre">hdfsdirectory</span></span><span class="sig-prename descclassname"> <span class="pre">:</span> <span class="pre">[libhdfs]</span></span><a class="headerlink" href="#cmdoption-arg-hdfsdirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>libhdfs will create chunk in this HDFS directory.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-verb">
<span class="sig-name descname"><span class="pre">verb</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[rdma]</span></span><a class="headerlink" href="#cmdoption-arg-verb" title="Permalink to this definition">¶</a></dt>
<dd><p>The RDMA verb to use on this side of the RDMA ioengine connection. Valid
values are write, read, send and recv. These correspond to the equivalent
RDMA verbs (e.g. write = rdma_write etc.). Note that this only needs to be
specified on the client side of the connection. See the examples folder.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-bindname">
<span class="sig-name descname"><span class="pre">bindname</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[rdma]</span></span><a class="headerlink" href="#cmdoption-arg-bindname" title="Permalink to this definition">¶</a></dt>
<dd><p>The name to use to bind the local RDMA-CM connection to a local RDMA device.
This could be a hostname or an IPv4 or IPv6 address. On the server side this
will be passed into the rdma_bind_addr() function and on the client site it
will be used in the rdma_resolve_add() function. This can be useful when
multiple paths exist between the client and the server or in certain loopback
configurations.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-stat_type">
<span id="cmdoption-arg-stat-type"></span><span class="sig-name descname"><span class="pre">stat_type</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[filestat]</span></span><a class="headerlink" href="#cmdoption-arg-stat_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify stat system call type to measure lookup/getattr performance.
Default is <strong>stat</strong> for <em class="manpage">stat(2)</em>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-readfua">
<span class="sig-name descname"><span class="pre">readfua</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span> <span class="pre">:</span> <span class="pre">[sg]</span></span><a class="headerlink" href="#cmdoption-arg-readfua" title="Permalink to this definition">¶</a></dt>
<dd><p>With readfua option set to 1, read operations include
the force unit access (fua) flag. Default is 0.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-writefua">
<span class="sig-name descname"><span class="pre">writefua</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span> <span class="pre">:</span> <span class="pre">[sg]</span></span><a class="headerlink" href="#cmdoption-arg-writefua" title="Permalink to this definition">¶</a></dt>
<dd><p>With writefua option set to 1, write operations include
the force unit access (fua) flag. Default is 0.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-sg_write_mode">
<span id="cmdoption-arg-sg-write-mode"></span><span class="sig-name descname"><span class="pre">sg_write_mode</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[sg]</span></span><a class="headerlink" href="#cmdoption-arg-sg_write_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the type of write commands to issue. This option can take three values:</p>
<dl class="simple">
<dt><strong>write</strong></dt><dd><p>This is the default where write opcodes are issued as usual.</p>
</dd>
<dt><strong>write_and_verify</strong></dt><dd><p>Issue WRITE AND VERIFY commands. The BYTCHK bit is set to 0. This
directs the device to carry out a medium verification with no data
comparison. The writefua option is ignored with this selection.</p>
</dd>
<dt><strong>verify</strong></dt><dd><p>This option is deprecated. Use write_and_verify instead.</p>
</dd>
<dt><strong>write_same</strong></dt><dd><p>Issue WRITE SAME commands. This transfers a single block to the device
and writes this same block of data to a contiguous sequence of LBAs
beginning at the specified offset. fio’s block size parameter specifies
the amount of data written with each command. However, the amount of data
actually transferred to the device is equal to the device’s block
(sector) size. For a device with 512 byte sectors, blocksize=8k will
write 16 sectors with each command. fio will still generate 8k of data
for each command but only the first 512 bytes will be used and
transferred to the device. The writefua option is ignored with this
selection.</p>
</dd>
<dt><strong>same</strong></dt><dd><p>This option is deprecated. Use write_same instead.</p>
</dd>
<dt><strong>write_same_ndob</strong></dt><dd><p>Issue WRITE SAME(16) commands as above but with the No Data Output
Buffer (NDOB) bit set. No data will be transferred to the device with
this bit set. Data written will be a pre-determined pattern such as
all zeroes.</p>
</dd>
<dt><strong>write_stream</strong></dt><dd><p>Issue WRITE STREAM(16) commands. Use the <strong>stream_id</strong> option to specify
the stream identifier.</p>
</dd>
<dt><strong>verify_bytchk_00</strong></dt><dd><p>Issue VERIFY commands with BYTCHK set to 00. This directs the
device to carry out a medium verification with no data comparison.</p>
</dd>
<dt><strong>verify_bytchk_01</strong></dt><dd><p>Issue VERIFY commands with BYTCHK set to 01. This directs the device to
compare the data on the device with the data transferred to the device.</p>
</dd>
<dt><strong>verify_bytchk_11</strong></dt><dd><p>Issue VERIFY commands with BYTCHK set to 11. This transfers a
single block to the device and compares the contents of this block with the
data on the device beginning at the specified offset. fio’s block size
parameter specifies the total amount of data compared with this command.
However, only one block (sector) worth of data is transferred to the device.
This is similar to the WRITE SAME command except that data is compared instead
of written.</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-stream_id">
<span id="cmdoption-arg-stream-id"></span><span class="sig-name descname"><span class="pre">stream_id</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[sg]</span></span><a class="headerlink" href="#cmdoption-arg-stream_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the stream identifier for WRITE STREAM commands. If this is set to 0 (which is not
a valid stream identifier) fio will open a stream and then close it when done. Default
is 0.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-http_host">
<span id="cmdoption-arg-http-host"></span><span class="sig-name descname"><span class="pre">http_host</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[http]</span></span><a class="headerlink" href="#cmdoption-arg-http_host" title="Permalink to this definition">¶</a></dt>
<dd><p>Hostname to connect to. For S3, this could be the bucket hostname.
Default is <strong>localhost</strong></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-http_user">
<span id="cmdoption-arg-http-user"></span><span class="sig-name descname"><span class="pre">http_user</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[http]</span></span><a class="headerlink" href="#cmdoption-arg-http_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Username for HTTP authentication.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-http_pass">
<span id="cmdoption-arg-http-pass"></span><span class="sig-name descname"><span class="pre">http_pass</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[http]</span></span><a class="headerlink" href="#cmdoption-arg-http_pass" title="Permalink to this definition">¶</a></dt>
<dd><p>Password for HTTP authentication.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-https">
<span class="sig-name descname"><span class="pre">https</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[http]</span></span><a class="headerlink" href="#cmdoption-arg-https" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable HTTPS instead of http. <em>on</em> enables HTTPS; <em>insecure</em>
will enable HTTPS, but disable SSL peer verification (use with
caution!). Default is <strong>off</strong></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-http_mode">
<span id="cmdoption-arg-http-mode"></span><span class="sig-name descname"><span class="pre">http_mode</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[http]</span></span><a class="headerlink" href="#cmdoption-arg-http_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Which HTTP access mode to use: <em>webdav</em>, <em>swift</em>, or <em>s3</em>.
Default is <strong>webdav</strong></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-http_s3_region">
<span id="cmdoption-arg-http-s3-region"></span><span class="sig-name descname"><span class="pre">http_s3_region</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[http]</span></span><a class="headerlink" href="#cmdoption-arg-http_s3_region" title="Permalink to this definition">¶</a></dt>
<dd><p>The S3 region/zone string.
Default is <strong>us-east-1</strong></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-http_s3_key">
<span id="cmdoption-arg-http-s3-key"></span><span class="sig-name descname"><span class="pre">http_s3_key</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[http]</span></span><a class="headerlink" href="#cmdoption-arg-http_s3_key" title="Permalink to this definition">¶</a></dt>
<dd><p>The S3 secret key.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-http_s3_keyid">
<span id="cmdoption-arg-http-s3-keyid"></span><span class="sig-name descname"><span class="pre">http_s3_keyid</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[http]</span></span><a class="headerlink" href="#cmdoption-arg-http_s3_keyid" title="Permalink to this definition">¶</a></dt>
<dd><p>The S3 key/access id.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-http_s3_sse_customer_key">
<span id="cmdoption-arg-http-s3-sse-customer-key"></span><span class="sig-name descname"><span class="pre">http_s3_sse_customer_key</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[http]</span></span><a class="headerlink" href="#cmdoption-arg-http_s3_sse_customer_key" title="Permalink to this definition">¶</a></dt>
<dd><p>The encryption customer key in SSE server side.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-http_s3_sse_customer_algorithm">
<span id="cmdoption-arg-http-s3-sse-customer-algorithm"></span><span class="sig-name descname"><span class="pre">http_s3_sse_customer_algorithm</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[http]</span></span><a class="headerlink" href="#cmdoption-arg-http_s3_sse_customer_algorithm" title="Permalink to this definition">¶</a></dt>
<dd><p>The encryption customer algorithm in SSE server side.
Default is <strong>AES256</strong></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-http_s3_storage_class">
<span id="cmdoption-arg-http-s3-storage-class"></span><span class="sig-name descname"><span class="pre">http_s3_storage_class</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[http]</span></span><a class="headerlink" href="#cmdoption-arg-http_s3_storage_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Which storage class to access. User-customizable settings.
Default is <strong>STANDARD</strong></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-http_swift_auth_token">
<span id="cmdoption-arg-http-swift-auth-token"></span><span class="sig-name descname"><span class="pre">http_swift_auth_token</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[http]</span></span><a class="headerlink" href="#cmdoption-arg-http_swift_auth_token" title="Permalink to this definition">¶</a></dt>
<dd><p>The Swift auth token. See the example configuration file on how
to retrieve this.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-http_verbose">
<span id="cmdoption-arg-http-verbose"></span><span class="sig-name descname"><span class="pre">http_verbose</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[http]</span></span><a class="headerlink" href="#cmdoption-arg-http_verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable verbose requests from libcurl. Useful for debugging. 1
turns on verbose logging from libcurl, 2 additionally enables
HTTP IO tracing. Default is <strong>0</strong></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-uri">
<span class="sig-name descname"><span class="pre">uri</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[nbd]</span></span><a class="headerlink" href="#cmdoption-arg-uri" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the NBD URI of the server to test.  The string
is a standard NBD URI
(see <a class="reference external" href="https://github.com/NetworkBlockDevice/nbd/tree/master/doc">https://github.com/NetworkBlockDevice/nbd/tree/master/doc</a>).
Example URIs: nbd://localhost:10809
nbd+unix:///?socket=/tmp/socket
nbds://tlshost/exportname</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-gpu_dev_ids">
<span id="cmdoption-arg-gpu-dev-ids"></span><span class="sig-name descname"><span class="pre">gpu_dev_ids</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[libcufile]</span></span><a class="headerlink" href="#cmdoption-arg-gpu_dev_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the GPU IDs to use with CUDA. This is a colon-separated list of
int. GPUs are assigned to workers roundrobin. Default is 0.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cuda_io">
<span id="cmdoption-arg-cuda-io"></span><span class="sig-name descname"><span class="pre">cuda_io</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[libcufile]</span></span><a class="headerlink" href="#cmdoption-arg-cuda_io" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the type of I/O to use with CUDA. Default is <strong>cufile</strong>.</p>
<dl class="simple">
<dt><strong>cufile</strong></dt><dd><p>Use libcufile and nvidia-fs. This option performs I/O directly
between a GPUDirect Storage filesystem and GPU buffers,
avoiding use of a bounce buffer. If <a class="reference internal" href="#cmdoption-arg-verify"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify</span></code></a> is set,
cudaMemcpy is used to copy verificaton data between RAM and GPU.
Verification data is copied from RAM to GPU before a write
and from GPU to RAM after a read. <a class="reference internal" href="#cmdoption-arg-direct"><code class="xref std std-option docutils literal notranslate"><span class="pre">direct</span></code></a> must be 1.</p>
</dd>
<dt><strong>posix</strong></dt><dd><p>Use POSIX to perform I/O with a RAM buffer, and use cudaMemcpy
to transfer data between RAM and the GPUs. Data is copied from
GPU to RAM before a write and copied from RAM to GPU after a
read. <a class="reference internal" href="#cmdoption-arg-verify"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify</span></code></a> does not affect use of cudaMemcpy.</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-nfs_url">
<span id="cmdoption-arg-nfs-url"></span><span class="sig-name descname"><span class="pre">nfs_url</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[nfs]</span></span><a class="headerlink" href="#cmdoption-arg-nfs_url" title="Permalink to this definition">¶</a></dt>
<dd><p>URL in libnfs format, eg <a class="reference external" href="nfs:/">nfs:/</a>/&lt;server|ipv4|ipv6&gt;/path[?arg=val[&amp;arg=val]*]
Refer to the libnfs README for more details.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-program">
<span class="sig-name descname"><span class="pre">program</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[exec]</span></span><a class="headerlink" href="#cmdoption-arg-program" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the program to execute.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-arguments">
<span class="sig-name descname"><span class="pre">arguments</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[exec]</span></span><a class="headerlink" href="#cmdoption-arg-arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify arguments to pass to program.
Some special variables can be expanded to pass fio’s job details to the program.</p>
<dl class="simple">
<dt><strong>%r</strong></dt><dd><p>Replaced by the duration of the job in seconds.</p>
</dd>
<dt><strong>%n</strong></dt><dd><p>Replaced by the name of the job.</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-grace_time">
<span id="cmdoption-arg-grace-time"></span><span class="sig-name descname"><span class="pre">grace_time</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[exec]</span></span><a class="headerlink" href="#cmdoption-arg-grace_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the time between the SIGTERM and SIGKILL signals. Default is 1 second.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-std_redirect">
<span id="cmdoption-arg-std-redirect"></span><span class="sig-name descname"><span class="pre">std_redirect</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span> <span class="pre">:</span> <span class="pre">[exec]</span></span><a class="headerlink" href="#cmdoption-arg-std_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, stdout and stderr streams are redirected to files named from the job name. Default is true.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-xnvme_async">
<span id="cmdoption-arg-xnvme-async"></span><span class="sig-name descname"><span class="pre">xnvme_async</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[xnvme]</span></span><a class="headerlink" href="#cmdoption-arg-xnvme_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Select the xnvme async command interface. This can take these values.</p>
<dl class="simple">
<dt><strong>emu</strong></dt><dd><p>This is default and use to emulate asynchronous I/O by using a
single thread to create a queue pair on top of a synchronous
I/O interface using the NVMe driver IOCTL.</p>
</dd>
<dt><strong>thrpool</strong></dt><dd><p>Emulate an asynchronous I/O interface with a pool of userspace
threads on top of a synchronous I/O interface using the NVMe
driver IOCTL. By default four threads are used.</p>
</dd>
<dt><strong>io_uring</strong></dt><dd><p>Linux native asynchronous I/O interface which supports both
direct and buffered I/O.</p>
</dd>
<dt><strong>io_uring_cmd</strong></dt><dd><p>Fast Linux native asynchronous I/O interface for NVMe pass
through commands. This only works with NVMe character device
(/dev/ngXnY).</p>
</dd>
<dt><strong>libaio</strong></dt><dd><p>Use Linux aio for Asynchronous I/O.</p>
</dd>
<dt><strong>posix</strong></dt><dd><p>Use the posix asynchronous I/O interface to perform one or
more I/O operations asynchronously.</p>
</dd>
<dt><strong>vfio</strong></dt><dd><p>Use the user-space VFIO-based backend, implemented using
libvfn instead of SPDK.</p>
</dd>
<dt><strong>nil</strong></dt><dd><p>Do not transfer any data; just pretend to. This is mainly used
for introspective performance evaluation.</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-xnvme_sync">
<span id="cmdoption-arg-xnvme-sync"></span><span class="sig-name descname"><span class="pre">xnvme_sync</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[xnvme]</span></span><a class="headerlink" href="#cmdoption-arg-xnvme_sync" title="Permalink to this definition">¶</a></dt>
<dd><p>Select the xnvme synchronous command interface. This can take these values.</p>
<dl class="simple">
<dt><strong>nvme</strong></dt><dd><p>This is default and uses Linux NVMe Driver ioctl() for
synchronous I/O.</p>
</dd>
<dt><strong>psync</strong></dt><dd><p>This supports regular as well as vectored pread() and pwrite()
commands.</p>
</dd>
<dt><strong>block</strong></dt><dd><p>This is the same as psync except that it also supports zone
management commands using Linux block layer IOCTLs.</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-xnvme_admin">
<span id="cmdoption-arg-xnvme-admin"></span><span class="sig-name descname"><span class="pre">xnvme_admin</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[xnvme]</span></span><a class="headerlink" href="#cmdoption-arg-xnvme_admin" title="Permalink to this definition">¶</a></dt>
<dd><p>Select the xnvme admin command interface. This can take these values.</p>
<dl class="simple">
<dt><strong>nvme</strong></dt><dd><p>This is default and uses linux NVMe Driver ioctl() for admin
commands.</p>
</dd>
<dt><strong>block</strong></dt><dd><p>Use Linux Block Layer ioctl() and sysfs for admin commands.</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-xnvme_dev_nsid">
<span id="cmdoption-arg-xnvme-dev-nsid"></span><span class="sig-name descname"><span class="pre">xnvme_dev_nsid</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[xnvme]</span></span><a class="headerlink" href="#cmdoption-arg-xnvme_dev_nsid" title="Permalink to this definition">¶</a></dt>
<dd><p>xnvme namespace identifier for userspace NVMe driver, SPDK or vfio.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-xnvme_dev_subnqn">
<span id="cmdoption-arg-xnvme-dev-subnqn"></span><span class="sig-name descname"><span class="pre">xnvme_dev_subnqn</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[xnvme]</span></span><a class="headerlink" href="#cmdoption-arg-xnvme_dev_subnqn" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the subsystem NQN for fabrics. This is for xNVMe to utilize a
fabrics target with multiple systems.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-xnvme_mem">
<span id="cmdoption-arg-xnvme-mem"></span><span class="sig-name descname"><span class="pre">xnvme_mem</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[xnvme]</span></span><a class="headerlink" href="#cmdoption-arg-xnvme_mem" title="Permalink to this definition">¶</a></dt>
<dd><p>Select the xnvme memory backend. This can take these values.</p>
<dl class="simple">
<dt><strong>posix</strong></dt><dd><p>This is the default posix memory backend for linux NVMe driver.</p>
</dd>
<dt><strong>hugepage</strong></dt><dd><p>Use hugepages, instead of existing posix memory backend. The
memory backend uses hugetlbfs. This require users to allocate
hugepages, mount hugetlbfs and set an environment variable for
XNVME_HUGETLB_PATH.</p>
</dd>
<dt><strong>spdk</strong></dt><dd><p>Uses SPDK’s memory allocator.</p>
</dd>
<dt><strong>vfio</strong></dt><dd><p>Uses libvfn’s memory allocator. This also specifies the use
of libvfn backend instead of SPDK.</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-xnvme_iovec">
<span id="cmdoption-arg-xnvme-iovec"></span><span class="sig-name descname"><span class="pre">xnvme_iovec</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[xnvme]</span></span><a class="headerlink" href="#cmdoption-arg-xnvme_iovec" title="Permalink to this definition">¶</a></dt>
<dd><p>If this option is set. xnvme will use vectored read/write commands.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-libblkio_driver">
<span id="cmdoption-arg-libblkio-driver"></span><span class="sig-name descname"><span class="pre">libblkio_driver</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[libblkio]</span></span><a class="headerlink" href="#cmdoption-arg-libblkio_driver" title="Permalink to this definition">¶</a></dt>
<dd><p>The libblkio <em>driver</em> to use. Different drivers access devices through
different underlying interfaces. Available drivers depend on the
libblkio version in use and are listed at
<a class="reference external" href="https://libblkio.gitlab.io/libblkio/blkio.html#drivers">https://libblkio.gitlab.io/libblkio/blkio.html#drivers</a></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-libblkio_path">
<span id="cmdoption-arg-libblkio-path"></span><span class="sig-name descname"><span class="pre">libblkio_path</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[libblkio]</span></span><a class="headerlink" href="#cmdoption-arg-libblkio_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the value of the driver-specific “path” property before connecting
the libblkio instance, which identifies the target device or file on
which to perform I/O. Its exact semantics are driver-dependent and not
all drivers may support it; see
<a class="reference external" href="https://libblkio.gitlab.io/libblkio/blkio.html#drivers">https://libblkio.gitlab.io/libblkio/blkio.html#drivers</a></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-libblkio_pre_connect_props">
<span id="cmdoption-arg-libblkio-pre-connect-props"></span><span class="sig-name descname"><span class="pre">libblkio_pre_connect_props</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[libblkio]</span></span><a class="headerlink" href="#cmdoption-arg-libblkio_pre_connect_props" title="Permalink to this definition">¶</a></dt>
<dd><p>A colon-separated list of additional libblkio properties to be set after
creating but before connecting the libblkio instance. Each property must
have the format <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;=&lt;value&gt;</span></code>. Colons can be escaped as <code class="docutils literal notranslate"><span class="pre">\:</span></code>.
These are set after the engine sets any other properties, so those can
be overridden. Available properties depend on the libblkio version in use
and are listed at
<a class="reference external" href="https://libblkio.gitlab.io/libblkio/blkio.html#properties">https://libblkio.gitlab.io/libblkio/blkio.html#properties</a></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-libblkio_num_entries">
<span id="cmdoption-arg-libblkio-num-entries"></span><span class="sig-name descname"><span class="pre">libblkio_num_entries</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[libblkio]</span></span><a class="headerlink" href="#cmdoption-arg-libblkio_num_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the value of the driver-specific “num-entries” property before
starting the libblkio instance. Its exact semantics are driver-dependent
and not all drivers may support it; see
<a class="reference external" href="https://libblkio.gitlab.io/libblkio/blkio.html#drivers">https://libblkio.gitlab.io/libblkio/blkio.html#drivers</a></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-libblkio_queue_size">
<span id="cmdoption-arg-libblkio-queue-size"></span><span class="sig-name descname"><span class="pre">libblkio_queue_size</span></span><span class="sig-prename descclassname"><span class="pre">=int</span> <span class="pre">:</span> <span class="pre">[libblkio]</span></span><a class="headerlink" href="#cmdoption-arg-libblkio_queue_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the value of the driver-specific “queue-size” property before
starting the libblkio instance. Its exact semantics are driver-dependent
and not all drivers may support it; see
<a class="reference external" href="https://libblkio.gitlab.io/libblkio/blkio.html#drivers">https://libblkio.gitlab.io/libblkio/blkio.html#drivers</a></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-libblkio_pre_start_props">
<span id="cmdoption-arg-libblkio-pre-start-props"></span><span class="sig-name descname"><span class="pre">libblkio_pre_start_props</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[libblkio]</span></span><a class="headerlink" href="#cmdoption-arg-libblkio_pre_start_props" title="Permalink to this definition">¶</a></dt>
<dd><p>A colon-separated list of additional libblkio properties to be set after
connecting but before starting the libblkio instance. Each property must
have the format <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;=&lt;value&gt;</span></code>. Colons can be escaped as <code class="docutils literal notranslate"><span class="pre">\:</span></code>.
These are set after the engine sets any other properties, so those can
be overridden. Available properties depend on the libblkio version in use
and are listed at
<a class="reference external" href="https://libblkio.gitlab.io/libblkio/blkio.html#properties">https://libblkio.gitlab.io/libblkio/blkio.html#properties</a></p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-libblkio_vectored">
<span id="cmdoption-arg-libblkio-vectored"></span><span class="sig-name descname"><span class="pre">libblkio_vectored</span></span><span class="sig-prename descclassname"> <span class="pre">:</span> <span class="pre">[libblkio]</span></span><a class="headerlink" href="#cmdoption-arg-libblkio_vectored" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit vectored read and write requests.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-libblkio_write_zeroes_on_trim">
<span id="cmdoption-arg-libblkio-write-zeroes-on-trim"></span><span class="sig-name descname"><span class="pre">libblkio_write_zeroes_on_trim</span></span><span class="sig-prename descclassname"> <span class="pre">:</span> <span class="pre">[libblkio]</span></span><a class="headerlink" href="#cmdoption-arg-libblkio_write_zeroes_on_trim" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit trims as “write zeroes” requests instead of discard requests.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-libblkio_wait_mode">
<span id="cmdoption-arg-libblkio-wait-mode"></span><span class="sig-name descname"><span class="pre">libblkio_wait_mode</span></span><span class="sig-prename descclassname"><span class="pre">=str</span> <span class="pre">:</span> <span class="pre">[libblkio]</span></span><a class="headerlink" href="#cmdoption-arg-libblkio_wait_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>How to wait for completions:</p>
<dl class="simple">
<dt><strong>block</strong> (default)</dt><dd><p>Use a blocking call to <code class="docutils literal notranslate"><span class="pre">blkioq_do_io()</span></code>.</p>
</dd>
<dt><strong>eventfd</strong></dt><dd><p>Use a blocking call to <code class="docutils literal notranslate"><span class="pre">read()</span></code> on the completion eventfd.</p>
</dd>
<dt><strong>loop</strong></dt><dd><p>Use a busy loop with a non-blocking call to <code class="docutils literal notranslate"><span class="pre">blkioq_do_io()</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-libblkio_force_enable_completion_eventfd">
<span id="cmdoption-arg-libblkio-force-enable-completion-eventfd"></span><span class="sig-name descname"><span class="pre">libblkio_force_enable_completion_eventfd</span></span><span class="sig-prename descclassname"> <span class="pre">:</span> <span class="pre">[libblkio]</span></span><a class="headerlink" href="#cmdoption-arg-libblkio_force_enable_completion_eventfd" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable the queue’s completion eventfd even when unused. This may impact
performance. The default is to enable it only if
<a class="reference internal" href="#cmdoption-arg-libblkio_wait_mode"><code class="xref std std-option docutils literal notranslate"><span class="pre">libblkio_wait_mode=eventfd</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-no_completion_thread">
<span id="cmdoption-arg-no-completion-thread"></span><span class="sig-name descname"><span class="pre">no_completion_thread</span></span><span class="sig-prename descclassname"> <span class="pre">:</span> <span class="pre">[windowsaio]</span></span><a class="headerlink" href="#cmdoption-arg-no_completion_thread" title="Permalink to this definition">¶</a></dt>
<dd><p>Avoid using a separate thread for completion polling.</p>
</dd></dl>

</section>
<section id="i-o-depth">
<h3><span class="section-number">1.13.12. </span>I/O depth<a class="headerlink" href="#i-o-depth" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-iodepth">
<span class="sig-name descname"><span class="pre">iodepth</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-iodepth" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of I/O units to keep in flight against the file.  Note that
increasing <em>iodepth</em> beyond 1 will not affect synchronous ioengines (except
for small degrees when <a class="reference internal" href="#cmdoption-arg-verify_async"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify_async</span></code></a> is in use).  Even async
engines may impose OS restrictions causing the desired depth not to be
achieved.  This may happen on Linux when using libaio and not setting
<a class="reference internal" href="#cmdoption-arg-direct"><code class="xref std std-option docutils literal notranslate"><span class="pre">direct</span></code></a>=1, since buffered I/O is not async on that OS.  Keep an
eye on the I/O depth distribution in the fio output to verify that the
achieved depth is as expected. Default: 1.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-iodepth_batch_submit">
<span id="cmdoption-arg-iodepth-batch-submit"></span><span id="cmdoption-arg-iodepth_batch"></span><span id="cmdoption-arg-iodepth-batch"></span><span class="sig-name descname"><span class="pre">iodepth_batch_submit</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">iodepth_batch</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-iodepth_batch_submit" title="Permalink to this definition">¶</a></dt>
<dd><p>This defines how many pieces of I/O to submit at once.  It defaults to 1
which means that we submit each I/O as soon as it is available, but can be
raised to submit bigger batches of I/O at the time. If it is set to 0 the
<a class="reference internal" href="#cmdoption-arg-iodepth"><code class="xref std std-option docutils literal notranslate"><span class="pre">iodepth</span></code></a> value will be used.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-iodepth_batch_complete_min">
<span id="cmdoption-arg-iodepth-batch-complete-min"></span><span id="cmdoption-arg-iodepth_batch_complete"></span><span id="cmdoption-arg-iodepth-batch-complete"></span><span class="sig-name descname"><span class="pre">iodepth_batch_complete_min</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">iodepth_batch_complete</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-iodepth_batch_complete_min" title="Permalink to this definition">¶</a></dt>
<dd><p>This defines how many pieces of I/O to retrieve at once. It defaults to 1
which means that we’ll ask for a minimum of 1 I/O in the retrieval process
from the kernel. The I/O retrieval will go on until we hit the limit set by
<a class="reference internal" href="#cmdoption-arg-iodepth_low"><code class="xref std std-option docutils literal notranslate"><span class="pre">iodepth_low</span></code></a>. If this variable is set to 0, then fio will always
check for completed events before queuing more I/O. This helps reduce I/O
latency, at the cost of more retrieval system calls.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-iodepth_batch_complete_max">
<span id="cmdoption-arg-iodepth-batch-complete-max"></span><span class="sig-name descname"><span class="pre">iodepth_batch_complete_max</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-iodepth_batch_complete_max" title="Permalink to this definition">¶</a></dt>
<dd><p>This defines maximum pieces of I/O to retrieve at once. This variable should
be used along with <a class="reference internal" href="#cmdoption-arg-iodepth_batch_complete_min"><code class="xref std std-option docutils literal notranslate"><span class="pre">iodepth_batch_complete_min</span></code></a>=int variable,
specifying the range of min and max amount of I/O which should be
retrieved. By default it is equal to the <a class="reference internal" href="#cmdoption-arg-iodepth_batch_complete_min"><code class="xref std std-option docutils literal notranslate"><span class="pre">iodepth_batch_complete_min</span></code></a>
value.</p>
<p>Example #1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">iodepth_batch_complete_min</span><span class="o">=</span><span class="mi">1</span>
<span class="n">iodepth_batch_complete_max</span><span class="o">=&lt;</span><span class="n">iodepth</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>which means that we will retrieve at least 1 I/O and up to the whole
submitted queue depth. If none of I/O has been completed yet, we will wait.</p>
<p>Example #2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">iodepth_batch_complete_min</span><span class="o">=</span><span class="mi">0</span>
<span class="n">iodepth_batch_complete_max</span><span class="o">=&lt;</span><span class="n">iodepth</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>which means that we can retrieve up to the whole submitted queue depth, but
if none of I/O has been completed yet, we will NOT wait and immediately exit
the system call. In this example we simply do polling.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-iodepth_low">
<span id="cmdoption-arg-iodepth-low"></span><span class="sig-name descname"><span class="pre">iodepth_low</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-iodepth_low" title="Permalink to this definition">¶</a></dt>
<dd><p>The low water mark indicating when to start filling the queue
again. Defaults to the same as <a class="reference internal" href="#cmdoption-arg-iodepth"><code class="xref std std-option docutils literal notranslate"><span class="pre">iodepth</span></code></a>, meaning that fio will
attempt to keep the queue full at all times.  If <a class="reference internal" href="#cmdoption-arg-iodepth"><code class="xref std std-option docutils literal notranslate"><span class="pre">iodepth</span></code></a> is set to
e.g. 16 and <em>iodepth_low</em> is set to 4, then after fio has filled the queue of
16 requests, it will let the depth drain down to 4 before starting to fill
it again.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-serialize_overlap">
<span id="cmdoption-arg-serialize-overlap"></span><span class="sig-name descname"><span class="pre">serialize_overlap</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-serialize_overlap" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize in-flight I/Os that might otherwise cause or suffer from data races.
When two or more I/Os are submitted simultaneously, there is no guarantee that
the I/Os will be processed or completed in the submitted order. Further, if
two or more of those I/Os are writes, any overlapping region between them can
become indeterminate/undefined on certain storage. These issues can cause
verification to fail erratically when at least one of the racing I/Os is
changing data and the overlapping region has a non-zero size. Setting
<code class="docutils literal notranslate"><span class="pre">serialize_overlap</span></code> tells fio to avoid provoking this behavior by explicitly
serializing in-flight I/Os that have a non-zero overlap. Note that setting
this option can reduce both performance and the <a class="reference internal" href="#cmdoption-arg-iodepth"><code class="xref std std-option docutils literal notranslate"><span class="pre">iodepth</span></code></a> achieved.</p>
<p>This option only applies to I/Os issued for a single job except when it is
enabled along with <a class="reference internal" href="#cmdoption-arg-io_submit_mode"><code class="xref std std-option docutils literal notranslate"><span class="pre">io_submit_mode</span></code></a>=offload. In offload mode, fio
will check for overlap among all I/Os submitted by offload jobs with <a class="reference internal" href="#cmdoption-arg-serialize_overlap"><code class="xref std std-option docutils literal notranslate"><span class="pre">serialize_overlap</span></code></a>
enabled.</p>
<p>Default: false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-io_submit_mode">
<span id="cmdoption-arg-io-submit-mode"></span><span class="sig-name descname"><span class="pre">io_submit_mode</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-io_submit_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>This option controls how fio submits the I/O to the I/O engine. The default
is <cite>inline</cite>, which means that the fio job threads submit and reap I/O
directly. If set to <cite>offload</cite>, the job threads will offload I/O submission
to a dedicated pool of I/O threads. This requires some coordination and thus
has a bit of extra overhead, especially for lower queue depth I/O where it
can increase latencies. The benefit is that fio can manage submission rates
independently of the device completion rates. This avoids skewed latency
reporting if I/O gets backed up on the device side (the coordinated omission
problem). Note that this option cannot reliably be used with async IO
engines.</p>
</dd></dl>

</section>
<section id="i-o-rate">
<h3><span class="section-number">1.13.13. </span>I/O rate<a class="headerlink" href="#i-o-rate" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-thinktime">
<span class="sig-name descname"><span class="pre">thinktime</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><a class="headerlink" href="#cmdoption-arg-thinktime" title="Permalink to this definition">¶</a></dt>
<dd><p>Stall the job for the specified period of time after an I/O has completed before issuing the
next. May be used to simulate processing being done by an application.
When the unit is omitted, the value is interpreted in microseconds.  See
<a class="reference internal" href="#cmdoption-arg-thinktime_blocks"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime_blocks</span></code></a>, <a class="reference internal" href="#cmdoption-arg-thinktime_iotime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime_iotime</span></code></a> and <a class="reference internal" href="#cmdoption-arg-thinktime_spin"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime_spin</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-thinktime_spin">
<span id="cmdoption-arg-thinktime-spin"></span><span class="sig-name descname"><span class="pre">thinktime_spin</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><a class="headerlink" href="#cmdoption-arg-thinktime_spin" title="Permalink to this definition">¶</a></dt>
<dd><p>Only valid if <a class="reference internal" href="#cmdoption-arg-thinktime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime</span></code></a> is set - pretend to spend CPU time doing
something with the data received, before falling back to sleeping for the
rest of the period specified by <a class="reference internal" href="#cmdoption-arg-thinktime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime</span></code></a>.  When the unit is
omitted, the value is interpreted in microseconds.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-thinktime_blocks">
<span id="cmdoption-arg-thinktime-blocks"></span><span class="sig-name descname"><span class="pre">thinktime_blocks</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-thinktime_blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Only valid if <a class="reference internal" href="#cmdoption-arg-thinktime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime</span></code></a> is set - control how many blocks to issue,
before waiting <a class="reference internal" href="#cmdoption-arg-thinktime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime</span></code></a> usecs. If not set, defaults to 1 which will make
fio wait <a class="reference internal" href="#cmdoption-arg-thinktime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime</span></code></a> usecs after every block. This effectively makes any
queue depth setting redundant, since no more than 1 I/O will be queued
before we have to complete it and do our <a class="reference internal" href="#cmdoption-arg-thinktime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime</span></code></a>. In other words, this
setting effectively caps the queue depth if the latter is larger.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-thinktime_blocks_type">
<span id="cmdoption-arg-thinktime-blocks-type"></span><span class="sig-name descname"><span class="pre">thinktime_blocks_type</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-thinktime_blocks_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Only valid if <a class="reference internal" href="#cmdoption-arg-thinktime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime</span></code></a> is set - control how <a class="reference internal" href="#cmdoption-arg-thinktime_blocks"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime_blocks</span></code></a>
triggers. The default is <cite>complete</cite>, which triggers thinktime when fio completes
<a class="reference internal" href="#cmdoption-arg-thinktime_blocks"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime_blocks</span></code></a> blocks. If this is set to <cite>issue</cite>, then the trigger happens
at the issue side.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-thinktime_iotime">
<span id="cmdoption-arg-thinktime-iotime"></span><span class="sig-name descname"><span class="pre">thinktime_iotime</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><a class="headerlink" href="#cmdoption-arg-thinktime_iotime" title="Permalink to this definition">¶</a></dt>
<dd><p>Only valid if <a class="reference internal" href="#cmdoption-arg-thinktime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime</span></code></a> is set - control <a class="reference internal" href="#cmdoption-arg-thinktime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime</span></code></a>
interval by time. The <a class="reference internal" href="#cmdoption-arg-thinktime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime</span></code></a> stall is repeated after IOs
are executed for <a class="reference internal" href="#cmdoption-arg-thinktime_iotime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime_iotime</span></code></a>. For example,
<code class="docutils literal notranslate"><span class="pre">--thinktime_iotime=9s</span> <span class="pre">--thinktime=1s</span></code> repeat 10-second cycle with IOs
for 9 seconds and stall for 1 second. When the unit is omitted,
<a class="reference internal" href="#cmdoption-arg-thinktime_iotime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime_iotime</span></code></a> is interpreted as a number of seconds. If
this option is used together with <a class="reference internal" href="#cmdoption-arg-thinktime_blocks"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime_blocks</span></code></a>, the
<a class="reference internal" href="#cmdoption-arg-thinktime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime</span></code></a> stall is repeated after <a class="reference internal" href="#cmdoption-arg-thinktime_iotime"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime_iotime</span></code></a>
or after <a class="reference internal" href="#cmdoption-arg-thinktime_blocks"><code class="xref std std-option docutils literal notranslate"><span class="pre">thinktime_blocks</span></code></a> IOs, whichever happens first.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-rate">
<span class="sig-name descname"><span class="pre">rate</span></span><span class="sig-prename descclassname"><span class="pre">=int[,int][,int]</span></span><a class="headerlink" href="#cmdoption-arg-rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Cap the bandwidth used by this job. The number is in bytes/sec, the normal
suffix rules apply.  Comma-separated values may be specified for reads,
writes, and trims as described in <a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize</span></code></a>.</p>
<p>For example, using <cite>rate=1m,500k</cite> would limit reads to 1MiB/sec and writes to
500KiB/sec.  Capping only reads or writes can be done with <cite>rate=,500k</cite> or
<cite>rate=500k,</cite> where the former will only limit writes (to 500KiB/sec) and the
latter will only limit reads.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-rate_min">
<span id="cmdoption-arg-rate-min"></span><span class="sig-name descname"><span class="pre">rate_min</span></span><span class="sig-prename descclassname"><span class="pre">=int[,int][,int]</span></span><a class="headerlink" href="#cmdoption-arg-rate_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell fio to do whatever it can to maintain at least this bandwidth. Failing
to meet this requirement will cause the job to exit.  Comma-separated values
may be specified for reads, writes, and trims as described in
<a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-rate_iops">
<span id="cmdoption-arg-rate-iops"></span><span class="sig-name descname"><span class="pre">rate_iops</span></span><span class="sig-prename descclassname"><span class="pre">=int[,int][,int]</span></span><a class="headerlink" href="#cmdoption-arg-rate_iops" title="Permalink to this definition">¶</a></dt>
<dd><p>Cap the bandwidth to this number of IOPS. Basically the same as
<a class="reference internal" href="#cmdoption-arg-rate"><code class="xref std std-option docutils literal notranslate"><span class="pre">rate</span></code></a>, just specified independently of bandwidth. If the job is
given a block size range instead of a fixed value, the smallest block size
is used as the metric.  Comma-separated values may be specified for reads,
writes, and trims as described in <a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-rate_iops_min">
<span id="cmdoption-arg-rate-iops-min"></span><span class="sig-name descname"><span class="pre">rate_iops_min</span></span><span class="sig-prename descclassname"><span class="pre">=int[,int][,int]</span></span><a class="headerlink" href="#cmdoption-arg-rate_iops_min" title="Permalink to this definition">¶</a></dt>
<dd><p>If fio doesn’t meet this rate of I/O, it will cause the job to exit.
Comma-separated values may be specified for reads, writes, and trims as
described in <a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-rate_process">
<span id="cmdoption-arg-rate-process"></span><span class="sig-name descname"><span class="pre">rate_process</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-rate_process" title="Permalink to this definition">¶</a></dt>
<dd><p>This option controls how fio manages rated I/O submissions. The default is
<cite>linear</cite>, which submits I/O in a linear fashion with fixed delays between
I/Os that gets adjusted based on I/O completion rates. If this is set to
<cite>poisson</cite>, fio will submit I/O based on a more real world random request
flow, known as the Poisson process
(<a class="reference external" href="https://en.wikipedia.org/wiki/Poisson_point_process">https://en.wikipedia.org/wiki/Poisson_point_process</a>). The lambda will be
10^6 / IOPS for the given workload.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-rate_ignore_thinktime">
<span id="cmdoption-arg-rate-ignore-thinktime"></span><span class="sig-name descname"><span class="pre">rate_ignore_thinktime</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-rate_ignore_thinktime" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, fio will attempt to catch up to the specified rate setting,
if any kind of thinktime setting was used. If this option is set, then
fio will ignore the thinktime and continue doing IO at the specified
rate, instead of entering a catch-up mode after thinktime is done.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-rate_cycle">
<span id="cmdoption-arg-rate-cycle"></span><span class="sig-name descname"><span class="pre">rate_cycle</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-rate_cycle" title="Permalink to this definition">¶</a></dt>
<dd><p>Average bandwidth for <a class="reference internal" href="#cmdoption-arg-rate"><code class="xref std std-option docutils literal notranslate"><span class="pre">rate</span></code></a> and <a class="reference internal" href="#cmdoption-arg-rate_min"><code class="xref std std-option docutils literal notranslate"><span class="pre">rate_min</span></code></a> over this number
of milliseconds. Defaults to 1000.</p>
</dd></dl>

</section>
<section id="i-o-latency">
<h3><span class="section-number">1.13.14. </span>I/O latency<a class="headerlink" href="#i-o-latency" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-latency_target">
<span id="cmdoption-arg-latency-target"></span><span class="sig-name descname"><span class="pre">latency_target</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><a class="headerlink" href="#cmdoption-arg-latency_target" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, fio will attempt to find the max performance point that the given
workload will run at while maintaining a latency below this target.  When
the unit is omitted, the value is interpreted in microseconds.  See
<a class="reference internal" href="#cmdoption-arg-latency_window"><code class="xref std std-option docutils literal notranslate"><span class="pre">latency_window</span></code></a> and <a class="reference internal" href="#cmdoption-arg-latency_percentile"><code class="xref std std-option docutils literal notranslate"><span class="pre">latency_percentile</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-latency_window">
<span id="cmdoption-arg-latency-window"></span><span class="sig-name descname"><span class="pre">latency_window</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><a class="headerlink" href="#cmdoption-arg-latency_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Used with <a class="reference internal" href="#cmdoption-arg-latency_target"><code class="xref std std-option docutils literal notranslate"><span class="pre">latency_target</span></code></a> to specify the sample window that the job
is run at varying queue depths to test the performance.  When the unit is
omitted, the value is interpreted in microseconds.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-latency_percentile">
<span id="cmdoption-arg-latency-percentile"></span><span class="sig-name descname"><span class="pre">latency_percentile</span></span><span class="sig-prename descclassname"><span class="pre">=float</span></span><a class="headerlink" href="#cmdoption-arg-latency_percentile" title="Permalink to this definition">¶</a></dt>
<dd><p>The percentage of I/Os that must fall within the criteria specified by
<a class="reference internal" href="#cmdoption-arg-latency_target"><code class="xref std std-option docutils literal notranslate"><span class="pre">latency_target</span></code></a> and <a class="reference internal" href="#cmdoption-arg-latency_window"><code class="xref std std-option docutils literal notranslate"><span class="pre">latency_window</span></code></a>. If not set, this
defaults to 100.0, meaning that all I/Os must be equal or below to the value
set by <a class="reference internal" href="#cmdoption-arg-latency_target"><code class="xref std std-option docutils literal notranslate"><span class="pre">latency_target</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-latency_run">
<span id="cmdoption-arg-latency-run"></span><span class="sig-name descname"><span class="pre">latency_run</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-latency_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Used with <a class="reference internal" href="#cmdoption-arg-latency_target"><code class="xref std std-option docutils literal notranslate"><span class="pre">latency_target</span></code></a>. If false (default), fio will find
the highest queue depth that meets <a class="reference internal" href="#cmdoption-arg-latency_target"><code class="xref std std-option docutils literal notranslate"><span class="pre">latency_target</span></code></a> and exit. If
true, fio will continue running and try to meet <a class="reference internal" href="#cmdoption-arg-latency_target"><code class="xref std std-option docutils literal notranslate"><span class="pre">latency_target</span></code></a>
by adjusting queue depth.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-max_latency">
<span id="cmdoption-arg-max-latency"></span><span class="sig-name descname"><span class="pre">max_latency</span></span><span class="sig-prename descclassname"><span class="pre">=time[,time][,time]</span></span><a class="headerlink" href="#cmdoption-arg-max_latency" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, fio will exit the job with an ETIMEDOUT error if it exceeds this
maximum latency. When the unit is omitted, the value is interpreted in
microseconds. Comma-separated values may be specified for reads, writes,
and trims as described in <a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize</span></code></a>.</p>
</dd></dl>

</section>
<section id="i-o-replay">
<h3><span class="section-number">1.13.15. </span>I/O replay<a class="headerlink" href="#i-o-replay" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-write_iolog">
<span id="cmdoption-arg-write-iolog"></span><span class="sig-name descname"><span class="pre">write_iolog</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-write_iolog" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the issued I/O patterns to the specified file. See
<a class="reference internal" href="#cmdoption-arg-read_iolog"><code class="xref std std-option docutils literal notranslate"><span class="pre">read_iolog</span></code></a>.  Specify a separate file for each job, otherwise the
iologs will be interspersed and the file may be corrupt. This file will
be opened in append mode.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-read_iolog">
<span id="cmdoption-arg-read-iolog"></span><span class="sig-name descname"><span class="pre">read_iolog</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-read_iolog" title="Permalink to this definition">¶</a></dt>
<dd><p>Open an iolog with the specified filename and replay the I/O patterns it
contains. This can be used to store a workload and replay it sometime
later. The iolog given may also be a blktrace binary file, which allows fio
to replay a workload captured by <strong class="command">blktrace</strong>. See
<em class="manpage">blktrace(8)</em> for how to capture such logging data. For blktrace
replay, the file needs to be turned into a blkparse binary data file first
(<code class="docutils literal notranslate"><span class="pre">blkparse</span> <span class="pre">&lt;device&gt;</span> <span class="pre">-o</span> <span class="pre">/dev/null</span> <span class="pre">-d</span> <span class="pre">file_for_fio.bin</span></code>).
You can specify a number of files by separating the names with a ‘:’
character. See the <a class="reference internal" href="#cmdoption-arg-filename"><code class="xref std std-option docutils literal notranslate"><span class="pre">filename</span></code></a> option for information on how to
escape ‘:’ characters within the file names. These files will
be sequentially assigned to job clones created by <a class="reference internal" href="#cmdoption-arg-numjobs"><code class="xref std std-option docutils literal notranslate"><span class="pre">numjobs</span></code></a>.
‘-’ is a reserved name, meaning read from stdin, notably if
<a class="reference internal" href="#cmdoption-arg-filename"><code class="xref std std-option docutils literal notranslate"><span class="pre">filename</span></code></a> is set to ‘-’ which means stdin as well, then
this flag can’t be set to ‘-‘.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-read_iolog_chunked">
<span id="cmdoption-arg-read-iolog-chunked"></span><span class="sig-name descname"><span class="pre">read_iolog_chunked</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-read_iolog_chunked" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines how iolog is read. If false(default) entire <a class="reference internal" href="#cmdoption-arg-read_iolog"><code class="xref std std-option docutils literal notranslate"><span class="pre">read_iolog</span></code></a>
will be read at once. If selected true, input from iolog will be read
gradually. Useful when iolog is very large, or it is generated.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-merge_blktrace_file">
<span id="cmdoption-arg-merge-blktrace-file"></span><span class="sig-name descname"><span class="pre">merge_blktrace_file</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-merge_blktrace_file" title="Permalink to this definition">¶</a></dt>
<dd><p>When specified, rather than replaying the logs passed to <a class="reference internal" href="#cmdoption-arg-read_iolog"><code class="xref std std-option docutils literal notranslate"><span class="pre">read_iolog</span></code></a>,
the logs go through a merge phase which aggregates them into a single
blktrace. The resulting file is then passed on as the <a class="reference internal" href="#cmdoption-arg-read_iolog"><code class="xref std std-option docutils literal notranslate"><span class="pre">read_iolog</span></code></a>
parameter. The intention here is to make the order of events consistent.
This limits the influence of the scheduler compared to replaying multiple
blktraces via concurrent jobs.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-merge_blktrace_scalars">
<span id="cmdoption-arg-merge-blktrace-scalars"></span><span class="sig-name descname"><span class="pre">merge_blktrace_scalars</span></span><span class="sig-prename descclassname"><span class="pre">=float_list</span></span><a class="headerlink" href="#cmdoption-arg-merge_blktrace_scalars" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a percentage based option that is index paired with the list of
files passed to <a class="reference internal" href="#cmdoption-arg-read_iolog"><code class="xref std std-option docutils literal notranslate"><span class="pre">read_iolog</span></code></a>. When merging is performed, scale
the time of each event by the corresponding amount. For example,
<code class="docutils literal notranslate"><span class="pre">--merge_blktrace_scalars=&quot;50:100&quot;</span></code> runs the first trace in halftime
and the second trace in realtime. This knob is separately tunable from
<a class="reference internal" href="#cmdoption-arg-replay_time_scale"><code class="xref std std-option docutils literal notranslate"><span class="pre">replay_time_scale</span></code></a> which scales the trace during runtime and
does not change the output of the merge unlike this option.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-merge_blktrace_iters">
<span id="cmdoption-arg-merge-blktrace-iters"></span><span class="sig-name descname"><span class="pre">merge_blktrace_iters</span></span><span class="sig-prename descclassname"><span class="pre">=float_list</span></span><a class="headerlink" href="#cmdoption-arg-merge_blktrace_iters" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a whole number option that is index paired with the list of files
passed to <a class="reference internal" href="#cmdoption-arg-read_iolog"><code class="xref std std-option docutils literal notranslate"><span class="pre">read_iolog</span></code></a>. When merging is performed, run each trace
for the specified number of iterations. For example,
<code class="docutils literal notranslate"><span class="pre">--merge_blktrace_iters=&quot;2:1&quot;</span></code> runs the first trace for two iterations
and the second trace for one iteration.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-replay_no_stall">
<span id="cmdoption-arg-replay-no-stall"></span><span class="sig-name descname"><span class="pre">replay_no_stall</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-replay_no_stall" title="Permalink to this definition">¶</a></dt>
<dd><p>When replaying I/O with <a class="reference internal" href="#cmdoption-arg-read_iolog"><code class="xref std std-option docutils literal notranslate"><span class="pre">read_iolog</span></code></a> the default behavior is to
attempt to respect the timestamps within the log and replay them with the
appropriate delay between IOPS. By setting this variable fio will not
respect the timestamps and attempt to replay them as fast as possible while
still respecting ordering. The result is the same I/O pattern to a given
device, but different timings.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-replay_time_scale">
<span id="cmdoption-arg-replay-time-scale"></span><span class="sig-name descname"><span class="pre">replay_time_scale</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-replay_time_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>When replaying I/O with <a class="reference internal" href="#cmdoption-arg-read_iolog"><code class="xref std std-option docutils literal notranslate"><span class="pre">read_iolog</span></code></a>, fio will honor the
original timing in the trace. With this option, it’s possible to scale
the time. It’s a percentage option, if set to 50 it means run at 50%
the original IO rate in the trace. If set to 200, run at twice the
original IO rate. Defaults to 100.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-replay_redirect">
<span id="cmdoption-arg-replay-redirect"></span><span class="sig-name descname"><span class="pre">replay_redirect</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-replay_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>While replaying I/O patterns using <a class="reference internal" href="#cmdoption-arg-read_iolog"><code class="xref std std-option docutils literal notranslate"><span class="pre">read_iolog</span></code></a> the default behavior
is to replay the IOPS onto the major/minor device that each IOP was recorded
from.  This is sometimes undesirable because on a different machine those
major/minor numbers can map to a different device.  Changing hardware on the
same system can also result in a different major/minor mapping.
<code class="docutils literal notranslate"><span class="pre">replay_redirect</span></code> causes all I/Os to be replayed onto the single specified
device regardless of the device it was recorded
from. i.e. <a class="reference internal" href="#cmdoption-arg-replay_redirect"><code class="xref std std-option docutils literal notranslate"><span class="pre">replay_redirect</span></code></a>= <code class="file docutils literal notranslate"><span class="pre">/dev/sdc</span></code> would cause all I/O
in the blktrace or iolog to be replayed onto <code class="file docutils literal notranslate"><span class="pre">/dev/sdc</span></code>.  This means
multiple devices will be replayed onto a single device, if the trace
contains multiple devices. If you want multiple devices to be replayed
concurrently to multiple redirected devices you must blkparse your trace
into separate traces and replay them with independent fio invocations.
Unfortunately this also breaks the strict time ordering between multiple
device accesses.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-replay_align">
<span id="cmdoption-arg-replay-align"></span><span class="sig-name descname"><span class="pre">replay_align</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-replay_align" title="Permalink to this definition">¶</a></dt>
<dd><p>Force alignment of the byte offsets in a trace to this value. The value
must be a power of 2.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-replay_scale">
<span id="cmdoption-arg-replay-scale"></span><span class="sig-name descname"><span class="pre">replay_scale</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-replay_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale byte offsets down by this factor when replaying traces. Should most
likely use <a class="reference internal" href="#cmdoption-arg-replay_align"><code class="xref std std-option docutils literal notranslate"><span class="pre">replay_align</span></code></a> as well.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-replay_skip">
<span id="cmdoption-arg-replay-skip"></span><span class="sig-name descname"><span class="pre">replay_skip</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-replay_skip" title="Permalink to this definition">¶</a></dt>
<dd><p>Sometimes it’s useful to skip certain IO types in a replay trace.
This could be, for instance, eliminating the writes in the trace.
Or not replaying the trims/discards, if you are redirecting to
a device that doesn’t support them. This option takes a comma
separated list of read, write, trim, sync.</p>
</dd></dl>

</section>
<section id="threads-processes-and-job-synchronization">
<h3><span class="section-number">1.13.16. </span>Threads, processes and job synchronization<a class="headerlink" href="#threads-processes-and-job-synchronization" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-thread">
<span class="sig-name descname"><span class="pre">thread</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-thread" title="Permalink to this definition">¶</a></dt>
<dd><p>Fio defaults to creating jobs by using fork, however if this option is
given, fio will create jobs by using POSIX Threads’ function
<em class="manpage">pthread_create(3)</em> to create threads instead.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-wait_for">
<span id="cmdoption-arg-wait-for"></span><span class="sig-name descname"><span class="pre">wait_for</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-wait_for" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, the current job won’t be started until all workers of the specified
waitee job are done.</p>
<p><code class="docutils literal notranslate"><span class="pre">wait_for</span></code> operates on the job name basis, so there are a few
limitations. First, the waitee must be defined prior to the waiter job
(meaning no forward references). Second, if a job is being referenced as a
waitee, it must have a unique name (no duplicate waitees).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-nice">
<span class="sig-name descname"><span class="pre">nice</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-nice" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the job with the given nice value. See man <em class="manpage">nice(2)</em>.</p>
<p>On Windows, values less than -15 set the process class to “High”; -1 through
-15 set “Above Normal”; 1 through 15 “Below Normal”; and above 15 “Idle”
priority class.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-prio">
<span class="sig-name descname"><span class="pre">prio</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-prio" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the I/O priority value of this job. Linux limits us to a positive value
between 0 and 7, with 0 being the highest.  See man
<em class="manpage">ionice(1)</em>. Refer to an appropriate manpage for other operating
systems since meaning of priority may differ. For per-command priority
setting, see I/O engine specific <a class="reference internal" href="#cmdoption-arg-cmdprio_percentage"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_percentage</span></code></a> and
<a class="reference internal" href="#cmdoption-arg-cmdprio"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio</span></code></a> options.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-prioclass">
<span class="sig-name descname"><span class="pre">prioclass</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-prioclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the I/O priority class. See man <em class="manpage">ionice(1)</em>. For per-command
priority setting, see I/O engine specific <a class="reference internal" href="#cmdoption-arg-cmdprio_percentage"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_percentage</span></code></a>
and <a class="reference internal" href="#cmdoption-arg-cmdprio_class"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_class</span></code></a> options.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-priohint">
<span class="sig-name descname"><span class="pre">priohint</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-priohint" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the I/O priority hint. This is only applicable to platforms that
support I/O priority classes and to devices with features controlled
through priority hints, e.g. block devices supporting command duration
limits, or CDL. CDL is a way to indicate the desired maximum latency
of I/Os so that the device can optimize its internal command scheduling
according to the latency limits indicated by the user.</p>
<p>For per-I/O priority hint setting, see the I/O engine specific
<a class="reference internal" href="#cmdoption-arg-cmdprio_hint"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_hint</span></code></a> option.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cpus_allowed">
<span id="cmdoption-arg-cpus-allowed"></span><span class="sig-name descname"><span class="pre">cpus_allowed</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-cpus_allowed" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls the same options as <a class="reference internal" href="#cmdoption-arg-cpumask"><code class="xref std std-option docutils literal notranslate"><span class="pre">cpumask</span></code></a>, but accepts a textual
specification of the permitted CPUs instead and CPUs are indexed from 0. So
to use CPUs 0 and 5 you would specify <code class="docutils literal notranslate"><span class="pre">cpus_allowed=0,5</span></code>. This option also
allows a range of CPUs to be specified – say you wanted a binding to CPUs
0, 5, and 8 to 15, you would set <code class="docutils literal notranslate"><span class="pre">cpus_allowed=0,5,8-15</span></code>.</p>
<p>On Windows, when <code class="docutils literal notranslate"><span class="pre">cpus_allowed</span></code> is unset only CPUs from fio’s current
processor group will be used and affinity settings are inherited from the
system. An fio build configured to target Windows 7 makes options that set
CPUs processor group aware and values will set both the processor group
and a CPU from within that group. For example, on a system where processor
group 0 has 40 CPUs and processor group 1 has 32 CPUs, <code class="docutils literal notranslate"><span class="pre">cpus_allowed</span></code>
values between 0 and 39 will bind CPUs from processor group 0 and
<code class="docutils literal notranslate"><span class="pre">cpus_allowed</span></code> values between 40 and 71 will bind CPUs from processor
group 1. When using <code class="docutils literal notranslate"><span class="pre">cpus_allowed_policy=shared</span></code> all CPUs specified by a
single <code class="docutils literal notranslate"><span class="pre">cpus_allowed</span></code> option must be from the same processor group. For
Windows fio builds not built for Windows 7, CPUs will only be selected from
(and be relative to) whatever processor group fio happens to be running in
and CPUs from other processor groups cannot be used.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cpus_allowed_policy">
<span id="cmdoption-arg-cpus-allowed-policy"></span><span class="sig-name descname"><span class="pre">cpus_allowed_policy</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-cpus_allowed_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the policy of how fio distributes the CPUs specified by
<a class="reference internal" href="#cmdoption-arg-cpus_allowed"><code class="xref std std-option docutils literal notranslate"><span class="pre">cpus_allowed</span></code></a> or <a class="reference internal" href="#cmdoption-arg-cpumask"><code class="xref std std-option docutils literal notranslate"><span class="pre">cpumask</span></code></a>. Two policies are supported:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>shared</strong></dt><dd><p>All jobs will share the CPU set specified.</p>
</dd>
<dt><strong>split</strong></dt><dd><p>Each job will get a unique CPU from the CPU set.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>shared</strong> is the default behavior, if the option isn’t specified. If
<strong>split</strong> is specified, then fio will assign one cpu per job. If not
enough CPUs are given for the jobs listed, then fio will roundrobin the CPUs
in the set.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cpumask">
<span class="sig-name descname"><span class="pre">cpumask</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-cpumask" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the CPU affinity of this job. The parameter given is a bit mask of
allowed CPUs the job may run on. So if you want the allowed CPUs to be 1
and 5, you would pass the decimal value of (1 &lt;&lt; 1 | 1 &lt;&lt; 5), or 34. See man
<em class="manpage">sched_setaffinity(2)</em>. This may not work on all supported
operating systems or kernel versions. This option doesn’t work well for a
higher CPU count than what you can store in an integer mask, so it can only
control cpus 1-32. For boxes with larger CPU counts, use
<a class="reference internal" href="#cmdoption-arg-cpus_allowed"><code class="xref std std-option docutils literal notranslate"><span class="pre">cpus_allowed</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-numa_cpu_nodes">
<span id="cmdoption-arg-numa-cpu-nodes"></span><span class="sig-name descname"><span class="pre">numa_cpu_nodes</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-numa_cpu_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Set this job running on specified NUMA nodes’ CPUs. The arguments allow
comma delimited list of cpu numbers, A-B ranges, or <cite>all</cite>. Note, to enable
NUMA options support, fio must be built on a system with libnuma-dev(el)
installed.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-numa_mem_policy">
<span id="cmdoption-arg-numa-mem-policy"></span><span class="sig-name descname"><span class="pre">numa_mem_policy</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-numa_mem_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Set this job’s memory policy and corresponding NUMA nodes. Format of the
arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">mode</span><span class="o">&gt;</span><span class="p">[:</span><span class="o">&lt;</span><span class="n">nodelist</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">mode</span></code> is one of the following memory policies: <code class="docutils literal notranslate"><span class="pre">default</span></code>, <code class="docutils literal notranslate"><span class="pre">prefer</span></code>,
<code class="docutils literal notranslate"><span class="pre">bind</span></code>, <code class="docutils literal notranslate"><span class="pre">interleave</span></code> or <code class="docutils literal notranslate"><span class="pre">local</span></code>. For <code class="docutils literal notranslate"><span class="pre">default</span></code> and <code class="docutils literal notranslate"><span class="pre">local</span></code> memory
policies, no node needs to be specified.  For <code class="docutils literal notranslate"><span class="pre">prefer</span></code>, only one node is
allowed.  For <code class="docutils literal notranslate"><span class="pre">bind</span></code> and <code class="docutils literal notranslate"><span class="pre">interleave</span></code> the <code class="docutils literal notranslate"><span class="pre">nodelist</span></code> may be as
follows: a comma delimited list of numbers, A-B ranges, or <cite>all</cite>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cgroup">
<span class="sig-name descname"><span class="pre">cgroup</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-cgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Add job to this control group. If it doesn’t exist, it will be created. The
system must have a mounted cgroup blkio mount point for this to work. If
your system doesn’t have it mounted, you can do so with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># mount -t cgroup -o blkio none /cgroup</span>
</pre></div>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cgroup_weight">
<span id="cmdoption-arg-cgroup-weight"></span><span class="sig-name descname"><span class="pre">cgroup_weight</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-cgroup_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the weight of the cgroup to this value. See the documentation that comes
with the kernel, allowed values are in the range of 100..1000.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-cgroup_nodelete">
<span id="cmdoption-arg-cgroup-nodelete"></span><span class="sig-name descname"><span class="pre">cgroup_nodelete</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-cgroup_nodelete" title="Permalink to this definition">¶</a></dt>
<dd><p>Normally fio will delete the cgroups it has created after the job
completion. To override this behavior and to leave cgroups around after the
job completion, set <code class="docutils literal notranslate"><span class="pre">cgroup_nodelete=1</span></code>.  This can be useful if one wants
to inspect various cgroup files after job completion. Default: false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-flow_id">
<span id="cmdoption-arg-flow-id"></span><span class="sig-name descname"><span class="pre">flow_id</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-flow_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The ID of the flow. If not specified, it defaults to being a global
flow. See <a class="reference internal" href="#cmdoption-arg-flow"><code class="xref std std-option docutils literal notranslate"><span class="pre">flow</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-flow">
<span class="sig-name descname"><span class="pre">flow</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-flow" title="Permalink to this definition">¶</a></dt>
<dd><p>Weight in token-based flow control. If this value is used, then fio
regulates the activity between two or more jobs sharing the same
flow_id. Fio attempts to keep each job activity proportional to other
jobs’ activities in the same flow_id group, with respect to requested
weight per job. That is, if one job has <cite>flow=3’, another job has
`flow=2’ and another with `flow=1</cite>, then there will be a roughly 3:2:1
ratio in how much one runs vs the others.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-flow_sleep">
<span id="cmdoption-arg-flow-sleep"></span><span class="sig-name descname"><span class="pre">flow_sleep</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-flow_sleep" title="Permalink to this definition">¶</a></dt>
<dd><p>The period of time, in microseconds, to wait after the flow counter
has exceeded its proportion before retrying operations.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-stonewall">
<span id="cmdoption-arg-wait_for_previous"></span><span id="cmdoption-arg-wait-for-previous"></span><span class="sig-name descname"><span class="pre">stonewall</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">wait_for_previous</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-stonewall" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for preceding jobs in the job file to exit, before starting this
one. Can be used to insert serialization points in the job file. A stone
wall also implies starting a new reporting group, see
<a class="reference internal" href="#cmdoption-arg-group_reporting"><code class="xref std std-option docutils literal notranslate"><span class="pre">group_reporting</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-exitall">
<span class="sig-name descname"><span class="pre">exitall</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-exitall" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, fio will continue running all other jobs when one job finishes.
Sometimes this is not the desired action.  Setting <code class="docutils literal notranslate"><span class="pre">exitall</span></code> will instead
make fio terminate all jobs in the same group, as soon as one job of that
group finishes.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-exit_what">
<span id="cmdoption-arg-exit-what"></span><span class="sig-name descname"><span class="pre">exit_what</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-exit_what" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, fio will continue running all other jobs when one job finishes.
Sometimes this is not the desired action. Setting <code class="docutils literal notranslate"><span class="pre">exitall</span></code> will
instead make fio terminate all jobs in the same group. The option
<code class="docutils literal notranslate"><span class="pre">exit_what</span></code> allows one to control which jobs get terminated when <code class="docutils literal notranslate"><span class="pre">exitall</span></code>
is enabled. The default is <code class="docutils literal notranslate"><span class="pre">group</span></code> and does not change the behaviour of
<code class="docutils literal notranslate"><span class="pre">exitall</span></code>. The setting <code class="docutils literal notranslate"><span class="pre">all</span></code> terminates all jobs. The setting <code class="docutils literal notranslate"><span class="pre">stonewall</span></code>
terminates all currently running jobs across all groups and continues execution
with the next stonewalled group.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-exec_prerun">
<span id="cmdoption-arg-exec-prerun"></span><span class="sig-name descname"><span class="pre">exec_prerun</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-exec_prerun" title="Permalink to this definition">¶</a></dt>
<dd><p>Before running this job, issue the command specified through
<em class="manpage">system(3)</em>. Output is redirected in a file called
<code class="file docutils literal notranslate"><span class="pre">jobname.prerun.txt</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-exec_postrun">
<span id="cmdoption-arg-exec-postrun"></span><span class="sig-name descname"><span class="pre">exec_postrun</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-exec_postrun" title="Permalink to this definition">¶</a></dt>
<dd><p>After the job completes, issue the command specified though
<em class="manpage">system(3)</em>. Output is redirected in a file called
<code class="file docutils literal notranslate"><span class="pre">jobname.postrun.txt</span></code>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-uid">
<span class="sig-name descname"><span class="pre">uid</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-uid" title="Permalink to this definition">¶</a></dt>
<dd><p>Instead of running as the invoking user, set the user ID to this value
before the thread/process does any work.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-gid">
<span class="sig-name descname"><span class="pre">gid</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-gid" title="Permalink to this definition">¶</a></dt>
<dd><p>Set group ID, see <a class="reference internal" href="#cmdoption-arg-uid"><code class="xref std std-option docutils literal notranslate"><span class="pre">uid</span></code></a>.</p>
</dd></dl>

</section>
<section id="verification">
<h3><span class="section-number">1.13.17. </span>Verification<a class="headerlink" href="#verification" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-verify_only">
<span id="cmdoption-arg-verify-only"></span><span class="sig-name descname"><span class="pre">verify_only</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-verify_only" title="Permalink to this definition">¶</a></dt>
<dd><p>Do not perform specified workload, only verify data still matches previous
invocation of this workload. This option allows one to check data multiple
times at a later date without overwriting it. This option makes sense only
for workloads that write data, and does not support workloads with the
<a class="reference internal" href="#cmdoption-arg-time_based"><code class="xref std std-option docutils literal notranslate"><span class="pre">time_based</span></code></a> option set.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-do_verify">
<span id="cmdoption-arg-do-verify"></span><span class="sig-name descname"><span class="pre">do_verify</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-do_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the verify phase after a write phase. Only valid if <a class="reference internal" href="#cmdoption-arg-verify"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify</span></code></a> is
set. Default: true.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-verify">
<span class="sig-name descname"><span class="pre">verify</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-verify" title="Permalink to this definition">¶</a></dt>
<dd><p>If writing to a file, fio can verify the file contents after each iteration
of the job. Each verification method also implies verification of special
header, which is written to the beginning of each block. This header also
includes meta information, like offset of the block, block number, timestamp
when block was written, etc.  <a class="reference internal" href="#cmdoption-arg-verify"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify</span></code></a> can be combined with
<a class="reference internal" href="#cmdoption-arg-verify_pattern"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify_pattern</span></code></a> option.  The allowed values are:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>md5</strong></dt><dd><p>Use an md5 sum of the data area and store it in the header of
each block.</p>
</dd>
<dt><strong>crc64</strong></dt><dd><p>Use an experimental crc64 sum of the data area and store it in the
header of each block.</p>
</dd>
<dt><strong>crc32c</strong></dt><dd><p>Use a crc32c sum of the data area and store it in the header of
each block. This will automatically use hardware acceleration
(e.g. SSE4.2 on an x86 or CRC crypto extensions on ARM64) but will
fall back to software crc32c if none is found. Generally the
fastest checksum fio supports when hardware accelerated.</p>
</dd>
<dt><strong>crc32c-intel</strong></dt><dd><p>Synonym for crc32c.</p>
</dd>
<dt><strong>crc32</strong></dt><dd><p>Use a crc32 sum of the data area and store it in the header of each
block.</p>
</dd>
<dt><strong>crc16</strong></dt><dd><p>Use a crc16 sum of the data area and store it in the header of each
block.</p>
</dd>
<dt><strong>crc7</strong></dt><dd><p>Use a crc7 sum of the data area and store it in the header of each
block.</p>
</dd>
<dt><strong>xxhash</strong></dt><dd><p>Use xxhash as the checksum function. Generally the fastest software
checksum that fio supports.</p>
</dd>
<dt><strong>sha512</strong></dt><dd><p>Use sha512 as the checksum function.</p>
</dd>
<dt><strong>sha256</strong></dt><dd><p>Use sha256 as the checksum function.</p>
</dd>
<dt><strong>sha1</strong></dt><dd><p>Use optimized sha1 as the checksum function.</p>
</dd>
<dt><strong>sha3-224</strong></dt><dd><p>Use optimized sha3-224 as the checksum function.</p>
</dd>
<dt><strong>sha3-256</strong></dt><dd><p>Use optimized sha3-256 as the checksum function.</p>
</dd>
<dt><strong>sha3-384</strong></dt><dd><p>Use optimized sha3-384 as the checksum function.</p>
</dd>
<dt><strong>sha3-512</strong></dt><dd><p>Use optimized sha3-512 as the checksum function.</p>
</dd>
<dt><strong>meta</strong></dt><dd><p>This option is deprecated, since now meta information is included in
generic verification header and meta verification happens by
default. For detailed information see the description of the
<a class="reference internal" href="#cmdoption-arg-verify"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify</span></code></a> setting. This option is kept because of
compatibility’s sake with old configurations. Do not use it.</p>
</dd>
<dt><strong>pattern</strong></dt><dd><p>Verify a strict pattern. Normally fio includes a header with some
basic information and checksumming, but if this option is set, only
the specific pattern set with <a class="reference internal" href="#cmdoption-arg-verify_pattern"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify_pattern</span></code></a> is verified.</p>
</dd>
<dt><strong>null</strong></dt><dd><p>Only pretend to verify. Useful for testing internals with
<a class="reference internal" href="#cmdoption-arg-ioengine"><code class="xref std std-option docutils literal notranslate"><span class="pre">ioengine</span></code></a>=null, not for much else.</p>
</dd>
</dl>
</div></blockquote>
<p>This option can be used for repeated burn-in tests of a system to make sure
that the written data is also correctly read back. If the data direction
given is a read or random read, fio will assume that it should verify a
previously written file. If the data direction includes any form of write,
the verify will be of the newly written data.</p>
<p>To avoid false verification errors, do not use the norandommap option when
verifying data with async I/O engines and I/O depths &gt; 1.  Or use the
norandommap and the lfsr random generator together to avoid writing to the
same offset with multiple outstanding I/Os.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-verify_offset">
<span id="cmdoption-arg-verify-offset"></span><span class="sig-name descname"><span class="pre">verify_offset</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-verify_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Swap the verification header with data somewhere else in the block before
writing. It is swapped back before verifying.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-verify_interval">
<span id="cmdoption-arg-verify-interval"></span><span class="sig-name descname"><span class="pre">verify_interval</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-verify_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the verification header at a finer granularity than the
<a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize</span></code></a>. It will be written for chunks the size of
<code class="docutils literal notranslate"><span class="pre">verify_interval</span></code>. <a class="reference internal" href="#cmdoption-arg-blocksize"><code class="xref std std-option docutils literal notranslate"><span class="pre">blocksize</span></code></a> should divide this evenly.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-verify_pattern">
<span id="cmdoption-arg-verify-pattern"></span><span class="sig-name descname"><span class="pre">verify_pattern</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-verify_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, fio will fill the I/O buffers with this pattern. Fio defaults to
filling with totally random bytes, but sometimes it’s interesting to fill
with a known pattern for I/O verification purposes. Depending on the width
of the pattern, fio will fill 1/2/3/4 bytes of the buffer at the time (it can
be either a decimal or a hex number).  The <code class="docutils literal notranslate"><span class="pre">verify_pattern</span></code> if larger than
a 32-bit quantity has to be a hex number that starts with either “0x” or
“0X”. Use with <a class="reference internal" href="#cmdoption-arg-verify"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify</span></code></a>. Also, <code class="docutils literal notranslate"><span class="pre">verify_pattern</span></code> supports %o
format, which means that for each block offset will be written and then
verified back, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">verify_pattern</span><span class="o">=%</span><span class="n">o</span>
</pre></div>
</div>
<p>Or use combination of everything:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">verify_pattern</span><span class="o">=</span><span class="mh">0xff</span><span class="o">%</span><span class="n">o</span><span class="s2">&quot;abcd&quot;</span><span class="o">-</span><span class="mi">12</span>
</pre></div>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-verify_fatal">
<span id="cmdoption-arg-verify-fatal"></span><span class="sig-name descname"><span class="pre">verify_fatal</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-verify_fatal" title="Permalink to this definition">¶</a></dt>
<dd><p>Normally fio will keep checking the entire contents before quitting on a
block verification failure. If this option is set, fio will exit the job on
the first observed failure. Default: false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-verify_dump">
<span id="cmdoption-arg-verify-dump"></span><span class="sig-name descname"><span class="pre">verify_dump</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-verify_dump" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, dump the contents of both the original data block and the data block
we read off disk to files. This allows later analysis to inspect just what
kind of data corruption occurred. Off by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-verify_async">
<span id="cmdoption-arg-verify-async"></span><span class="sig-name descname"><span class="pre">verify_async</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-verify_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Fio will normally verify I/O inline from the submitting thread. This option
takes an integer describing how many async offload threads to create for I/O
verification instead, causing fio to offload the duty of verifying I/O
contents to one or more separate threads. If using this offload option, even
sync I/O engines can benefit from using an <a class="reference internal" href="#cmdoption-arg-iodepth"><code class="xref std std-option docutils literal notranslate"><span class="pre">iodepth</span></code></a> setting higher
than 1, as it allows them to have I/O in flight while verifies are running.
Defaults to 0 async threads, i.e. verification is not asynchronous.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-verify_async_cpus">
<span id="cmdoption-arg-verify-async-cpus"></span><span class="sig-name descname"><span class="pre">verify_async_cpus</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-verify_async_cpus" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell fio to set the given CPU affinity on the async I/O verification
threads. See <a class="reference internal" href="#cmdoption-arg-cpus_allowed"><code class="xref std std-option docutils literal notranslate"><span class="pre">cpus_allowed</span></code></a> for the format used.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-verify_backlog">
<span id="cmdoption-arg-verify-backlog"></span><span class="sig-name descname"><span class="pre">verify_backlog</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-verify_backlog" title="Permalink to this definition">¶</a></dt>
<dd><p>Fio will normally verify the written contents of a job that utilizes verify
once that job has completed. In other words, everything is written then
everything is read back and verified. You may want to verify continually
instead for a variety of reasons. Fio stores the meta data associated with
an I/O block in memory, so for large verify workloads, quite a bit of memory
would be used up holding this meta data. If this option is enabled, fio will
write only N blocks before verifying these blocks.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-verify_backlog_batch">
<span id="cmdoption-arg-verify-backlog-batch"></span><span class="sig-name descname"><span class="pre">verify_backlog_batch</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-verify_backlog_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Control how many blocks fio will verify if <a class="reference internal" href="#cmdoption-arg-verify_backlog"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify_backlog</span></code></a> is
set. If not set, will default to the value of <a class="reference internal" href="#cmdoption-arg-verify_backlog"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify_backlog</span></code></a>
(meaning the entire queue is read back and verified).  If
<code class="docutils literal notranslate"><span class="pre">verify_backlog_batch</span></code> is less than <a class="reference internal" href="#cmdoption-arg-verify_backlog"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify_backlog</span></code></a> then not all
blocks will be verified, if <code class="docutils literal notranslate"><span class="pre">verify_backlog_batch</span></code> is larger than
<a class="reference internal" href="#cmdoption-arg-verify_backlog"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify_backlog</span></code></a>, some blocks will be verified more than once.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-verify_state_save">
<span id="cmdoption-arg-verify-state-save"></span><span class="sig-name descname"><span class="pre">verify_state_save</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-verify_state_save" title="Permalink to this definition">¶</a></dt>
<dd><p>When a job exits during the write phase of a verify workload, save its
current state. This allows fio to replay up until that point, if the verify
state is loaded for the verify read phase. The format of the filename is,
roughly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;-&lt;</span><span class="n">jobname</span><span class="o">&gt;-&lt;</span><span class="n">jobindex</span><span class="o">&gt;-</span><span class="n">verify</span><span class="o">.</span><span class="n">state</span><span class="o">.</span>
</pre></div>
</div>
<p>&lt;type&gt; is “local” for a local run, “sock” for a client/server socket
connection, and “ip” (192.168.0.1, for instance) for a networked
client/server connection. Defaults to true.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-verify_state_load">
<span id="cmdoption-arg-verify-state-load"></span><span class="sig-name descname"><span class="pre">verify_state_load</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-verify_state_load" title="Permalink to this definition">¶</a></dt>
<dd><p>If a verify termination trigger was used, fio stores the current write state
of each thread. This can be used at verification time so that fio knows how
far it should verify.  Without this information, fio will run a full
verification pass, according to the settings in the job file used.  Default
false.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-experimental_verify">
<span id="cmdoption-arg-experimental-verify"></span><span class="sig-name descname"><span class="pre">experimental_verify</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-experimental_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable experimental verification. Standard verify records I/O metadata
for later use during the verification phase. Experimental verify
instead resets the file after the write phase and then replays I/Os for
the verification phase.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-trim_percentage">
<span id="cmdoption-arg-trim-percentage"></span><span class="sig-name descname"><span class="pre">trim_percentage</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-trim_percentage" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of verify blocks to discard/trim.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-trim_verify_zero">
<span id="cmdoption-arg-trim-verify-zero"></span><span class="sig-name descname"><span class="pre">trim_verify_zero</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-trim_verify_zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that trim/discarded blocks are returned as zeros.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-trim_backlog">
<span id="cmdoption-arg-trim-backlog"></span><span class="sig-name descname"><span class="pre">trim_backlog</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-trim_backlog" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim after this number of blocks are written.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-trim_backlog_batch">
<span id="cmdoption-arg-trim-backlog-batch"></span><span class="sig-name descname"><span class="pre">trim_backlog_batch</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-trim_backlog_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim this number of I/O blocks.</p>
</dd></dl>

</section>
<section id="steady-state">
<h3><span class="section-number">1.13.18. </span>Steady state<a class="headerlink" href="#steady-state" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-steadystate">
<span id="cmdoption-arg-ss"></span><span class="sig-name descname"><span class="pre">steadystate</span></span><span class="sig-prename descclassname"><span class="pre">=str:float</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">ss</span></span><span class="sig-prename descclassname"><span class="pre">=str:float</span></span><a class="headerlink" href="#cmdoption-arg-steadystate" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the criterion and limit for assessing steady state performance. The
first parameter designates the criterion whereas the second parameter sets
the threshold. When the criterion falls below the threshold for the
specified duration, the job will stop. For example, <cite>iops_slope:0.1%</cite> will
direct fio to terminate the job when the least squares regression slope
falls below 0.1% of the mean IOPS. If <a class="reference internal" href="#cmdoption-arg-group_reporting"><code class="xref std std-option docutils literal notranslate"><span class="pre">group_reporting</span></code></a> is enabled
this will apply to all jobs in the group. Below is the list of available
steady state assessment criteria. All assessments are carried out using only
data from the rolling collection window. Threshold limits can be expressed
as a fixed value or as a percentage of the mean in the collection window.</p>
<p>When using this feature, most jobs should include the <a class="reference internal" href="#cmdoption-arg-time_based"><code class="xref std std-option docutils literal notranslate"><span class="pre">time_based</span></code></a>
and <a class="reference internal" href="#cmdoption-arg-runtime"><code class="xref std std-option docutils literal notranslate"><span class="pre">runtime</span></code></a> options or the <a class="reference internal" href="#cmdoption-arg-loops"><code class="xref std std-option docutils literal notranslate"><span class="pre">loops</span></code></a> option so that fio does not
stop running after it has covered the full size of the specified file(s) or device(s).</p>
<blockquote>
<div><dl class="simple">
<dt><strong>iops</strong></dt><dd><p>Collect IOPS data. Stop the job if all individual IOPS measurements
are within the specified limit of the mean IOPS (e.g., <code class="docutils literal notranslate"><span class="pre">iops:2</span></code>
means that all individual IOPS values must be within 2 of the mean,
whereas <code class="docutils literal notranslate"><span class="pre">iops:0.2%</span></code> means that all individual IOPS values must be
within 0.2% of the mean IOPS to terminate the job).</p>
</dd>
<dt><strong>iops_slope</strong></dt><dd><p>Collect IOPS data and calculate the least squares regression
slope. Stop the job if the slope falls below the specified limit.</p>
</dd>
<dt><strong>bw</strong></dt><dd><p>Collect bandwidth data. Stop the job if all individual bandwidth
measurements are within the specified limit of the mean bandwidth.</p>
</dd>
<dt><strong>bw_slope</strong></dt><dd><p>Collect bandwidth data and calculate the least squares regression
slope. Stop the job if the slope falls below the specified limit.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-steadystate_duration">
<span id="cmdoption-arg-steadystate-duration"></span><span id="cmdoption-arg-ss_dur"></span><span id="cmdoption-arg-ss-dur"></span><span class="sig-name descname"><span class="pre">steadystate_duration</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">ss_dur</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><a class="headerlink" href="#cmdoption-arg-steadystate_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>A rolling window of this duration will be used to judge whether steady
state has been reached. Data will be collected every
<a class="reference internal" href="#cmdoption-arg-steadystate_check_interval"><code class="xref std std-option docutils literal notranslate"><span class="pre">ss_interval</span></code></a>.  The default is 0 which disables steady state
detection.  When the unit is omitted, the value is interpreted in
seconds.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-steadystate_ramp_time">
<span id="cmdoption-arg-steadystate-ramp-time"></span><span id="cmdoption-arg-ss_ramp"></span><span id="cmdoption-arg-ss-ramp"></span><span class="sig-name descname"><span class="pre">steadystate_ramp_time</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">ss_ramp</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><a class="headerlink" href="#cmdoption-arg-steadystate_ramp_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow the job to run for the specified duration before beginning data
collection for checking the steady state job termination criterion. The
default is 0.  When the unit is omitted, the value is interpreted in seconds.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-steadystate_check_interval">
<span id="cmdoption-arg-steadystate-check-interval"></span><span id="cmdoption-arg-ss_interval"></span><span id="cmdoption-arg-ss-interval"></span><span class="sig-name descname"><span class="pre">steadystate_check_interval</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">ss_interval</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span><a class="headerlink" href="#cmdoption-arg-steadystate_check_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>The values during the rolling window will be collected with a period of
this value. If <a class="reference internal" href="#cmdoption-arg-steadystate_check_interval"><code class="xref std std-option docutils literal notranslate"><span class="pre">ss_interval</span></code></a> is 30s and <a class="reference internal" href="#cmdoption-arg-steadystate_duration"><code class="xref std std-option docutils literal notranslate"><span class="pre">ss_dur</span></code></a> is
300s, 10 measurements will be taken. Default is 1s but that might not
converge, especially for slower devices, so set this accordingly. When
the unit is omitted, the value is interpreted in seconds.</p>
</dd></dl>

</section>
<section id="measurements-and-reporting">
<h3><span class="section-number">1.13.19. </span>Measurements and reporting<a class="headerlink" href="#measurements-and-reporting" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-per_job_logs">
<span id="cmdoption-arg-per-job-logs"></span><span class="sig-name descname"><span class="pre">per_job_logs</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-per_job_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, this generates bw/clat/iops log with per file private filenames. If
not set, jobs with identical names will share the log filename. Default:
true.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-group_reporting">
<span id="cmdoption-arg-group-reporting"></span><span class="sig-name descname"><span class="pre">group_reporting</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-group_reporting" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>It may sometimes be interesting to display statistics for groups of jobs as
a whole instead of for each individual job.  This is especially true if
<a class="reference internal" href="#cmdoption-arg-numjobs"><code class="xref std std-option docutils literal notranslate"><span class="pre">numjobs</span></code></a> is used; looking at individual thread/process output
quickly becomes unwieldy.  To see the final report per-group instead of
per-job, use <a class="reference internal" href="#cmdoption-arg-group_reporting"><code class="xref std std-option docutils literal notranslate"><span class="pre">group_reporting</span></code></a>. Jobs in a file will be part of the
same reporting group, unless if separated by a <a class="reference internal" href="#cmdoption-arg-stonewall"><code class="xref std std-option docutils literal notranslate"><span class="pre">stonewall</span></code></a>, or by
using <a class="reference internal" href="#cmdoption-arg-new_group"><code class="xref std std-option docutils literal notranslate"><span class="pre">new_group</span></code></a>.</p>
</div></blockquote>
<p>NOTE: When :option: <cite>group_reporting</cite> is used along with <cite>json</cite> output,
there are certain per-job properties which can be different between jobs
but do not have a natural group-level equivalent. Examples include
<cite>kb_base</cite>, <cite>unit_base</cite>, <cite>sig_figs</cite>, <cite>thread_number</cite>, <cite>pid</cite>, and
<cite>job_start</cite>. For these properties, the values for the first job are
recorded for the group.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-new_group">
<span id="cmdoption-arg-new-group"></span><span class="sig-name descname"><span class="pre">new_group</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-new_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a new reporting group. See: <a class="reference internal" href="#cmdoption-arg-group_reporting"><code class="xref std std-option docutils literal notranslate"><span class="pre">group_reporting</span></code></a>.  If not given,
all jobs in a file will be part of the same reporting group, unless
separated by a <a class="reference internal" href="#cmdoption-arg-stonewall"><code class="xref std std-option docutils literal notranslate"><span class="pre">stonewall</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-stats">
<span class="sig-name descname"><span class="pre">stats</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-stats" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, fio collects and shows final output results for all jobs
that run. If this option is set to 0, then fio will ignore it in
the final stat output.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-write_bw_log">
<span id="cmdoption-arg-write-bw-log"></span><span class="sig-name descname"><span class="pre">write_bw_log</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-write_bw_log" title="Permalink to this definition">¶</a></dt>
<dd><p>If given, write a bandwidth log for this job. Can be used to store data of
the bandwidth of the jobs in their lifetime.</p>
<p>If no str argument is given, the default filename of
<code class="file docutils literal notranslate"><span class="pre">jobname_type.x.log</span></code> is used. Even when the argument is given, fio
will still append the type of log. So if one specifies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">write_bw_log</span><span class="o">=</span><span class="n">foo</span>
</pre></div>
</div>
<p>The actual log name will be <code class="file docutils literal notranslate"><span class="pre">foo_bw.x.log</span></code> where <cite>x</cite> is the index
of the job (<cite>1..N</cite>, where <cite>N</cite> is the number of jobs). If
<a class="reference internal" href="#cmdoption-arg-per_job_logs"><code class="xref std std-option docutils literal notranslate"><span class="pre">per_job_logs</span></code></a> is false, then the filename will not include the
<cite>.x</cite> job index.</p>
<p>The included <strong class="command">fio_generate_plots</strong> script uses <strong class="command">gnuplot</strong> to turn these
text files into nice graphs. See <a class="reference internal" href="#log-file-formats">Log File Formats</a> for how data is
structured within the file.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-write_lat_log">
<span id="cmdoption-arg-write-lat-log"></span><span class="sig-name descname"><span class="pre">write_lat_log</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-write_lat_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#cmdoption-arg-write_bw_log"><code class="xref std std-option docutils literal notranslate"><span class="pre">write_bw_log</span></code></a>, except this option creates I/O
submission (e.g., <code class="file docutils literal notranslate"><span class="pre">name_slat.x.log</span></code>), completion (e.g.,
<code class="file docutils literal notranslate"><span class="pre">name_clat.x.log</span></code>), and total (e.g., <code class="file docutils literal notranslate"><span class="pre">name_lat.x.log</span></code>)
latency files instead. See <a class="reference internal" href="#cmdoption-arg-write_bw_log"><code class="xref std std-option docutils literal notranslate"><span class="pre">write_bw_log</span></code></a> for details about
the filename format and <a class="reference internal" href="#log-file-formats">Log File Formats</a> for how data is structured
within the files.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-write_hist_log">
<span id="cmdoption-arg-write-hist-log"></span><span class="sig-name descname"><span class="pre">write_hist_log</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-write_hist_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#cmdoption-arg-write_bw_log"><code class="xref std std-option docutils literal notranslate"><span class="pre">write_bw_log</span></code></a> but writes an I/O completion latency
histogram file (e.g., <code class="file docutils literal notranslate"><span class="pre">name_hist.x.log</span></code>) instead. Note that this
file will be empty unless <a class="reference internal" href="#cmdoption-arg-log_hist_msec"><code class="xref std std-option docutils literal notranslate"><span class="pre">log_hist_msec</span></code></a> has also been set.
See <a class="reference internal" href="#cmdoption-arg-write_bw_log"><code class="xref std std-option docutils literal notranslate"><span class="pre">write_bw_log</span></code></a> for details about the filename format and
<a class="reference internal" href="#log-file-formats">Log File Formats</a> for how data is structured within the file.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-write_iops_log">
<span id="cmdoption-arg-write-iops-log"></span><span class="sig-name descname"><span class="pre">write_iops_log</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-write_iops_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#cmdoption-arg-write_bw_log"><code class="xref std std-option docutils literal notranslate"><span class="pre">write_bw_log</span></code></a>, but writes an IOPS file (e.g.
<code class="file docutils literal notranslate"><span class="pre">name_iops.x.log</span></code>) instead. Because fio defaults to individual
I/O logging, the value entry in the IOPS log will be 1 unless windowed
logging (see <a class="reference internal" href="#cmdoption-arg-log_avg_msec"><code class="xref std std-option docutils literal notranslate"><span class="pre">log_avg_msec</span></code></a>) has been enabled. See
<a class="reference internal" href="#cmdoption-arg-write_bw_log"><code class="xref std std-option docutils literal notranslate"><span class="pre">write_bw_log</span></code></a> for details about the filename format and <a class="reference internal" href="#log-file-formats">Log
File Formats</a> for how data is structured within the file.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-log_entries">
<span id="cmdoption-arg-log-entries"></span><span class="sig-name descname"><span class="pre">log_entries</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-log_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, fio will log an entry in the iops, latency, or bw log for
every I/O that completes. The initial number of I/O log entries is 1024.
When the log entries are all used, new log entries are dynamically
allocated.  This dynamic log entry allocation may negatively impact
time-related statistics such as I/O tail latencies (e.g. 99.9th percentile
completion latency). This option allows specifying a larger initial
number of log entries to avoid run-time allocations of new log entries,
resulting in more precise time-related I/O statistics.
Also see <a class="reference internal" href="#cmdoption-arg-log_avg_msec"><code class="xref std std-option docutils literal notranslate"><span class="pre">log_avg_msec</span></code></a>. Defaults to 1024.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-log_avg_msec">
<span id="cmdoption-arg-log-avg-msec"></span><span class="sig-name descname"><span class="pre">log_avg_msec</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-log_avg_msec" title="Permalink to this definition">¶</a></dt>
<dd><p>By default, fio will log an entry in the iops, latency, or bw log for every
I/O that completes. When writing to the disk log, that can quickly grow to a
very large size. Setting this option makes fio average the each log entry
over the specified period of time, reducing the resolution of the log.  See
<a class="reference internal" href="#cmdoption-arg-log_max_value"><code class="xref std std-option docutils literal notranslate"><span class="pre">log_max_value</span></code></a> as well. Defaults to 0, logging all entries.
Also see <a class="reference internal" href="#log-file-formats">Log File Formats</a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-log_hist_msec">
<span id="cmdoption-arg-log-hist-msec"></span><span class="sig-name descname"><span class="pre">log_hist_msec</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-log_hist_msec" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#cmdoption-arg-log_avg_msec"><code class="xref std std-option docutils literal notranslate"><span class="pre">log_avg_msec</span></code></a>, but logs entries for completion latency
histograms. Computing latency percentiles from averages of intervals using
<a class="reference internal" href="#cmdoption-arg-log_avg_msec"><code class="xref std std-option docutils literal notranslate"><span class="pre">log_avg_msec</span></code></a> is inaccurate. Setting this option makes fio log
histogram entries over the specified period of time, reducing log sizes for
high IOPS devices while retaining percentile accuracy.  See
<a class="reference internal" href="#cmdoption-arg-log_hist_coarseness"><code class="xref std std-option docutils literal notranslate"><span class="pre">log_hist_coarseness</span></code></a> and <a class="reference internal" href="#cmdoption-arg-write_hist_log"><code class="xref std std-option docutils literal notranslate"><span class="pre">write_hist_log</span></code></a> as well.
Defaults to 0, meaning histogram logging is disabled.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-log_hist_coarseness">
<span id="cmdoption-arg-log-hist-coarseness"></span><span class="sig-name descname"><span class="pre">log_hist_coarseness</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-log_hist_coarseness" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ranging from 0 to 6, defining the coarseness of the resolution of
the histogram logs enabled with <a class="reference internal" href="#cmdoption-arg-log_hist_msec"><code class="xref std std-option docutils literal notranslate"><span class="pre">log_hist_msec</span></code></a>. For each increment
in coarseness, fio outputs half as many bins. Defaults to 0, for which
histogram logs contain 1216 latency bins. See <a class="reference internal" href="#cmdoption-arg-write_hist_log"><code class="xref std std-option docutils literal notranslate"><span class="pre">write_hist_log</span></code></a>
and <a class="reference internal" href="#log-file-formats">Log File Formats</a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-log_max_value">
<span id="cmdoption-arg-log-max-value"></span><span class="sig-name descname"><span class="pre">log_max_value</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-log_max_value" title="Permalink to this definition">¶</a></dt>
<dd><p>If <a class="reference internal" href="#cmdoption-arg-log_avg_msec"><code class="xref std std-option docutils literal notranslate"><span class="pre">log_avg_msec</span></code></a> is set, fio logs the average over that window. If
you instead want to log the maximum value, set this option to 1. Defaults to
0, meaning that averaged values are logged.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-log_offset">
<span id="cmdoption-arg-log-offset"></span><span class="sig-name descname"><span class="pre">log_offset</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-log_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>If this is set, the iolog options will include the byte offset for the I/O
entry as well as the other data values. Defaults to 0 meaning that
offsets are not present in logs. Also see <a class="reference internal" href="#log-file-formats">Log File Formats</a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-log_compression">
<span id="cmdoption-arg-log-compression"></span><span class="sig-name descname"><span class="pre">log_compression</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-log_compression" title="Permalink to this definition">¶</a></dt>
<dd><p>If this is set, fio will compress the I/O logs as it goes, to keep the
memory footprint lower. When a log reaches the specified size, that chunk is
removed and compressed in the background. Given that I/O logs are fairly
highly compressible, this yields a nice memory savings for longer runs. The
downside is that the compression will consume some background CPU cycles, so
it may impact the run. This, however, is also true if the logging ends up
consuming most of the system memory.  So pick your poison. The I/O logs are
saved normally at the end of a run, by decompressing the chunks and storing
them in the specified log file. This feature depends on the availability of
zlib.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-log_compression_cpus">
<span id="cmdoption-arg-log-compression-cpus"></span><span class="sig-name descname"><span class="pre">log_compression_cpus</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-log_compression_cpus" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the set of CPUs that are allowed to handle online log compression for
the I/O jobs. This can provide better isolation between performance
sensitive jobs, and background compression work. See
<a class="reference internal" href="#cmdoption-arg-cpus_allowed"><code class="xref std std-option docutils literal notranslate"><span class="pre">cpus_allowed</span></code></a> for the format used.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-log_store_compressed">
<span id="cmdoption-arg-log-store-compressed"></span><span class="sig-name descname"><span class="pre">log_store_compressed</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-log_store_compressed" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, fio will store the log files in a compressed format. They can be
decompressed with fio, using the <a class="reference internal" href="#cmdoption-inflate-log"><code class="xref std std-option docutils literal notranslate"><span class="pre">--inflate-log</span></code></a> command line
parameter. The files will be stored with a <code class="file docutils literal notranslate"><span class="pre">.fz</span></code> suffix.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-log_unix_epoch">
<span id="cmdoption-arg-log-unix-epoch"></span><span class="sig-name descname"><span class="pre">log_unix_epoch</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-log_unix_epoch" title="Permalink to this definition">¶</a></dt>
<dd><p>Backwards compatible alias for log_alternate_epoch.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-log_alternate_epoch">
<span id="cmdoption-arg-log-alternate-epoch"></span><span class="sig-name descname"><span class="pre">log_alternate_epoch</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-log_alternate_epoch" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, fio will log timestamps based on the epoch used by the clock specified
in the log_alternate_epoch_clock_id option, to the log files produced by
enabling write_type_log for each log type, instead of the default zero-based
timestamps.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-log_alternate_epoch_clock_id">
<span id="cmdoption-arg-log-alternate-epoch-clock-id"></span><span class="sig-name descname"><span class="pre">log_alternate_epoch_clock_id</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-log_alternate_epoch_clock_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the clock_id to be used by clock_gettime to obtain the alternate
epoch if log_alternate_epoch is true. Otherwise has no effect. Default
value is 0, or CLOCK_REALTIME.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-block_error_percentiles">
<span id="cmdoption-arg-block-error-percentiles"></span><span class="sig-name descname"><span class="pre">block_error_percentiles</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-block_error_percentiles" title="Permalink to this definition">¶</a></dt>
<dd><p>If set, record errors in trim block-sized units from writes and trims and
output a histogram of how many trims it took to get to errors, and what kind
of error was encountered.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-bwavgtime">
<span class="sig-name descname"><span class="pre">bwavgtime</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-bwavgtime" title="Permalink to this definition">¶</a></dt>
<dd><p>Average the calculated bandwidth over the given time. Value is specified in
milliseconds. If the job also does bandwidth logging through
<a class="reference internal" href="#cmdoption-arg-write_bw_log"><code class="xref std std-option docutils literal notranslate"><span class="pre">write_bw_log</span></code></a>, then the minimum of this option and
<a class="reference internal" href="#cmdoption-arg-log_avg_msec"><code class="xref std std-option docutils literal notranslate"><span class="pre">log_avg_msec</span></code></a> will be used.  Default: 500ms.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-iopsavgtime">
<span class="sig-name descname"><span class="pre">iopsavgtime</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-iopsavgtime" title="Permalink to this definition">¶</a></dt>
<dd><p>Average the calculated IOPS over the given time. Value is specified in
milliseconds. If the job also does IOPS logging through
<a class="reference internal" href="#cmdoption-arg-write_iops_log"><code class="xref std std-option docutils literal notranslate"><span class="pre">write_iops_log</span></code></a>, then the minimum of this option and
<a class="reference internal" href="#cmdoption-arg-log_avg_msec"><code class="xref std std-option docutils literal notranslate"><span class="pre">log_avg_msec</span></code></a> will be used.  Default: 500ms.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-disk_util">
<span id="cmdoption-arg-disk-util"></span><span class="sig-name descname"><span class="pre">disk_util</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-disk_util" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate disk utilization statistics, if the platform supports it.
Default: true.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-disable_lat">
<span id="cmdoption-arg-disable-lat"></span><span class="sig-name descname"><span class="pre">disable_lat</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-disable_lat" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable measurements of total latency numbers. Useful only for cutting back
the number of calls to <em class="manpage">gettimeofday(2)</em>, as that does impact
performance at really high IOPS rates.  Note that to really get rid of a
large amount of these calls, this option must be used with
<a class="reference internal" href="#cmdoption-arg-disable_slat"><code class="xref std std-option docutils literal notranslate"><span class="pre">disable_slat</span></code></a> and <a class="reference internal" href="#cmdoption-arg-disable_bw_measurement"><code class="xref std std-option docutils literal notranslate"><span class="pre">disable_bw_measurement</span></code></a> as well.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-disable_clat">
<span id="cmdoption-arg-disable-clat"></span><span class="sig-name descname"><span class="pre">disable_clat</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-disable_clat" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable measurements of completion latency numbers. See
<a class="reference internal" href="#cmdoption-arg-disable_lat"><code class="xref std std-option docutils literal notranslate"><span class="pre">disable_lat</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-disable_slat">
<span id="cmdoption-arg-disable-slat"></span><span class="sig-name descname"><span class="pre">disable_slat</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-disable_slat" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable measurements of submission latency numbers. See
<a class="reference internal" href="#cmdoption-arg-disable_lat"><code class="xref std std-option docutils literal notranslate"><span class="pre">disable_lat</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-disable_bw_measurement">
<span id="cmdoption-arg-disable-bw-measurement"></span><span id="cmdoption-arg-disable_bw"></span><span id="cmdoption-arg-disable-bw"></span><span class="sig-name descname"><span class="pre">disable_bw_measurement</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">disable_bw</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-disable_bw_measurement" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable measurements of throughput/bandwidth numbers. See
<a class="reference internal" href="#cmdoption-arg-disable_lat"><code class="xref std std-option docutils literal notranslate"><span class="pre">disable_lat</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-slat_percentiles">
<span id="cmdoption-arg-slat-percentiles"></span><span class="sig-name descname"><span class="pre">slat_percentiles</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-slat_percentiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Report submission latency percentiles. Submission latency is not recorded
for synchronous ioengines.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-clat_percentiles">
<span id="cmdoption-arg-clat-percentiles"></span><span class="sig-name descname"><span class="pre">clat_percentiles</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-clat_percentiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Report completion latency percentiles.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-lat_percentiles">
<span id="cmdoption-arg-lat-percentiles"></span><span class="sig-name descname"><span class="pre">lat_percentiles</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-lat_percentiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Report total latency percentiles. Total latency is the sum of submission
latency and completion latency.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-percentile_list">
<span id="cmdoption-arg-percentile-list"></span><span class="sig-name descname"><span class="pre">percentile_list</span></span><span class="sig-prename descclassname"><span class="pre">=float_list</span></span><a class="headerlink" href="#cmdoption-arg-percentile_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Overwrite the default list of percentiles for latencies and the block error
histogram.  Each number is a floating point number in the range (0,100], and
the maximum length of the list is 20. Use <code class="docutils literal notranslate"><span class="pre">:</span></code> to separate the numbers. For
example, <code class="docutils literal notranslate"><span class="pre">--percentile_list=99.5:99.9</span></code> will cause fio to report the
latency durations below which 99.5% and 99.9% of the observed latencies fell,
respectively.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-significant_figures">
<span id="cmdoption-arg-significant-figures"></span><span class="sig-name descname"><span class="pre">significant_figures</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span><a class="headerlink" href="#cmdoption-arg-significant_figures" title="Permalink to this definition">¶</a></dt>
<dd><p>If using <a class="reference internal" href="#cmdoption-output-format"><code class="xref std std-option docutils literal notranslate"><span class="pre">--output-format</span></code></a> of <cite>normal</cite>, set the significant
figures to this value. Higher values will yield more precise IOPS and
throughput units, while lower values will round. Requires a minimum
value of 1 and a maximum value of 10. Defaults to 4.</p>
</dd></dl>

</section>
<section id="error-handling">
<h3><span class="section-number">1.13.20. </span>Error handling<a class="headerlink" href="#error-handling" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-exitall_on_error">
<span id="cmdoption-arg-exitall-on-error"></span><span class="sig-name descname"><span class="pre">exitall_on_error</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-exitall_on_error" title="Permalink to this definition">¶</a></dt>
<dd><p>When one job finishes in error, terminate the rest. The default is to wait
for each job to finish.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-continue_on_error">
<span id="cmdoption-arg-continue-on-error"></span><span class="sig-name descname"><span class="pre">continue_on_error</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-continue_on_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Normally fio will exit the job on the first observed failure. If this option
is set, fio will continue the job when there is a ‘non-fatal error’ (EIO or
EILSEQ) until the runtime is exceeded or the I/O size specified is
completed. If this option is used, there are two more stats that are
appended, the total error count and the first error. The error field given
in the stats is the first error that was hit during the run.</p>
<p>Note: a write error from the device may go unnoticed by fio when using
buffered IO, as the write() (or similar) system call merely dirties the
kernel pages, unless <a class="reference internal" href="#cmdoption-arg-sync"><code class="xref std std-option docutils literal notranslate"><span class="pre">sync</span></code></a> or <a class="reference internal" href="#cmdoption-arg-direct"><code class="xref std std-option docutils literal notranslate"><span class="pre">direct</span></code></a> is used. Device IO
errors occur when the dirty data is actually written out to disk. If fully
sync writes aren’t desirable, <a class="reference internal" href="#cmdoption-arg-fsync"><code class="xref std std-option docutils literal notranslate"><span class="pre">fsync</span></code></a> or <a class="reference internal" href="#cmdoption-arg-fdatasync"><code class="xref std std-option docutils literal notranslate"><span class="pre">fdatasync</span></code></a> can be
used as well. This is specific to writes, as reads are always synchronous.</p>
<p>The allowed values are:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>none</strong></dt><dd><p>Exit on any I/O or verify errors.</p>
</dd>
<dt><strong>read</strong></dt><dd><p>Continue on read errors, exit on all others.</p>
</dd>
<dt><strong>write</strong></dt><dd><p>Continue on write errors, exit on all others.</p>
</dd>
<dt><strong>io</strong></dt><dd><p>Continue on any I/O error, exit on all others.</p>
</dd>
<dt><strong>verify</strong></dt><dd><p>Continue on verify errors, exit on all others.</p>
</dd>
<dt><strong>all</strong></dt><dd><p>Continue on all errors.</p>
</dd>
<dt><strong>0</strong></dt><dd><p>Backward-compatible alias for ‘none’.</p>
</dd>
<dt><strong>1</strong></dt><dd><p>Backward-compatible alias for ‘all’.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-ignore_error">
<span id="cmdoption-arg-ignore-error"></span><span class="sig-name descname"><span class="pre">ignore_error</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-ignore_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Sometimes you want to ignore some errors during test in that case you can
specify error list for each error type, instead of only being able to
ignore the default ‘non-fatal error’ using <a class="reference internal" href="#cmdoption-arg-continue_on_error"><code class="xref std std-option docutils literal notranslate"><span class="pre">continue_on_error</span></code></a>.
<code class="docutils literal notranslate"><span class="pre">ignore_error=READ_ERR_LIST,WRITE_ERR_LIST,VERIFY_ERR_LIST</span></code> errors for
given error type is separated with ‘:’. Error may be symbol (‘ENOSPC’,
‘ENOMEM’) or integer.  Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ignore_error</span><span class="o">=</span><span class="n">EAGAIN</span><span class="p">,</span><span class="n">ENOSPC</span><span class="p">:</span><span class="mi">122</span>
</pre></div>
</div>
<p>This option will ignore EAGAIN from READ, and ENOSPC and 122(EDQUOT) from
WRITE. This option works by overriding <a class="reference internal" href="#cmdoption-arg-continue_on_error"><code class="xref std std-option docutils literal notranslate"><span class="pre">continue_on_error</span></code></a> with
the list of errors for each error type if any.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-error_dump">
<span id="cmdoption-arg-error-dump"></span><span class="sig-name descname"><span class="pre">error_dump</span></span><span class="sig-prename descclassname"><span class="pre">=bool</span></span><a class="headerlink" href="#cmdoption-arg-error_dump" title="Permalink to this definition">¶</a></dt>
<dd><p>If set dump every error even if it is non fatal, true by default. If
disabled only fatal error will be dumped.</p>
</dd></dl>

</section>
</section>
<section id="running-predefined-workloads">
<h2><span class="section-number">1.14. </span>Running predefined workloads<a class="headerlink" href="#running-predefined-workloads" title="Permalink to this heading">¶</a></h2>
<p>Fio includes predefined profiles that mimic the I/O workloads generated by
other tools.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-profile">
<span class="sig-name descname"><span class="pre">profile</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span><a class="headerlink" href="#cmdoption-arg-profile" title="Permalink to this definition">¶</a></dt>
<dd><p>The predefined workload to run.  Current profiles are:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>tiobench</strong></dt><dd><p>Threaded I/O bench (tiotest/tiobench) like workload.</p>
</dd>
<dt><strong>act</strong></dt><dd><p>Aerospike Certification Tool (ACT) like workload.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<p>To view a profile’s additional options use <a class="reference internal" href="#cmdoption-cmdhelp"><code class="xref std std-option docutils literal notranslate"><span class="pre">--cmdhelp</span></code></a> after specifying
the profile.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ fio --profile=act --cmdhelp
</pre></div>
</div>
<section id="act-profile-options">
<h3><span class="section-number">1.14.1. </span>Act profile options<a class="headerlink" href="#act-profile-options" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">device-names</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span></dt>
<dd><p>Devices to use.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span></dt>
<dd><p>ACT load multiplier.  Default: 1.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">test-duration</span></span><span class="sig-prename descclassname"><span class="pre">=time</span></span></dt>
<dd><p>How long the entire test takes to run.  When the unit is omitted, the value
is given in seconds.  Default: 24h.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">threads-per-queue</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span></dt>
<dd><p>Number of read I/O threads per device.  Default: 8.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">read-req-num-512-blocks</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span></dt>
<dd><p>Number of 512B blocks to read at the time.  Default: 3.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">large-block-op-kbytes</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span></dt>
<dd><p>Size of large block ops in KiB (writes).  Default: 131072.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">prep</span></span><span class="sig-prename descclassname"></span></dt>
<dd><p>Set to run ACT prep phase.</p>
</dd></dl>

</section>
<section id="tiobench-profile-options">
<h3><span class="section-number">1.14.2. </span>Tiobench profile options<a class="headerlink" href="#tiobench-profile-options" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">size</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span></dt>
<dd><p>Size in MiB.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">block</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span></dt>
<dd><p>Block size in bytes.  Default: 4096.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">numruns</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span></dt>
<dd><p>Number of runs.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">dir</span></span><span class="sig-prename descclassname"><span class="pre">=str</span></span></dt>
<dd><p>Test directory.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">threads</span></span><span class="sig-prename descclassname"><span class="pre">=int</span></span></dt>
<dd><p>Number of threads.</p>
</dd></dl>

</section>
</section>
<section id="interpreting-the-output">
<h2><span class="section-number">1.15. </span>Interpreting the output<a class="headerlink" href="#interpreting-the-output" title="Permalink to this heading">¶</a></h2>
<p>Fio spits out a lot of output. While running, fio will display the status of the
jobs created. An example of that would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Jobs</span><span class="p">:</span> <span class="mi">1</span> <span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span> <span class="p">[</span><span class="n">_</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">M</span><span class="p">(</span><span class="mi">1</span><span class="p">)][</span><span class="mf">24.8</span><span class="o">%</span><span class="p">][</span><span class="n">r</span><span class="o">=</span><span class="mf">20.5</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="p">,</span><span class="n">w</span><span class="o">=</span><span class="mf">23.5</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="p">][</span><span class="n">r</span><span class="o">=</span><span class="mi">82</span><span class="p">,</span><span class="n">w</span><span class="o">=</span><span class="mi">94</span> <span class="n">IOPS</span><span class="p">][</span><span class="n">eta</span> <span class="mi">01</span><span class="n">m</span><span class="p">:</span><span class="mi">31</span><span class="n">s</span><span class="p">]</span>
</pre></div>
</div>
<p>The characters inside the first set of square brackets denote the current status of
each thread.  The first character is the first job defined in the job file, and so
forth.  The possible values (in typical life cycle order) are:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Idle</p></th>
<th class="head"><p>Run</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>P</p></td>
<td></td>
<td><p>Thread setup, but not started.</p></td>
</tr>
<tr class="row-odd"><td><p>C</p></td>
<td></td>
<td><p>Thread created.</p></td>
</tr>
<tr class="row-even"><td><p>I</p></td>
<td></td>
<td><p>Thread initialized, waiting or generating necessary data.</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>p</p></td>
<td><p>Thread running pre-reading file(s).</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>/</p></td>
<td><p>Thread is in ramp period.</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>R</p></td>
<td><p>Running, doing sequential reads.</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>r</p></td>
<td><p>Running, doing random reads.</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>W</p></td>
<td><p>Running, doing sequential writes.</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>w</p></td>
<td><p>Running, doing random writes.</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>M</p></td>
<td><p>Running, doing mixed sequential reads/writes.</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>m</p></td>
<td><p>Running, doing mixed random reads/writes.</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>D</p></td>
<td><p>Running, doing sequential trims.</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>d</p></td>
<td><p>Running, doing random trims.</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>F</p></td>
<td><p>Running, currently waiting for <em class="manpage">fsync(2)</em>.</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>V</p></td>
<td><p>Running, doing verification of written data.</p></td>
</tr>
<tr class="row-odd"><td><p>f</p></td>
<td></td>
<td><p>Thread finishing.</p></td>
</tr>
<tr class="row-even"><td><p>E</p></td>
<td></td>
<td><p>Thread exited, not reaped by main thread yet.</p></td>
</tr>
<tr class="row-odd"><td><p>_</p></td>
<td></td>
<td><p>Thread reaped.</p></td>
</tr>
<tr class="row-even"><td><p>X</p></td>
<td></td>
<td><p>Thread reaped, exited with an error.</p></td>
</tr>
<tr class="row-odd"><td><p>K</p></td>
<td></td>
<td><p>Thread reaped, exited due to signal.</p></td>
</tr>
</tbody>
</table>
<p>Fio will condense the thread string as not to take up more space on the command
line than needed. For instance, if you have 10 readers and 10 writers running,
the output would look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Jobs</span><span class="p">:</span> <span class="mi">20</span> <span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span> <span class="p">[</span><span class="n">R</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="n">W</span><span class="p">(</span><span class="mi">10</span><span class="p">)][</span><span class="mf">4.0</span><span class="o">%</span><span class="p">][</span><span class="n">r</span><span class="o">=</span><span class="mf">20.5</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="p">,</span><span class="n">w</span><span class="o">=</span><span class="mf">23.5</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="p">][</span><span class="n">r</span><span class="o">=</span><span class="mi">82</span><span class="p">,</span><span class="n">w</span><span class="o">=</span><span class="mi">94</span> <span class="n">IOPS</span><span class="p">][</span><span class="n">eta</span> <span class="mi">57</span><span class="n">m</span><span class="p">:</span><span class="mi">36</span><span class="n">s</span><span class="p">]</span>
</pre></div>
</div>
<p>Note that the status string is displayed in order, so it’s possible to tell which of
the jobs are currently doing what.  In the example above this means that jobs 1–10
are readers and 11–20 are writers.</p>
<p>The other values are fairly self explanatory – number of threads currently
running and doing I/O, the number of currently open files (f=), the estimated
completion percentage, the rate of I/O since last check (read speed listed first,
then write speed and optionally trim speed) in terms of bandwidth and IOPS,
and time to completion for the current running group. It’s impossible to estimate
runtime of the following groups (if any).</p>
<p>When fio is done (or interrupted by <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd>-<kbd class="kbd docutils literal notranslate">C</kbd></kbd>), it will show the data for
each thread, group of threads, and disks in that order. For each overall thread (or
group) the output looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Client1</span><span class="p">:</span> <span class="p">(</span><span class="n">groupid</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span> <span class="n">err</span><span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="n">pid</span><span class="o">=</span><span class="mi">16109</span><span class="p">:</span> <span class="n">Sat</span> <span class="n">Jun</span> <span class="mi">24</span> <span class="mi">12</span><span class="p">:</span><span class="mi">07</span><span class="p">:</span><span class="mi">54</span> <span class="mi">2017</span>
  <span class="n">write</span><span class="p">:</span> <span class="n">IOPS</span><span class="o">=</span><span class="mi">88</span><span class="p">,</span> <span class="n">BW</span><span class="o">=</span><span class="mi">623</span><span class="n">KiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mi">638</span><span class="n">kB</span><span class="o">/</span><span class="n">s</span><span class="p">)(</span><span class="mf">30.4</span><span class="n">MiB</span><span class="o">/</span><span class="mi">50032</span><span class="n">msec</span><span class="p">)</span>
    <span class="n">slat</span> <span class="p">(</span><span class="n">nsec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">145500</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">8318.00</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">4781.50</span>
    <span class="n">clat</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">170</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">78367</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">4019.02</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">8293.31</span>
     <span class="n">lat</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span><span class="mi">174</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">78375</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">4027.34</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">8291.79</span>
    <span class="n">clat</span> <span class="n">percentiles</span> <span class="p">(</span><span class="n">usec</span><span class="p">):</span>
     <span class="o">|</span>  <span class="mf">1.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">302</span><span class="p">],</span>  <span class="mf">5.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">326</span><span class="p">],</span> <span class="mf">10.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">343</span><span class="p">],</span> <span class="mf">20.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">363</span><span class="p">],</span>
     <span class="o">|</span> <span class="mf">30.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">392</span><span class="p">],</span> <span class="mf">40.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">404</span><span class="p">],</span> <span class="mf">50.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">416</span><span class="p">],</span> <span class="mf">60.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">445</span><span class="p">],</span>
     <span class="o">|</span> <span class="mf">70.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span>  <span class="mi">816</span><span class="p">],</span> <span class="mf">80.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span> <span class="mi">6718</span><span class="p">],</span> <span class="mf">90.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">12911</span><span class="p">],</span> <span class="mf">95.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">21627</span><span class="p">],</span>
     <span class="o">|</span> <span class="mf">99.00</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">43779</span><span class="p">],</span> <span class="mf">99.50</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">51643</span><span class="p">],</span> <span class="mf">99.90</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">68682</span><span class="p">],</span> <span class="mf">99.95</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">72877</span><span class="p">],</span>
     <span class="o">|</span> <span class="mf">99.99</span><span class="n">th</span><span class="o">=</span><span class="p">[</span><span class="mi">78119</span><span class="p">]</span>
   <span class="n">bw</span> <span class="p">(</span>  <span class="n">KiB</span><span class="o">/</span><span class="n">s</span><span class="p">):</span> <span class="nb">min</span><span class="o">=</span>  <span class="mi">532</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span>  <span class="mi">686</span><span class="p">,</span> <span class="n">per</span><span class="o">=</span><span class="mf">0.10</span><span class="o">%</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">622.87</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span><span class="mf">24.82</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span>  <span class="mi">100</span>
   <span class="n">iops</span>        <span class="p">:</span> <span class="nb">min</span><span class="o">=</span>   <span class="mi">76</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span>   <span class="mi">98</span><span class="p">,</span> <span class="n">avg</span><span class="o">=</span><span class="mf">88.98</span><span class="p">,</span> <span class="n">stdev</span><span class="o">=</span> <span class="mf">3.54</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span>  <span class="mi">100</span>
  <span class="n">lat</span> <span class="p">(</span><span class="n">usec</span><span class="p">)</span>   <span class="p">:</span> <span class="mi">250</span><span class="o">=</span><span class="mf">0.04</span><span class="o">%</span><span class="p">,</span> <span class="mi">500</span><span class="o">=</span><span class="mf">64.11</span><span class="o">%</span><span class="p">,</span> <span class="mi">750</span><span class="o">=</span><span class="mf">4.81</span><span class="o">%</span><span class="p">,</span> <span class="mi">1000</span><span class="o">=</span><span class="mf">2.79</span><span class="o">%</span>
  <span class="n">lat</span> <span class="p">(</span><span class="n">msec</span><span class="p">)</span>   <span class="p">:</span> <span class="mi">2</span><span class="o">=</span><span class="mf">4.16</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">1.84</span><span class="o">%</span><span class="p">,</span> <span class="mi">10</span><span class="o">=</span><span class="mf">4.90</span><span class="o">%</span><span class="p">,</span> <span class="mi">20</span><span class="o">=</span><span class="mf">11.33</span><span class="o">%</span><span class="p">,</span> <span class="mi">50</span><span class="o">=</span><span class="mf">5.37</span><span class="o">%</span>
  <span class="n">lat</span> <span class="p">(</span><span class="n">msec</span><span class="p">)</span>   <span class="p">:</span> <span class="mi">100</span><span class="o">=</span><span class="mf">0.65</span><span class="o">%</span>
  <span class="n">cpu</span>          <span class="p">:</span> <span class="n">usr</span><span class="o">=</span><span class="mf">0.27</span><span class="o">%</span><span class="p">,</span> <span class="n">sys</span><span class="o">=</span><span class="mf">0.18</span><span class="o">%</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="mi">12072</span><span class="p">,</span> <span class="n">majf</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">minf</span><span class="o">=</span><span class="mi">21</span>
  <span class="n">IO</span> <span class="n">depths</span>    <span class="p">:</span> <span class="mi">1</span><span class="o">=</span><span class="mf">85.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">2</span><span class="o">=</span><span class="mf">13.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">1.8</span><span class="o">%</span><span class="p">,</span> <span class="mi">8</span><span class="o">=</span><span class="mf">0.1</span><span class="o">%</span><span class="p">,</span> <span class="mi">16</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">32</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="o">&gt;=</span><span class="mi">64</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span>
     <span class="n">submit</span>    <span class="p">:</span> <span class="mi">0</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">100.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">8</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">16</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">32</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">64</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="o">&gt;=</span><span class="mi">64</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span>
     <span class="n">complete</span>  <span class="p">:</span> <span class="mi">0</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">4</span><span class="o">=</span><span class="mf">100.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">8</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">16</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">32</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="mi">64</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span><span class="p">,</span> <span class="o">&gt;=</span><span class="mi">64</span><span class="o">=</span><span class="mf">0.0</span><span class="o">%</span>
     <span class="n">issued</span> <span class="n">rwt</span><span class="p">:</span> <span class="n">total</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">4450</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">short</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">dropped</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
     <span class="n">latency</span>   <span class="p">:</span> <span class="n">target</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">percentile</span><span class="o">=</span><span class="mf">100.00</span><span class="o">%</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">8</span>
</pre></div>
</div>
<p>The job name (or first job’s name when using <a class="reference internal" href="#cmdoption-arg-group_reporting"><code class="xref std std-option docutils literal notranslate"><span class="pre">group_reporting</span></code></a>) is printed,
along with the group id, count of jobs being aggregated, last error id seen (which
is 0 when there are no errors), pid/tid of that thread and the time the job/group
completed.  Below are the I/O statistics for each data direction performed (showing
writes in the example above).  In the order listed, they denote:</p>
<dl class="simple">
<dt><strong>read/write/trim</strong></dt><dd><p>The string before the colon shows the I/O direction the statistics
are for.  <strong>IOPS</strong> is the average I/Os performed per second.  <strong>BW</strong>
is the average bandwidth rate shown as: value in power of 2 format
(value in power of 10 format).  The last two values show: (<strong>total
I/O performed</strong> in power of 2 format / <strong>runtime</strong> of that thread).</p>
</dd>
<dt><strong>slat</strong></dt><dd><p>Submission latency (<strong>min</strong> being the minimum, <strong>max</strong> being the
maximum, <strong>avg</strong> being the average, <strong>stdev</strong> being the standard
deviation).  This is the time from when fio initialized the I/O
to submission.  For synchronous ioengines this includes the time
up until just before the ioengine’s queue function is called.
For asynchronous ioengines this includes the time up through the
completion of the ioengine’s queue function (and commit function
if it is defined). For sync I/O this row is not displayed as the
slat is negligible.  This value can be in nanoseconds,
microseconds or milliseconds — fio will choose the most
appropriate base and print that (in the example above
nanoseconds was the best scale).  Note: in <a class="reference internal" href="#cmdoption-minimal"><code class="xref std std-option docutils literal notranslate"><span class="pre">--minimal</span></code></a>
mode latencies are always expressed in microseconds.</p>
</dd>
<dt><strong>clat</strong></dt><dd><p>Completion latency. Same names as slat, this denotes the time from
submission to completion of the I/O pieces. For sync I/O, this
represents the time from when the I/O was submitted to the
operating system to when it was completed. For asynchronous
ioengines this is the time from when the ioengine’s queue (and
commit if available) functions were completed to when the I/O’s
completion was reaped by fio.</p>
</dd>
<dt><strong>lat</strong></dt><dd><p>Total latency. Same names as slat and clat, this denotes the time from
when fio created the I/O unit to completion of the I/O operation.
It is the sum of submission and completion latency.</p>
</dd>
<dt><strong>bw</strong></dt><dd><p>Bandwidth statistics based on measurements from discrete
intervals. Fio continuously monitors bytes transferred and I/O
operations completed. By default fio calculates bandwidth in
each half-second interval (see <a class="reference internal" href="#cmdoption-arg-bwavgtime"><code class="xref std std-option docutils literal notranslate"><span class="pre">bwavgtime</span></code></a>) and reports
descriptive statistics for the measurements here. Same names as
the xlat stats, but also includes the number of samples taken
(<strong>samples</strong>) and an approximate percentage of total aggregate
bandwidth this thread received in its group (<strong>per</strong>). This
last value is only really useful if the threads in this group
are on the same disk, since they are then competing for disk
access.</p>
</dd>
<dt><strong>iops</strong></dt><dd><p>IOPS statistics based on measurements from discrete intervals.
For details see the description for bw above. See
<a class="reference internal" href="#cmdoption-arg-iopsavgtime"><code class="xref std std-option docutils literal notranslate"><span class="pre">iopsavgtime</span></code></a> to control the duration of the intervals.
Same values reported here as for bw except for percentage.</p>
</dd>
<dt><strong>lat (nsec/usec/msec)</strong></dt><dd><p>The distribution of I/O completion latencies. This is the time from when
I/O leaves fio and when it gets completed. Unlike the separate
read/write/trim sections above, the data here and in the remaining
sections apply to all I/Os for the reporting group. 250=0.04% means that
0.04% of the I/Os completed in under 250us. 500=64.11% means that 64.11%
of the I/Os required 250 to 499us for completion.</p>
</dd>
<dt><strong>cpu</strong></dt><dd><p>CPU usage. User and system time, along with the number of context
switches this thread went through, usage of system and user time, and
finally the number of major and minor page faults. The CPU utilization
numbers are averages for the jobs in that reporting group, while the
context and fault counters are summed.</p>
</dd>
<dt><strong>IO depths</strong></dt><dd><p>The distribution of I/O depths over the job lifetime.  The numbers are
divided into powers of 2 and each entry covers depths from that value
up to those that are lower than the next entry – e.g., 16= covers
depths from 16 to 31.  Note that the range covered by a depth
distribution entry can be different to the range covered by the
equivalent submit/complete distribution entry.</p>
</dd>
<dt><strong>IO submit</strong></dt><dd><p>How many pieces of I/O were submitting in a single submit call. Each
entry denotes that amount and below, until the previous entry – e.g.,
16=100% means that we submitted anywhere between 9 to 16 I/Os per submit
call.  Note that the range covered by a submit distribution entry can
be different to the range covered by the equivalent depth distribution
entry.</p>
</dd>
<dt><strong>IO complete</strong></dt><dd><p>Like the above submit number, but for completions instead.</p>
</dd>
<dt><strong>IO issued rwt</strong></dt><dd><p>The number of read/write/trim requests issued, and how many of them were
short or dropped.</p>
</dd>
<dt><strong>IO latency</strong></dt><dd><p>These values are for <a class="reference internal" href="#cmdoption-arg-latency_target"><code class="xref std std-option docutils literal notranslate"><span class="pre">latency_target</span></code></a> and related options. When
these options are engaged, this section describes the I/O depth required
to meet the specified latency target.</p>
</dd>
</dl>
<p>After each client has been listed, the group statistics are printed. They
will look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Run</span> <span class="n">status</span> <span class="n">group</span> <span class="mi">0</span> <span class="p">(</span><span class="nb">all</span> <span class="n">jobs</span><span class="p">):</span>
   <span class="n">READ</span><span class="p">:</span> <span class="n">bw</span><span class="o">=</span><span class="mf">20.9</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">21.9</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="mf">10.4</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mf">10.8</span><span class="n">MiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mf">10.9</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mf">11.3</span><span class="n">MB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="n">io</span><span class="o">=</span><span class="mf">64.0</span><span class="n">MiB</span> <span class="p">(</span><span class="mf">67.1</span><span class="n">MB</span><span class="p">),</span> <span class="n">run</span><span class="o">=</span><span class="mi">2973</span><span class="o">-</span><span class="mi">3069</span><span class="n">msec</span>
  <span class="n">WRITE</span><span class="p">:</span> <span class="n">bw</span><span class="o">=</span><span class="mi">1231</span><span class="n">KiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mi">1261</span><span class="n">kB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="mi">616</span><span class="n">KiB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mi">621</span><span class="n">KiB</span><span class="o">/</span><span class="n">s</span> <span class="p">(</span><span class="mi">630</span><span class="n">kB</span><span class="o">/</span><span class="n">s</span><span class="o">-</span><span class="mi">636</span><span class="n">kB</span><span class="o">/</span><span class="n">s</span><span class="p">),</span> <span class="n">io</span><span class="o">=</span><span class="mf">64.0</span><span class="n">MiB</span> <span class="p">(</span><span class="mf">67.1</span><span class="n">MB</span><span class="p">),</span> <span class="n">run</span><span class="o">=</span><span class="mi">52747</span><span class="o">-</span><span class="mi">53223</span><span class="n">msec</span>
</pre></div>
</div>
<p>For each data direction it prints:</p>
<dl class="simple">
<dt><strong>bw</strong></dt><dd><p>Aggregate bandwidth of threads in this group followed by the
minimum and maximum bandwidth of all the threads in this group.
Values outside of brackets are power-of-2 format and those
within are the equivalent value in a power-of-10 format.</p>
</dd>
<dt><strong>io</strong></dt><dd><p>Aggregate I/O performed of all threads in this group. The
format is the same as bw.</p>
</dd>
<dt><strong>run</strong></dt><dd><p>The smallest and longest runtimes of the threads in this group.</p>
</dd>
</dl>
<p>And finally, the disk statistics are printed. This is Linux specific. They will look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Disk</span> <span class="n">stats</span> <span class="p">(</span><span class="n">read</span><span class="o">/</span><span class="n">write</span><span class="p">):</span>
  <span class="n">sda</span><span class="p">:</span> <span class="n">ios</span><span class="o">=</span><span class="mi">16398</span><span class="o">/</span><span class="mi">16511</span><span class="p">,</span> <span class="n">sectors</span><span class="o">=</span><span class="mi">32321</span><span class="o">/</span><span class="mi">65472</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="mi">30</span><span class="o">/</span><span class="mi">162</span><span class="p">,</span> <span class="n">ticks</span><span class="o">=</span><span class="mi">6853</span><span class="o">/</span><span class="mi">819634</span><span class="p">,</span> <span class="n">in_queue</span><span class="o">=</span><span class="mi">826487</span><span class="p">,</span> <span class="n">util</span><span class="o">=</span><span class="mf">100.00</span><span class="o">%</span>
</pre></div>
</div>
<p>Each value is printed for both reads and writes, with reads first. The
numbers denote:</p>
<dl class="simple">
<dt><strong>ios</strong></dt><dd><p>Number of I/Os performed by all groups.</p>
</dd>
<dt><strong>sectors</strong></dt><dd><p>Amount of data transferred in units of 512 bytes for all groups.</p>
</dd>
<dt><strong>merge</strong></dt><dd><p>Number of merges performed by the I/O scheduler.</p>
</dd>
<dt><strong>ticks</strong></dt><dd><p>Number of ticks we kept the disk busy.</p>
</dd>
<dt><strong>in_queue</strong></dt><dd><p>Total time spent in the disk queue.</p>
</dd>
<dt><strong>util</strong></dt><dd><p>The disk utilization. A value of 100% means we kept the disk
busy constantly, 50% would be a disk idling half of the time.</p>
</dd>
</dl>
<p>It is also possible to get fio to dump the current output while it is running,
without terminating the job. To do that, send fio the <strong>USR1</strong> signal.  You can
also get regularly timed dumps by using the <a class="reference internal" href="#cmdoption-status-interval"><code class="xref std std-option docutils literal notranslate"><span class="pre">--status-interval</span></code></a>
parameter, or by creating a file in <code class="file docutils literal notranslate"><span class="pre">/tmp</span></code> named
<code class="file docutils literal notranslate"><span class="pre">fio-dump-status</span></code>. If fio sees this file, it will unlink it and dump the
current output status.</p>
</section>
<section id="terse-output">
<h2><span class="section-number">1.16. </span>Terse output<a class="headerlink" href="#terse-output" title="Permalink to this heading">¶</a></h2>
<p>For scripted usage where you typically want to generate tables or graphs of the
results, fio can output the results in a semicolon separated format.  The format
is one long line of values, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span><span class="p">;</span><span class="n">card0</span><span class="p">;</span><span class="mi">0</span><span class="p">;</span><span class="mi">0</span><span class="p">;</span><span class="mi">7139336</span><span class="p">;</span><span class="mi">121836</span><span class="p">;</span><span class="mi">60004</span><span class="p">;</span><span class="mi">1</span><span class="p">;</span><span class="mi">10109</span><span class="p">;</span><span class="mf">27.932460</span><span class="p">;</span><span class="mf">116.933948</span><span class="p">;</span><span class="mi">220</span><span class="p">;</span><span class="mi">126861</span><span class="p">;</span><span class="mf">3495.446807</span><span class="p">;</span><span class="mf">1085.368601</span><span class="p">;</span><span class="mi">226</span><span class="p">;</span><span class="mi">126864</span><span class="p">;</span><span class="mf">3523.635629</span><span class="p">;</span><span class="mf">1089.012448</span><span class="p">;</span><span class="mi">24063</span><span class="p">;</span><span class="mi">99944</span><span class="p">;</span><span class="mf">50.275485</span><span class="o">%</span><span class="p">;</span><span class="mf">59818.274627</span><span class="p">;</span><span class="mf">5540.657370</span><span class="p">;</span><span class="mi">7155060</span><span class="p">;</span><span class="mi">122104</span><span class="p">;</span><span class="mi">60004</span><span class="p">;</span><span class="mi">1</span><span class="p">;</span><span class="mi">8338</span><span class="p">;</span><span class="mf">29.086342</span><span class="p">;</span><span class="mf">117.839068</span><span class="p">;</span><span class="mi">388</span><span class="p">;</span><span class="mi">128077</span><span class="p">;</span><span class="mf">5032.488518</span><span class="p">;</span><span class="mf">1234.785715</span><span class="p">;</span><span class="mi">391</span><span class="p">;</span><span class="mi">128085</span><span class="p">;</span><span class="mf">5061.839412</span><span class="p">;</span><span class="mf">1236.909129</span><span class="p">;</span><span class="mi">23436</span><span class="p">;</span><span class="mi">100928</span><span class="p">;</span><span class="mf">50.287926</span><span class="o">%</span><span class="p">;</span><span class="mf">59964.832030</span><span class="p">;</span><span class="mf">5644.844189</span><span class="p">;</span><span class="mf">14.595833</span><span class="o">%</span><span class="p">;</span><span class="mf">19.394167</span><span class="o">%</span><span class="p">;</span><span class="mi">123706</span><span class="p">;</span><span class="mi">0</span><span class="p">;</span><span class="mi">7313</span><span class="p">;</span><span class="mf">0.1</span><span class="o">%</span><span class="p">;</span><span class="mf">0.1</span><span class="o">%</span><span class="p">;</span><span class="mf">0.1</span><span class="o">%</span><span class="p">;</span><span class="mf">0.1</span><span class="o">%</span><span class="p">;</span><span class="mf">0.1</span><span class="o">%</span><span class="p">;</span><span class="mf">0.1</span><span class="o">%</span><span class="p">;</span><span class="mf">100.0</span><span class="o">%</span><span class="p">;</span><span class="mf">0.00</span><span class="o">%</span><span class="p">;</span><span class="mf">0.00</span><span class="o">%</span><span class="p">;</span><span class="mf">0.00</span><span class="o">%</span><span class="p">;</span><span class="mf">0.00</span><span class="o">%</span><span class="p">;</span><span class="mf">0.00</span><span class="o">%</span><span class="p">;</span><span class="mf">0.00</span><span class="o">%</span><span class="p">;</span><span class="mf">0.01</span><span class="o">%</span><span class="p">;</span><span class="mf">0.02</span><span class="o">%</span><span class="p">;</span><span class="mf">0.05</span><span class="o">%</span><span class="p">;</span><span class="mf">0.16</span><span class="o">%</span><span class="p">;</span><span class="mf">6.04</span><span class="o">%</span><span class="p">;</span><span class="mf">40.40</span><span class="o">%</span><span class="p">;</span><span class="mf">52.68</span><span class="o">%</span><span class="p">;</span><span class="mf">0.64</span><span class="o">%</span><span class="p">;</span><span class="mf">0.01</span><span class="o">%</span><span class="p">;</span><span class="mf">0.00</span><span class="o">%</span><span class="p">;</span><span class="mf">0.01</span><span class="o">%</span><span class="p">;</span><span class="mf">0.00</span><span class="o">%</span><span class="p">;</span><span class="mf">0.00</span><span class="o">%</span><span class="p">;</span><span class="mf">0.00</span><span class="o">%</span><span class="p">;</span><span class="mf">0.00</span><span class="o">%</span><span class="p">;</span><span class="mf">0.00</span><span class="o">%</span>
<span class="n">A</span> <span class="n">description</span> <span class="n">of</span> <span class="n">this</span> <span class="n">job</span> <span class="n">goes</span> <span class="n">here</span><span class="o">.</span>
</pre></div>
</div>
<p>The job description (if provided) follows on a second line for terse v2.
It appears on the same line for other terse versions.</p>
<p>To enable terse output, use the <a class="reference internal" href="#cmdoption-minimal"><code class="xref std std-option docutils literal notranslate"><span class="pre">--minimal</span></code></a> or
<a class="reference internal" href="#cmdoption-output-format"><code class="xref std std-option docutils literal notranslate"><span class="pre">--output-format</span></code></a>=terse command line options. The
first value is the version of the terse output format. If the output has to be
changed for some reason, this number will be incremented by 1 to signify that
change.</p>
<p>Split up, the format is as follows (comments in brackets denote when a
field was introduced or whether it’s specific to some terse version):</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">terse</span> <span class="n">version</span><span class="p">,</span> <span class="n">fio</span> <span class="n">version</span> <span class="p">[</span><span class="n">v3</span><span class="p">],</span> <span class="n">jobname</span><span class="p">,</span> <span class="n">groupid</span><span class="p">,</span> <span class="n">error</span>
</pre></div>
</div>
<p>READ status:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Total</span> <span class="n">IO</span> <span class="p">(</span><span class="n">KiB</span><span class="p">),</span> <span class="n">bandwidth</span> <span class="p">(</span><span class="n">KiB</span><span class="o">/</span><span class="n">sec</span><span class="p">),</span> <span class="n">IOPS</span><span class="p">,</span> <span class="n">runtime</span> <span class="p">(</span><span class="n">msec</span><span class="p">)</span>
<span class="n">Submission</span> <span class="n">latency</span><span class="p">:</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">stdev</span> <span class="p">(</span><span class="n">usec</span><span class="p">)</span>
<span class="n">Completion</span> <span class="n">latency</span><span class="p">:</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">stdev</span> <span class="p">(</span><span class="n">usec</span><span class="p">)</span>
<span class="n">Completion</span> <span class="n">latency</span> <span class="n">percentiles</span><span class="p">:</span> <span class="mi">20</span> <span class="n">fields</span> <span class="p">(</span><span class="n">see</span> <span class="n">below</span><span class="p">)</span>
<span class="n">Total</span> <span class="n">latency</span><span class="p">:</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">stdev</span> <span class="p">(</span><span class="n">usec</span><span class="p">)</span>
<span class="n">Bw</span> <span class="p">(</span><span class="n">KiB</span><span class="o">/</span><span class="n">s</span><span class="p">):</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">aggregate</span> <span class="n">percentage</span> <span class="n">of</span> <span class="n">total</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">stdev</span><span class="p">,</span> <span class="n">number</span> <span class="n">of</span> <span class="n">samples</span> <span class="p">[</span><span class="n">v5</span><span class="p">]</span>
<span class="n">IOPS</span> <span class="p">[</span><span class="n">v5</span><span class="p">]:</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">stdev</span><span class="p">,</span> <span class="n">number</span> <span class="n">of</span> <span class="n">samples</span>
</pre></div>
</div>
<p>WRITE status:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Total</span> <span class="n">IO</span> <span class="p">(</span><span class="n">KiB</span><span class="p">),</span> <span class="n">bandwidth</span> <span class="p">(</span><span class="n">KiB</span><span class="o">/</span><span class="n">sec</span><span class="p">),</span> <span class="n">IOPS</span><span class="p">,</span> <span class="n">runtime</span> <span class="p">(</span><span class="n">msec</span><span class="p">)</span>
<span class="n">Submission</span> <span class="n">latency</span><span class="p">:</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">stdev</span> <span class="p">(</span><span class="n">usec</span><span class="p">)</span>
<span class="n">Completion</span> <span class="n">latency</span><span class="p">:</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">stdev</span> <span class="p">(</span><span class="n">usec</span><span class="p">)</span>
<span class="n">Completion</span> <span class="n">latency</span> <span class="n">percentiles</span><span class="p">:</span> <span class="mi">20</span> <span class="n">fields</span> <span class="p">(</span><span class="n">see</span> <span class="n">below</span><span class="p">)</span>
<span class="n">Total</span> <span class="n">latency</span><span class="p">:</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">stdev</span> <span class="p">(</span><span class="n">usec</span><span class="p">)</span>
<span class="n">Bw</span> <span class="p">(</span><span class="n">KiB</span><span class="o">/</span><span class="n">s</span><span class="p">):</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">aggregate</span> <span class="n">percentage</span> <span class="n">of</span> <span class="n">total</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">stdev</span><span class="p">,</span> <span class="n">number</span> <span class="n">of</span> <span class="n">samples</span> <span class="p">[</span><span class="n">v5</span><span class="p">]</span>
<span class="n">IOPS</span> <span class="p">[</span><span class="n">v5</span><span class="p">]:</span> <span class="nb">min</span><span class="p">,</span> <span class="nb">max</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">stdev</span><span class="p">,</span> <span class="n">number</span> <span class="n">of</span> <span class="n">samples</span>
</pre></div>
</div>
<p>TRIM status [all but version 3]:</p>
<blockquote>
<div><p>Fields are similar to READ/WRITE status.</p>
</div></blockquote>
<p>CPU usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user</span><span class="p">,</span> <span class="n">system</span><span class="p">,</span> <span class="n">context</span> <span class="n">switches</span><span class="p">,</span> <span class="n">major</span> <span class="n">faults</span><span class="p">,</span> <span class="n">minor</span> <span class="n">faults</span>
</pre></div>
</div>
<p>I/O depths:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;=</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="o">&gt;=</span><span class="mi">64</span>
</pre></div>
</div>
<p>I/O latencies microseconds:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;=</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">750</span><span class="p">,</span> <span class="mi">1000</span>
</pre></div>
</div>
<p>I/O latencies milliseconds:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;=</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">750</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="o">&gt;=</span><span class="mi">2000</span>
</pre></div>
</div>
<p>Disk utilization [v3]:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">disk</span> <span class="n">name</span><span class="p">,</span> <span class="n">read</span> <span class="n">ios</span><span class="p">,</span> <span class="n">write</span> <span class="n">ios</span><span class="p">,</span> <span class="n">read</span> <span class="n">merges</span><span class="p">,</span> <span class="n">write</span> <span class="n">merges</span><span class="p">,</span> <span class="n">read</span> <span class="n">ticks</span><span class="p">,</span> <span class="n">write</span> <span class="n">ticks</span><span class="p">,</span>
<span class="n">time</span> <span class="n">spent</span> <span class="ow">in</span> <span class="n">queue</span><span class="p">,</span> <span class="n">disk</span> <span class="n">utilization</span> <span class="n">percentage</span>
</pre></div>
</div>
<p>Additional Info (dependent on continue_on_error, default off):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">total</span> <span class="c1"># errors, first error code</span>
</pre></div>
</div>
<p>Additional Info (dependent on description being set):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Text</span> <span class="n">description</span>
</pre></div>
</div>
</div></blockquote>
<p>Completion latency percentiles can be a grouping of up to 20 sets, so for the
terse output fio writes all of them. Each field will look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.00</span><span class="o">%=</span><span class="mi">6112</span>
</pre></div>
</div>
<p>which is the Xth percentile, and the <cite>usec</cite> latency associated with it.</p>
<p>For <cite>Disk utilization</cite>, all disks used by fio are shown. So for each disk there
will be a disk utilization section.</p>
<p>Below is a single line containing short names for each of the fields in the
minimal output v3, separated by semicolons:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">terse_version_3</span><span class="p">;</span><span class="n">fio_version</span><span class="p">;</span><span class="n">jobname</span><span class="p">;</span><span class="n">groupid</span><span class="p">;</span><span class="n">error</span><span class="p">;</span><span class="n">read_kb</span><span class="p">;</span><span class="n">read_bandwidth_kb</span><span class="p">;</span><span class="n">read_iops</span><span class="p">;</span><span class="n">read_runtime_ms</span><span class="p">;</span><span class="n">read_slat_min_us</span><span class="p">;</span><span class="n">read_slat_max_us</span><span class="p">;</span><span class="n">read_slat_mean_us</span><span class="p">;</span><span class="n">read_slat_dev_us</span><span class="p">;</span><span class="n">read_clat_min_us</span><span class="p">;</span><span class="n">read_clat_max_us</span><span class="p">;</span><span class="n">read_clat_mean_us</span><span class="p">;</span><span class="n">read_clat_dev_us</span><span class="p">;</span><span class="n">read_clat_pct01</span><span class="p">;</span><span class="n">read_clat_pct02</span><span class="p">;</span><span class="n">read_clat_pct03</span><span class="p">;</span><span class="n">read_clat_pct04</span><span class="p">;</span><span class="n">read_clat_pct05</span><span class="p">;</span><span class="n">read_clat_pct06</span><span class="p">;</span><span class="n">read_clat_pct07</span><span class="p">;</span><span class="n">read_clat_pct08</span><span class="p">;</span><span class="n">read_clat_pct09</span><span class="p">;</span><span class="n">read_clat_pct10</span><span class="p">;</span><span class="n">read_clat_pct11</span><span class="p">;</span><span class="n">read_clat_pct12</span><span class="p">;</span><span class="n">read_clat_pct13</span><span class="p">;</span><span class="n">read_clat_pct14</span><span class="p">;</span><span class="n">read_clat_pct15</span><span class="p">;</span><span class="n">read_clat_pct16</span><span class="p">;</span><span class="n">read_clat_pct17</span><span class="p">;</span><span class="n">read_clat_pct18</span><span class="p">;</span><span class="n">read_clat_pct19</span><span class="p">;</span><span class="n">read_clat_pct20</span><span class="p">;</span><span class="n">read_tlat_min_us</span><span class="p">;</span><span class="n">read_lat_max_us</span><span class="p">;</span><span class="n">read_lat_mean_us</span><span class="p">;</span><span class="n">read_lat_dev_us</span><span class="p">;</span><span class="n">read_bw_min_kb</span><span class="p">;</span><span class="n">read_bw_max_kb</span><span class="p">;</span><span class="n">read_bw_agg_pct</span><span class="p">;</span><span class="n">read_bw_mean_kb</span><span class="p">;</span><span class="n">read_bw_dev_kb</span><span class="p">;</span><span class="n">write_kb</span><span class="p">;</span><span class="n">write_bandwidth_kb</span><span class="p">;</span><span class="n">write_iops</span><span class="p">;</span><span class="n">write_runtime_ms</span><span class="p">;</span><span class="n">write_slat_min_us</span><span class="p">;</span><span class="n">write_slat_max_us</span><span class="p">;</span><span class="n">write_slat_mean_us</span><span class="p">;</span><span class="n">write_slat_dev_us</span><span class="p">;</span><span class="n">write_clat_min_us</span><span class="p">;</span><span class="n">write_clat_max_us</span><span class="p">;</span><span class="n">write_clat_mean_us</span><span class="p">;</span><span class="n">write_clat_dev_us</span><span class="p">;</span><span class="n">write_clat_pct01</span><span class="p">;</span><span class="n">write_clat_pct02</span><span class="p">;</span><span class="n">write_clat_pct03</span><span class="p">;</span><span class="n">write_clat_pct04</span><span class="p">;</span><span class="n">write_clat_pct05</span><span class="p">;</span><span class="n">write_clat_pct06</span><span class="p">;</span><span class="n">write_clat_pct07</span><span class="p">;</span><span class="n">write_clat_pct08</span><span class="p">;</span><span class="n">write_clat_pct09</span><span class="p">;</span><span class="n">write_clat_pct10</span><span class="p">;</span><span class="n">write_clat_pct11</span><span class="p">;</span><span class="n">write_clat_pct12</span><span class="p">;</span><span class="n">write_clat_pct13</span><span class="p">;</span><span class="n">write_clat_pct14</span><span class="p">;</span><span class="n">write_clat_pct15</span><span class="p">;</span><span class="n">write_clat_pct16</span><span class="p">;</span><span class="n">write_clat_pct17</span><span class="p">;</span><span class="n">write_clat_pct18</span><span class="p">;</span><span class="n">write_clat_pct19</span><span class="p">;</span><span class="n">write_clat_pct20</span><span class="p">;</span><span class="n">write_tlat_min_us</span><span class="p">;</span><span class="n">write_lat_max_us</span><span class="p">;</span><span class="n">write_lat_mean_us</span><span class="p">;</span><span class="n">write_lat_dev_us</span><span class="p">;</span><span class="n">write_bw_min_kb</span><span class="p">;</span><span class="n">write_bw_max_kb</span><span class="p">;</span><span class="n">write_bw_agg_pct</span><span class="p">;</span><span class="n">write_bw_mean_kb</span><span class="p">;</span><span class="n">write_bw_dev_kb</span><span class="p">;</span><span class="n">cpu_user</span><span class="p">;</span><span class="n">cpu_sys</span><span class="p">;</span><span class="n">cpu_csw</span><span class="p">;</span><span class="n">cpu_mjf</span><span class="p">;</span><span class="n">cpu_minf</span><span class="p">;</span><span class="n">iodepth_1</span><span class="p">;</span><span class="n">iodepth_2</span><span class="p">;</span><span class="n">iodepth_4</span><span class="p">;</span><span class="n">iodepth_8</span><span class="p">;</span><span class="n">iodepth_16</span><span class="p">;</span><span class="n">iodepth_32</span><span class="p">;</span><span class="n">iodepth_64</span><span class="p">;</span><span class="n">lat_2us</span><span class="p">;</span><span class="n">lat_4us</span><span class="p">;</span><span class="n">lat_10us</span><span class="p">;</span><span class="n">lat_20us</span><span class="p">;</span><span class="n">lat_50us</span><span class="p">;</span><span class="n">lat_100us</span><span class="p">;</span><span class="n">lat_250us</span><span class="p">;</span><span class="n">lat_500us</span><span class="p">;</span><span class="n">lat_750us</span><span class="p">;</span><span class="n">lat_1000us</span><span class="p">;</span><span class="n">lat_2ms</span><span class="p">;</span><span class="n">lat_4ms</span><span class="p">;</span><span class="n">lat_10ms</span><span class="p">;</span><span class="n">lat_20ms</span><span class="p">;</span><span class="n">lat_50ms</span><span class="p">;</span><span class="n">lat_100ms</span><span class="p">;</span><span class="n">lat_250ms</span><span class="p">;</span><span class="n">lat_500ms</span><span class="p">;</span><span class="n">lat_750ms</span><span class="p">;</span><span class="n">lat_1000ms</span><span class="p">;</span><span class="n">lat_2000ms</span><span class="p">;</span><span class="n">lat_over_2000ms</span><span class="p">;</span><span class="n">disk_name</span><span class="p">;</span><span class="n">disk_read_iops</span><span class="p">;</span><span class="n">disk_write_iops</span><span class="p">;</span><span class="n">disk_read_merges</span><span class="p">;</span><span class="n">disk_write_merges</span><span class="p">;</span><span class="n">disk_read_ticks</span><span class="p">;</span><span class="n">write_ticks</span><span class="p">;</span><span class="n">disk_queue_time</span><span class="p">;</span><span class="n">disk_util</span>
</pre></div>
</div>
<p>In client/server mode terse output differs from what appears when jobs are run
locally. Disk utilization data is omitted from the standard terse output and
for v3 and later appears on its own separate line at the end of each terse
reporting cycle.</p>
</section>
<section id="json-output">
<h2><span class="section-number">1.17. </span>JSON output<a class="headerlink" href="#json-output" title="Permalink to this heading">¶</a></h2>
<p>The <cite>json</cite> output format is intended to be both human readable and convenient
for automated parsing. For the most part its sections mirror those of the
<cite>normal</cite> output. The <cite>runtime</cite> value is reported in msec and the <cite>bw</cite> value is
reported in 1024 bytes per second units.</p>
</section>
<section id="id1">
<h2><span class="section-number">1.18. </span>JSON+ output<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<p>The <cite>json+</cite> output format is identical to the <cite>json</cite> output format except that it
adds a full dump of the completion latency bins. Each <cite>bins</cite> object contains a
set of (key, value) pairs where keys are latency durations and values count how
many I/Os had completion latencies of the corresponding duration. For example,
consider:</p>
<blockquote>
<div><p>“bins” : { “87552” : 1, “89600” : 1, “94720” : 1, “96768” : 1, “97792” : 1, “99840” : 1, “100864” : 2, “103936” : 6, “104960” : 534, “105984” : 5995, “107008” : 7529, … }</p>
</div></blockquote>
<p>This data indicates that one I/O required 87,552ns to complete, two I/Os required
100,864ns to complete, and 7529 I/Os required 107,008ns to complete.</p>
<p>Also included with fio is a Python script <cite>fio_jsonplus_clat2csv</cite> that takes
json+ output and generates CSV-formatted latency data suitable for plotting.</p>
<p>The latency durations actually represent the midpoints of latency intervals.
For details refer to <code class="file docutils literal notranslate"><span class="pre">stat.h</span></code>.</p>
</section>
<section id="trace-file-format">
<h2><span class="section-number">1.19. </span>Trace file format<a class="headerlink" href="#trace-file-format" title="Permalink to this heading">¶</a></h2>
<p>There are two trace file format that you can encounter. The older (v1) format is
unsupported since version 1.20-rc3 (March 2008). It will still be described
below in case that you get an old trace and want to understand it.</p>
<p>In any case the trace is a simple text file with a single action per line.</p>
<section id="trace-file-format-v1">
<h3><span class="section-number">1.19.1. </span>Trace file format v1<a class="headerlink" href="#trace-file-format-v1" title="Permalink to this heading">¶</a></h3>
<p>Each line represents a single I/O action in the following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rw</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">length</span>
</pre></div>
</div>
<p>where <cite>rw=0/1</cite> for read/write, and the <cite>offset</cite> and <cite>length</cite> entries being in bytes.</p>
<p>This format is not supported in fio versions &gt;= 1.20-rc3.</p>
</section>
<section id="trace-file-format-v2">
<h3><span class="section-number">1.19.2. </span>Trace file format v2<a class="headerlink" href="#trace-file-format-v2" title="Permalink to this heading">¶</a></h3>
<p>The second version of the trace file format was added in fio version 1.17.  It
allows one to access more than one file per trace and has a bigger set of possible
file actions.</p>
<p>The first line of the trace file has to be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fio</span> <span class="n">version</span> <span class="mi">2</span> <span class="n">iolog</span>
</pre></div>
</div>
<p>Following this can be lines in two different formats, which are described below.</p>
<p>The file management format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">filename</span> <span class="n">action</span>
</pre></div>
</div>
<p>The <cite>filename</cite> is given as an absolute path. The <cite>action</cite> can be one of these:</p>
<dl class="simple">
<dt><strong>add</strong></dt><dd><p>Add the given <cite>filename</cite> to the trace.</p>
</dd>
<dt><strong>open</strong></dt><dd><p>Open the file with the given <cite>filename</cite>. The <cite>filename</cite> has to have
been added with the <strong>add</strong> action before.</p>
</dd>
<dt><strong>close</strong></dt><dd><p>Close the file with the given <cite>filename</cite>. The file has to have been
opened before.</p>
</dd>
</dl>
<p>The file I/O action format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">filename</span> <span class="n">action</span> <span class="n">offset</span> <span class="n">length</span>
</pre></div>
</div>
<p>The <cite>filename</cite> is given as an absolute path, and has to have been added and
opened before it can be used with this format. The <cite>offset</cite> and <cite>length</cite> are
given in bytes. The <cite>action</cite> can be one of these:</p>
<dl class="simple">
<dt><strong>wait</strong></dt><dd><p>Wait for <cite>offset</cite> microseconds. Everything below 100 is discarded.
The time is relative to the previous <cite>wait</cite> statement. Note that
action <cite>wait</cite> is not allowed as of version 3, as the same behavior
can be achieved using timestamps.</p>
</dd>
<dt><strong>read</strong></dt><dd><p>Read <cite>length</cite> bytes beginning from <cite>offset</cite>.</p>
</dd>
<dt><strong>write</strong></dt><dd><p>Write <cite>length</cite> bytes beginning from <cite>offset</cite>.</p>
</dd>
<dt><strong>sync</strong></dt><dd><p><em class="manpage">fsync(2)</em> the file.</p>
</dd>
<dt><strong>datasync</strong></dt><dd><p><em class="manpage">fdatasync(2)</em> the file.</p>
</dd>
<dt><strong>trim</strong></dt><dd><p>Trim the given file from the given <cite>offset</cite> for <cite>length</cite> bytes.</p>
</dd>
</dl>
</section>
<section id="trace-file-format-v3">
<h3><span class="section-number">1.19.3. </span>Trace file format v3<a class="headerlink" href="#trace-file-format-v3" title="Permalink to this heading">¶</a></h3>
<p>The third version of the trace file format was added in fio version 3.31. It
forces each action to have a timestamp associated with it.</p>
<p>The first line of the trace file has to be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fio</span> <span class="n">version</span> <span class="mi">3</span> <span class="n">iolog</span>
</pre></div>
</div>
<p>Following this can be lines in two different formats, which are described below.</p>
<p>The file management format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">timestamp</span> <span class="n">filename</span> <span class="n">action</span>
</pre></div>
</div>
<p>The file I/O action format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">timestamp</span> <span class="n">filename</span> <span class="n">action</span> <span class="n">offset</span> <span class="n">length</span>
</pre></div>
</div>
<p>The <cite>timestamp</cite> is relative to the beginning of the run (ie starts at 0). The
<cite>filename</cite>, <cite>action</cite>, <cite>offset</cite> and <cite>length</cite>  are identical to version 2, except
that version 3 does not allow the <cite>wait</cite> action.</p>
</section>
</section>
<section id="i-o-replay-merging-traces">
<h2><span class="section-number">1.20. </span>I/O Replay - Merging Traces<a class="headerlink" href="#i-o-replay-merging-traces" title="Permalink to this heading">¶</a></h2>
<p>Colocation is a common practice used to get the most out of a machine.
Knowing which workloads play nicely with each other and which ones don’t is
a much harder task. While fio can replay workloads concurrently via multiple
jobs, it leaves some variability up to the scheduler making results harder to
reproduce. Merging is a way to make the order of events consistent.</p>
<p>Merging is integrated into I/O replay and done when a
<a class="reference internal" href="#cmdoption-arg-merge_blktrace_file"><code class="xref std std-option docutils literal notranslate"><span class="pre">merge_blktrace_file</span></code></a> is specified. The list of files passed to
<a class="reference internal" href="#cmdoption-arg-read_iolog"><code class="xref std std-option docutils literal notranslate"><span class="pre">read_iolog</span></code></a> go through the merge process and output a single file
stored to the specified file. The output file is passed on as if it were the
only file passed to <a class="reference internal" href="#cmdoption-arg-read_iolog"><code class="xref std std-option docutils literal notranslate"><span class="pre">read_iolog</span></code></a>. An example would look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ fio --read_iolog=&quot;&lt;file1&gt;:&lt;file2&gt;&quot; --merge_blktrace_file=&quot;&lt;output_file&gt;&quot;
</pre></div>
</div>
<p>Creating only the merged file can be done by passing the command line argument
<a class="reference internal" href="#cmdoption-merge-blktrace-only"><code class="xref std std-option docutils literal notranslate"><span class="pre">--merge-blktrace-only</span></code></a>.</p>
<p>Scaling traces can be done to see the relative impact of any particular trace
being slowed down or sped up. <a class="reference internal" href="#cmdoption-arg-merge_blktrace_scalars"><code class="xref std std-option docutils literal notranslate"><span class="pre">merge_blktrace_scalars</span></code></a> takes in a colon
separated list of percentage scalars. It is index paired with the files passed
to <a class="reference internal" href="#cmdoption-arg-read_iolog"><code class="xref std std-option docutils literal notranslate"><span class="pre">read_iolog</span></code></a>.</p>
<p>With scaling, it may be desirable to match the running time of all traces.
This can be done with <a class="reference internal" href="#cmdoption-arg-merge_blktrace_iters"><code class="xref std std-option docutils literal notranslate"><span class="pre">merge_blktrace_iters</span></code></a>. It is index paired with
<a class="reference internal" href="#cmdoption-arg-read_iolog"><code class="xref std std-option docutils literal notranslate"><span class="pre">read_iolog</span></code></a> just like <a class="reference internal" href="#cmdoption-arg-merge_blktrace_scalars"><code class="xref std std-option docutils literal notranslate"><span class="pre">merge_blktrace_scalars</span></code></a>.</p>
<p>In an example, given two traces, A and B, each 60s long. If we want to see
the impact of trace A issuing IOs twice as fast and repeat trace A over the
runtime of trace B, the following can be done:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ fio --read_iolog=&quot;&lt;trace_a&gt;:&quot;&lt;trace_b&gt;&quot; --merge_blktrace_file&quot;&lt;output_file&gt;&quot; --merge_blktrace_scalars=&quot;50:100&quot; --merge_blktrace_iters=&quot;2:1&quot;
</pre></div>
</div>
<p>This runs trace A at 2x the speed twice for approximately the same runtime as
a single run of trace B.</p>
</section>
<section id="cpu-idleness-profiling">
<h2><span class="section-number">1.21. </span>CPU idleness profiling<a class="headerlink" href="#cpu-idleness-profiling" title="Permalink to this heading">¶</a></h2>
<p>In some cases, we want to understand CPU overhead in a test. For example, we
test patches for the specific goodness of whether they reduce CPU usage.
Fio implements a balloon approach to create a thread per CPU that runs at idle
priority, meaning that it only runs when nobody else needs the cpu.
By measuring the amount of work completed by the thread, idleness of each CPU
can be derived accordingly.</p>
<p>An unit work is defined as touching a full page of unsigned characters. Mean and
standard deviation of time to complete an unit work is reported in “unit work”
section. Options can be chosen to report detailed percpu idleness or overall
system idleness by aggregating percpu stats.</p>
</section>
<section id="verification-and-triggers">
<h2><span class="section-number">1.22. </span>Verification and triggers<a class="headerlink" href="#verification-and-triggers" title="Permalink to this heading">¶</a></h2>
<p>Fio is usually run in one of two ways, when data verification is done. The first
is a normal write job of some sort with verify enabled. When the write phase has
completed, fio switches to reads and verifies everything it wrote. The second
model is running just the write phase, and then later on running the same job
(but with reads instead of writes) to repeat the same I/O patterns and verify
the contents. Both of these methods depend on the write phase being completed,
as fio otherwise has no idea how much data was written.</p>
<p>With verification triggers, fio supports dumping the current write state to
local files. Then a subsequent read verify workload can load this state and know
exactly where to stop. This is useful for testing cases where power is cut to a
server in a managed fashion, for instance.</p>
<p>A verification trigger consists of two things:</p>
<ol class="arabic simple">
<li><p>Storing the write state of each job.</p></li>
<li><p>Executing a trigger command.</p></li>
</ol>
<p>The write state is relatively small, on the order of hundreds of bytes to single
kilobytes. It contains information on the number of completions done, the last X
completions, etc.</p>
<p>A trigger is invoked either through creation (‘touch’) of a specified file in
the system, or through a timeout setting. If fio is run with
<a class="reference internal" href="#cmdoption-trigger-file"><code class="xref std std-option docutils literal notranslate"><span class="pre">--trigger-file</span></code></a>= <code class="file docutils literal notranslate"><span class="pre">/tmp/trigger-file</span></code>, then it will continually
check for the existence of <code class="file docutils literal notranslate"><span class="pre">/tmp/trigger-file</span></code>. When it sees this file, it
will fire off the trigger (thus saving state, and executing the trigger
command).</p>
<p>For client/server runs, there’s both a local and remote trigger. If fio is
running as a server backend, it will send the job states back to the client for
safe storage, then execute the remote trigger, if specified. If a local trigger
is specified, the server will still send back the write state, but the client
will then execute the trigger.</p>
<section id="verification-trigger-example">
<h3><span class="section-number">1.22.1. </span>Verification trigger example<a class="headerlink" href="#verification-trigger-example" title="Permalink to this heading">¶</a></h3>
<p>Let’s say we want to run a powercut test on the remote Linux machine ‘server’.
Our write workload is in <code class="file docutils literal notranslate"><span class="pre">write-test.fio</span></code>. We want to cut power to ‘server’ at
some point during the run, and we’ll run this test from the safety or our local
machine, ‘localbox’. On the server, we’ll start the fio backend normally:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">server</span><span class="c1"># fio --server</span>
</pre></div>
</div>
<p>and on the client, we’ll fire off the workload:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>localbox$ fio --client=server --trigger-file=/tmp/my-trigger --trigger-remote=&quot;bash -c \&quot;echo b &gt; /proc/sysrq-triger\&quot;&quot;
</pre></div>
</div>
<p>We set <code class="file docutils literal notranslate"><span class="pre">/tmp/my-trigger</span></code> as the trigger file, and we tell fio to execute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="n">b</span> <span class="o">&gt;</span> <span class="o">/</span><span class="n">proc</span><span class="o">/</span><span class="n">sysrq</span><span class="o">-</span><span class="n">trigger</span>
</pre></div>
</div>
<p>on the server once it has received the trigger and sent us the write state. This
will work, but it’s not <strong>really</strong> cutting power to the server, it’s merely
abruptly rebooting it. If we have a remote way of cutting power to the server
through IPMI or similar, we could do that through a local trigger command
instead. Let’s assume we have a script that does IPMI reboot of a given hostname,
ipmi-reboot. On localbox, we could then have run fio with a local trigger
instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>localbox$ fio --client=server --trigger-file=/tmp/my-trigger --trigger=&quot;ipmi-reboot server&quot;
</pre></div>
</div>
<p>For this case, fio would wait for the server to send us the write state, then
execute <code class="docutils literal notranslate"><span class="pre">ipmi-reboot</span> <span class="pre">server</span></code> when that happened.</p>
</section>
<section id="loading-verify-state">
<h3><span class="section-number">1.22.2. </span>Loading verify state<a class="headerlink" href="#loading-verify-state" title="Permalink to this heading">¶</a></h3>
<p>To load stored write state, a read verification job file must contain the
<a class="reference internal" href="#cmdoption-arg-verify_state_load"><code class="xref std std-option docutils literal notranslate"><span class="pre">verify_state_load</span></code></a> option. If that is set, fio will load the previously
stored state. For a local fio run this is done by loading the files directly,
and on a client/server run, the server backend will ask the client to send the
files over and load them from there.</p>
</section>
</section>
<section id="log-file-formats">
<h2><span class="section-number">1.23. </span>Log File Formats<a class="headerlink" href="#log-file-formats" title="Permalink to this heading">¶</a></h2>
<p>Fio supports a variety of log file formats, for logging latencies, bandwidth,
and IOPS. The logs share a common format, which looks like this:</p>
<blockquote>
<div><p><em>time</em> (<cite>msec</cite>), <em>value</em>, <em>data direction</em>, <em>block size</em> (<cite>bytes</cite>),
<em>offset</em> (<cite>bytes</cite>), <em>command priority</em></p>
</div></blockquote>
<p><em>Time</em> for the log entry is always in milliseconds. The <em>value</em> logged depends
on the type of log, it will be one of the following:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>Latency log</strong></dt><dd><p>Value is latency in nsecs</p>
</dd>
<dt><strong>Bandwidth log</strong></dt><dd><p>Value is in KiB/sec</p>
</dd>
<dt><strong>IOPS log</strong></dt><dd><p>Value is IOPS</p>
</dd>
</dl>
</div></blockquote>
<p><em>Data direction</em> is one of the following:</p>
<blockquote>
<div><dl class="simple">
<dt><strong>0</strong></dt><dd><p>I/O is a READ</p>
</dd>
<dt><strong>1</strong></dt><dd><p>I/O is a WRITE</p>
</dd>
<dt><strong>2</strong></dt><dd><p>I/O is a TRIM</p>
</dd>
</dl>
</div></blockquote>
<p>The entry’s <em>block size</em> is always in bytes. The <em>offset</em> is the position in bytes
from the start of the file for that particular I/O. The logging of the offset can be
toggled with <a class="reference internal" href="#cmdoption-arg-log_offset"><code class="xref std std-option docutils literal notranslate"><span class="pre">log_offset</span></code></a>.</p>
<p><em>Command priority</em> is 0 for normal priority and 1 for high priority. This is controlled
by the ioengine specific <a class="reference internal" href="#cmdoption-arg-cmdprio_percentage"><code class="xref std std-option docutils literal notranslate"><span class="pre">cmdprio_percentage</span></code></a>.</p>
<p>Fio defaults to logging every individual I/O but when windowed logging is set
through <a class="reference internal" href="#cmdoption-arg-log_avg_msec"><code class="xref std std-option docutils literal notranslate"><span class="pre">log_avg_msec</span></code></a>, either the average (by default) or the maximum
(<a class="reference internal" href="#cmdoption-arg-log_max_value"><code class="xref std std-option docutils literal notranslate"><span class="pre">log_max_value</span></code></a> is set) <em>value</em> seen over the specified period of time
is recorded. Each <em>data direction</em> seen within the window period will aggregate
its values in a separate row. Further, when using windowed logging the <em>block
size</em> and <em>offset</em> entries will always contain 0.</p>
</section>
<section id="client-server">
<h2><span class="section-number">1.24. </span>Client/Server<a class="headerlink" href="#client-server" title="Permalink to this heading">¶</a></h2>
<p>Normally fio is invoked as a stand-alone application on the machine where the
I/O workload should be generated. However, the backend and frontend of fio can
be run separately i.e., the fio server can generate an I/O workload on the “Device
Under Test” while being controlled by a client on another machine.</p>
<p>Start the server on the machine which has access to the storage DUT:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ fio --server=args
</pre></div>
</div>
<p>where <cite>args</cite> defines what fio listens to. The arguments are of the form
<code class="docutils literal notranslate"><span class="pre">type,hostname</span></code> or <code class="docutils literal notranslate"><span class="pre">IP,port</span></code>. <em>type</em> is either <code class="docutils literal notranslate"><span class="pre">ip</span></code> (or ip4) for TCP/IP
v4, <code class="docutils literal notranslate"><span class="pre">ip6</span></code> for TCP/IP v6, or <code class="docutils literal notranslate"><span class="pre">sock</span></code> for a local unix domain socket.
<em>hostname</em> is either a hostname or IP address, and <em>port</em> is the port to listen
to (only valid for TCP/IP, not a local socket). Some examples:</p>
<ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">fio</span> <span class="pre">--server</span></code></p>
<p>Start a fio server, listening on all interfaces on the default port (8765).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">fio</span> <span class="pre">--server=ip:hostname,4444</span></code></p>
<p>Start a fio server, listening on IP belonging to hostname and on port 4444.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">fio</span> <span class="pre">--server=ip6:::1,4444</span></code></p>
<p>Start a fio server, listening on IPv6 localhost ::1 and on port 4444.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">fio</span> <span class="pre">--server=,4444</span></code></p>
<p>Start a fio server, listening on all interfaces on port 4444.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">fio</span> <span class="pre">--server=1.2.3.4</span></code></p>
<p>Start a fio server, listening on IP 1.2.3.4 on the default port.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">fio</span> <span class="pre">--server=sock:/tmp/fio.sock</span></code></p>
<p>Start a fio server, listening on the local socket <code class="file docutils literal notranslate"><span class="pre">/tmp/fio.sock</span></code>.</p>
</li>
</ol>
<p>Once a server is running, a “client” can connect to the fio server with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fio</span> <span class="o">&lt;</span><span class="n">local</span><span class="o">-</span><span class="n">args</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">client</span><span class="o">=&lt;</span><span class="n">server</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">remote</span><span class="o">-</span><span class="n">args</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">job</span> <span class="n">file</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>where <cite>local-args</cite> are arguments for the client where it is running, <cite>server</cite>
is the connect string, and <cite>remote-args</cite> and <cite>job file(s)</cite> are sent to the
server. The <cite>server</cite> string follows the same format as it does on the server
side, to allow IP/hostname/socket and port strings.</p>
<p>Note that all job options must be defined in job files when running fio as a
client. Any job options specified in <cite>remote-args</cite> will be ignored.</p>
<p>Fio can connect to multiple servers this way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fio</span> <span class="o">--</span><span class="n">client</span><span class="o">=&lt;</span><span class="n">server1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">job</span> <span class="n">file</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">client</span><span class="o">=&lt;</span><span class="n">server2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">job</span> <span class="n">file</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>If the job file is located on the fio server, then you can tell the server to
load a local file as well. This is done by using <a class="reference internal" href="#cmdoption-remote-config"><code class="xref std std-option docutils literal notranslate"><span class="pre">--remote-config</span></code></a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fio</span> <span class="o">--</span><span class="n">client</span><span class="o">=</span><span class="n">server</span> <span class="o">--</span><span class="n">remote</span><span class="o">-</span><span class="n">config</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">file</span><span class="o">.</span><span class="n">fio</span>
</pre></div>
</div>
<p>Then fio will open this local (to the server) job file instead of being passed
one from the client.</p>
<p>If you have many servers (example: 100 VMs/containers), you can input a pathname
of a file containing host IPs/names as the parameter value for the
<a class="reference internal" href="#cmdoption-client"><code class="xref std std-option docutils literal notranslate"><span class="pre">--client</span></code></a> option.  For example, here is an example <code class="file docutils literal notranslate"><span class="pre">host.list</span></code>
file containing 2 hostnames:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">host1</span><span class="o">.</span><span class="n">your</span><span class="o">.</span><span class="n">dns</span><span class="o">.</span><span class="n">domain</span>
<span class="n">host2</span><span class="o">.</span><span class="n">your</span><span class="o">.</span><span class="n">dns</span><span class="o">.</span><span class="n">domain</span>
</pre></div>
</div>
<p>The fio command would then be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fio</span> <span class="o">--</span><span class="n">client</span><span class="o">=</span><span class="n">host</span><span class="o">.</span><span class="n">list</span> <span class="o">&lt;</span><span class="n">job</span> <span class="n">file</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>In this mode, you cannot input server-specific parameters or job files – all
servers receive the same job file.</p>
<p>In order to let <code class="docutils literal notranslate"><span class="pre">fio</span> <span class="pre">--client</span></code> runs use a shared filesystem from multiple
hosts, <code class="docutils literal notranslate"><span class="pre">fio</span> <span class="pre">--client</span></code> now prepends the IP address of the server to the
filename.  For example, if fio is using the directory <code class="file docutils literal notranslate"><span class="pre">/mnt/nfs/fio</span></code> and is
writing filename <code class="file docutils literal notranslate"><span class="pre">fileio.tmp</span></code>, with a <a class="reference internal" href="#cmdoption-client"><code class="xref std std-option docutils literal notranslate"><span class="pre">--client</span></code></a> <cite>hostfile</cite>
containing two hostnames <code class="docutils literal notranslate"><span class="pre">h1</span></code> and <code class="docutils literal notranslate"><span class="pre">h2</span></code> with IP addresses 192.168.10.120 and
192.168.10.121, then fio will create two files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">nfs</span><span class="o">/</span><span class="n">fio</span><span class="o">/</span><span class="mf">192.168.10.120</span><span class="o">.</span><span class="n">fileio</span><span class="o">.</span><span class="n">tmp</span>
<span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">nfs</span><span class="o">/</span><span class="n">fio</span><span class="o">/</span><span class="mf">192.168.10.121</span><span class="o">.</span><span class="n">fileio</span><span class="o">.</span><span class="n">tmp</span>
</pre></div>
</div>
<p>Terse output in client/server mode will differ slightly from what is produced
when fio is run in stand-alone mode. See the terse output section for details.</p>
</section>
</section>
<section id="examples">
<h1><span class="section-number">2. </span>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h1>
<p>Some job file examples.</p>
<section id="poisson-request-flow">
<h2><span class="section-number">2.1. </span>Poisson request flow<a class="headerlink" href="#poisson-request-flow" title="Permalink to this heading">¶</a></h2>
<p><a class="reference download internal" download="" href="_downloads/439f83d23f49ceb5adafa5872d39ea2a/poisson-rate-submission.fio"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">poisson-rate-submission.fio</span></code></a></p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[poisson-rate-submit]</span>
<span class="na">size</span><span class="o">=</span><span class="s">128m</span>
<span class="na">rw</span><span class="o">=</span><span class="s">randread</span>
<span class="na">ioengine</span><span class="o">=</span><span class="s">libaio</span>
<span class="na">iodepth</span><span class="o">=</span><span class="s">32</span>
<span class="na">direct</span><span class="o">=</span><span class="s">1</span>
<span class="c1"># by setting the submit mode to offload, we can guarantee a fixed rate of</span>
<span class="c1"># submission regardless of what the device completion rate is.</span>
<span class="na">io_submit_mode</span><span class="o">=</span><span class="s">offload</span>
<span class="na">rate_iops</span><span class="o">=</span><span class="s">50</span>
<span class="c1"># Real world random request flow follows Poisson process. To give better</span>
<span class="c1"># insight on latency distribution, we simulate request flow under Poisson</span>
<span class="c1"># process.</span>
<span class="na">rate_process</span><span class="o">=</span><span class="s">poisson</span>
</pre></div>
</div>
</section>
<section id="latency-profile">
<h2><span class="section-number">2.2. </span>Latency profile<a class="headerlink" href="#latency-profile" title="Permalink to this heading">¶</a></h2>
<p><a class="reference download internal" download="" href="_downloads/de48598605a7ee3991360613ed6186b5/latency-profile.fio"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">latency-profile.fio</span></code></a></p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># Test job that demonstrates how to use the latency target</span>
<span class="c1"># profiling. Fio will find the queue depth between 1..128</span>
<span class="c1"># that fits within the latency constraints of this 4k random</span>
<span class="c1"># read workload.</span>

<span class="k">[global]</span>
<span class="na">bs</span><span class="o">=</span><span class="s">4k</span>
<span class="na">rw</span><span class="o">=</span><span class="s">randread</span>
<span class="na">random_generator</span><span class="o">=</span><span class="s">lfsr</span>
<span class="na">direct</span><span class="o">=</span><span class="s">1</span>
<span class="na">ioengine</span><span class="o">=</span><span class="s">libaio</span>
<span class="na">iodepth</span><span class="o">=</span><span class="s">128</span>
<span class="c1"># Set max acceptable latency to 500msec</span>
<span class="na">latency_target</span><span class="o">=</span><span class="s">500000</span>
<span class="c1"># profile over a 5s window</span>
<span class="na">latency_window</span><span class="o">=</span><span class="s">5000000</span>
<span class="c1"># 99.9% of IOs must be below the target</span>
<span class="na">latency_percentile</span><span class="o">=</span><span class="s">99.9</span>

<span class="k">[device]</span>
<span class="na">filename</span><span class="o">=</span><span class="s">/dev/sda</span>
</pre></div>
</div>
</section>
<section id="read-4-files-with-aio-at-different-depths">
<h2><span class="section-number">2.3. </span>Read 4 files with aio at different depths<a class="headerlink" href="#read-4-files-with-aio-at-different-depths" title="Permalink to this heading">¶</a></h2>
<p><a class="reference download internal" download="" href="_downloads/19dc6835f6707c4dd7b3c4dc8b89eb95/aio-read.fio"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">aio-read.fio</span></code></a></p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">; Read 4 files with aio at different depths</span>
<span class="k">[global]</span>
<span class="na">ioengine</span><span class="o">=</span><span class="s">libaio</span>
<span class="na">buffered</span><span class="o">=</span><span class="s">0</span>
<span class="na">rw</span><span class="o">=</span><span class="s">randread</span>
<span class="na">bs</span><span class="o">=</span><span class="s">128k</span>
<span class="na">size</span><span class="o">=</span><span class="s">512m</span>
<span class="na">directory</span><span class="o">=</span><span class="s">/data1</span>

<span class="k">[file1]</span>
<span class="na">iodepth</span><span class="o">=</span><span class="s">4</span>

<span class="k">[file2]</span>
<span class="na">iodepth</span><span class="o">=</span><span class="s">32</span>

<span class="k">[file3]</span>
<span class="na">iodepth</span><span class="o">=</span><span class="s">8</span>

<span class="k">[file4]</span>
<span class="na">iodepth</span><span class="o">=</span><span class="s">16</span>
</pre></div>
</div>
</section>
<section id="read-backwards-in-a-file">
<h2><span class="section-number">2.4. </span>Read backwards in a file<a class="headerlink" href="#read-backwards-in-a-file" title="Permalink to this heading">¶</a></h2>
<p><a class="reference download internal" download="" href="_downloads/98b2a8d78a55f2ae5f4e8992bb4d578a/backwards-read.fio"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">backwards-read.fio</span></code></a></p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># Demonstrates how to read backwards in a file.</span>

<span class="k">[backwards-read]</span>
<span class="na">bs</span><span class="o">=</span><span class="s">4k</span>
<span class="c1"># seek -8k back for every IO</span>
<span class="na">rw</span><span class="o">=</span><span class="s">read:-8k</span>
<span class="na">filename</span><span class="o">=</span><span class="s">128m</span>
<span class="na">size</span><span class="o">=</span><span class="s">128m</span>
</pre></div>
</div>
</section>
<section id="basic-verification">
<h2><span class="section-number">2.5. </span>Basic verification<a class="headerlink" href="#basic-verification" title="Permalink to this heading">¶</a></h2>
<p><a class="reference download internal" download="" href="_downloads/006b77f14b46ef15bc9a5f42704fe1aa/basic-verify.fio"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">basic-verify.fio</span></code></a></p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># The most basic form of data verification. Write the device randomly</span>
<span class="c1"># in 4K chunks, then read it back and verify the contents.</span>
<span class="k">[write-and-verify]</span>
<span class="na">rw</span><span class="o">=</span><span class="s">randwrite</span>
<span class="na">bs</span><span class="o">=</span><span class="s">4k</span>
<span class="na">direct</span><span class="o">=</span><span class="s">1</span>
<span class="na">ioengine</span><span class="o">=</span><span class="s">libaio</span>
<span class="na">iodepth</span><span class="o">=</span><span class="s">16</span>
<span class="na">verify</span><span class="o">=</span><span class="s">crc32c</span>
<span class="c1"># Use /dev/XXX. For running this on a file instead, remove the filename</span>
<span class="c1"># option and add a size=32G (or whatever file size you want) instead.</span>
<span class="na">filename</span><span class="o">=</span><span class="s">/dev/XXX</span>
</pre></div>
</div>
</section>
<section id="fixed-rate-submission">
<h2><span class="section-number">2.6. </span>Fixed rate submission<a class="headerlink" href="#fixed-rate-submission" title="Permalink to this heading">¶</a></h2>
<p><a class="reference download internal" download="" href="_downloads/4d947ca76b14d0424613743be69bd355/fixed-rate-submission.fio"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">fixed-rate-submission.fio</span></code></a></p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[fixed-rate-submit]</span>
<span class="na">size</span><span class="o">=</span><span class="s">128m</span>
<span class="na">rw</span><span class="o">=</span><span class="s">read</span>
<span class="na">ioengine</span><span class="o">=</span><span class="s">libaio</span>
<span class="na">iodepth</span><span class="o">=</span><span class="s">32</span>
<span class="na">direct</span><span class="o">=</span><span class="s">1</span>
<span class="c1"># by setting the submit mode to offload, we can guarantee a fixed rate of</span>
<span class="c1"># submission regardless of what the device completion rate is.</span>
<span class="na">io_submit_mode</span><span class="o">=</span><span class="s">offload</span>
<span class="na">rate_iops</span><span class="o">=</span><span class="s">1000</span>
</pre></div>
</div>
</section>
<section id="butterfly-seek-pattern">
<h2><span class="section-number">2.7. </span>Butterfly seek pattern<a class="headerlink" href="#butterfly-seek-pattern" title="Permalink to this heading">¶</a></h2>
<p><a class="reference download internal" download="" href="_downloads/1790a387937ae2430a7126a31b224447/butterfly.fio"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">butterfly.fio</span></code></a></p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># Perform a butterfly/funnel seek pattern. This won&#39;t always alternate ends on</span>
<span class="c1"># every I/O but it will get close.</span>

<span class="k">[global]</span>
<span class="na">filename</span><span class="o">=</span><span class="s">/tmp/testfile</span>
<span class="na">bs</span><span class="o">=</span><span class="s">4k</span>
<span class="na">direct</span><span class="o">=</span><span class="s">1</span>

<span class="k">[forward]</span>
<span class="na">rw</span><span class="o">=</span><span class="s">read</span>
<span class="na">flow</span><span class="o">=</span><span class="s">2</span>
<span class="c1"># Uncomment the size= and offset= lines to prevent each direction going past</span>
<span class="c1"># the middle of the file</span>
<span class="c1">#size=50%</span>

<span class="k">[backward]</span>
<span class="na">rw</span><span class="o">=</span><span class="s">read:-8k</span>
<span class="na">flow</span><span class="o">=</span><span class="s">2</span>
<span class="c1">#offset=50%</span>
</pre></div>
</div>
</section>
</section>
<section id="todo">
<h1><span class="section-number">3. </span>TODO<a class="headerlink" href="#todo" title="Permalink to this heading">¶</a></h1>
<section id="gfio-todo">
<h2><span class="section-number">3.1. </span>GFIO TODO<a class="headerlink" href="#gfio-todo" title="Permalink to this heading">¶</a></h2>
<p>In no particular order:</p>
<ul>
<li><p>Ability to save job files. Probably in an extended gfio format,
so we can include options/settings outside of a fio job file.</p></li>
<li><p>End view improvements:</p>
<blockquote>
<div><ul class="simple">
<li><p>Cleanup the layout</p></li>
<li><p>Add ability to save the results</p></li>
<li><p>Add ability to load end-results as well</p></li>
<li><p>Add ability to request graphs of whatever graphing options
the fio job included.</p></li>
<li><p>Add ability to graph completion latencies, percentiles, etc.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Add ability to edit job options:</p>
<blockquote>
<div><ul class="simple">
<li><p>We need an options view after sending a job, that allows us to
visually see what was parsed, make changes, resubmit.</p></li>
<li><p>Job options are already converted across the network and
are available in gfio_client-&gt;o for view/edit. We’ll need
a FIO_NET_CMD_UPDATE_OPTIONS command to send them back,
and backend support for updating an existing set of options.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Add support for printing end results, graphs, etc.</p></li>
<li><p>Improve the auto-start backend functionality, it’s quite buggy.</p></li>
<li><p>Ensure that it works on OSX and Windows. We’ll need a bit of porting
work there.</p></li>
<li><p>Persistent store of prefences set. This will need a per-OS bit as well,
using gfonf on Linux, registry on Windows, ?? on OSX.</p></li>
<li><p>Ensure that local errors go to our log, instead of being displayed on
the console.</p></li>
<li><p>Ensure that the whole connect/send/start button logic is sane. Right
now it works when you perform the right sequence, but if you connect
and disconnect, things can get confused. We’ll need to improve how
we store and send job files. Right now they are in ge-&gt;job_files[]
and are always emptied on send. Keep them around?</p></li>
<li><p>Commit rate display is not enabled.</p></li>
<li><p>Group status reporting is not enabled.</p></li>
<li><p>Split gfio.c a bit. Add gfio/ sub directory, and split it into
files based on functionality. It’s already ~3000 lines long.</p></li>
<li><p>Attempt to ensure that we work with gtk 2.10 and newer. Right
now the required version is ~2.18 (not quite known).</p></li>
</ul>
</section>
<section id="server-todo">
<h2><span class="section-number">3.2. </span>Server TODO<a class="headerlink" href="#server-todo" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Collate ETA output from multiple connections into 1</p></li>
<li><p>If group_reporting is set, collate final output from multiple connections</p></li>
</ul>
</section>
<section id="steady-state-todo">
<h2><span class="section-number">3.3. </span>Steady State TODO<a class="headerlink" href="#steady-state-todo" title="Permalink to this heading">¶</a></h2>
<p>Known issues/TODO (for steady-state)</p>
<ul class="simple">
<li><p>Replace the test script with a better one
- Add test cases for the new check_interval option
- Parse debug=steadystate output to check calculations</p></li>
<li><p>Instead of calculating <cite>intervals</cite> every time, calculate it once and stash it
somewhere</p></li>
<li><p>Add the time unit to the ss_dur and check_interval variable names to reduce
possible confusion</p></li>
<li><p>Better documentation for output</p></li>
<li><p>Report read, write, trim IOPS/BW separately</p></li>
<li><p>Semantics for the ring buffer ss-&gt;head are confusing. ss-&gt;head points
to the beginning of the buffer up through the point where the buffer
is filled for the first time. afterwards, when a new element is added,
ss-&gt;head is advanced to point to the second element in the buffer. if
steady state is attained upon adding a new element, ss-&gt;head is not
advanced so it actually does point to the head of the buffer.</p></li>
</ul>
</section>
</section>
<section id="moral-license">
<h1><span class="section-number">4. </span>Moral License<a class="headerlink" href="#moral-license" title="Permalink to this heading">¶</a></h1>
<p>As specified by the COPYING file, fio is free software published under version
2 of the GPL license. That covers the copying part of the license. When using
fio, you are encouraged to uphold the following moral obligations:</p>
<ul class="simple">
<li><p>If you publish results that are done using fio, it should be clearly stated
that fio was used. The specific version should also be listed.</p></li>
<li><p>If you develop features or bug fixes for fio, they should be sent upstream
for inclusion into the main repository. This isn’t specific to fio, that
is a general rule for any open source project. It’s just the Right Thing
to do. Plus it means that you don’t have to maintain the feature or change
internally. In the long run, this is saving you a lot of time.</p></li>
</ul>
<p>I would consider the above to fall under “common courtesy”, but since
people tend to have differing opinions of that, it doesn’t hurt to spell out
my expectations clearly.</p>
</section>
<section id="license">
<h1><span class="section-number">5. </span>License<a class="headerlink" href="#license" title="Permalink to this heading">¶</a></h1>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                    GNU GENERAL PUBLIC LICENSE
                       Version 2, June 1991

 Copyright (C) 1989, 1991 Free Software Foundation, Inc.,
 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
 Everyone is permitted to copy and distribute verbatim copies
 of this license document, but changing it is not allowed.

                            Preamble

  The licenses for most software are designed to take away your
freedom to share and change it.  By contrast, the GNU General Public
License is intended to guarantee your freedom to share and change free
software--to make sure the software is free for all its users.  This
General Public License applies to most of the Free Software
Foundation&#39;s software and to any other program whose authors commit to
using it.  (Some other Free Software Foundation software is covered by
the GNU Lesser General Public License instead.)  You can apply it to
your programs, too.

  When we speak of free software, we are referring to freedom, not
price.  Our General Public Licenses are designed to make sure that you
have the freedom to distribute copies of free software (and charge for
this service if you wish), that you receive source code or can get it
if you want it, that you can change the software or use pieces of it
in new free programs; and that you know you can do these things.

  To protect your rights, we need to make restrictions that forbid
anyone to deny you these rights or to ask you to surrender the rights.
These restrictions translate to certain responsibilities for you if you
distribute copies of the software, or if you modify it.

  For example, if you distribute copies of such a program, whether
gratis or for a fee, you must give the recipients all the rights that
you have.  You must make sure that they, too, receive or can get the
source code.  And you must show them these terms so they know their
rights.

  We protect your rights with two steps: (1) copyright the software, and
(2) offer you this license which gives you legal permission to copy,
distribute and/or modify the software.

  Also, for each author&#39;s protection and ours, we want to make certain
that everyone understands that there is no warranty for this free
software.  If the software is modified by someone else and passed on, we
want its recipients to know that what they have is not the original, so
that any problems introduced by others will not reflect on the original
authors&#39; reputations.

  Finally, any free program is threatened constantly by software
patents.  We wish to avoid the danger that redistributors of a free
program will individually obtain patent licenses, in effect making the
program proprietary.  To prevent this, we have made it clear that any
patent must be licensed for everyone&#39;s free use or not licensed at all.

  The precise terms and conditions for copying, distribution and
modification follow.

                    GNU GENERAL PUBLIC LICENSE
   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION

  0. This License applies to any program or other work which contains
a notice placed by the copyright holder saying it may be distributed
under the terms of this General Public License.  The &quot;Program&quot;, below,
refers to any such program or work, and a &quot;work based on the Program&quot;
means either the Program or any derivative work under copyright law:
that is to say, a work containing the Program or a portion of it,
either verbatim or with modifications and/or translated into another
language.  (Hereinafter, translation is included without limitation in
the term &quot;modification&quot;.)  Each licensee is addressed as &quot;you&quot;.

Activities other than copying, distribution and modification are not
covered by this License; they are outside its scope.  The act of
running the Program is not restricted, and the output from the Program
is covered only if its contents constitute a work based on the
Program (independent of having been made by running the Program).
Whether that is true depends on what the Program does.

  1. You may copy and distribute verbatim copies of the Program&#39;s
source code as you receive it, in any medium, provided that you
conspicuously and appropriately publish on each copy an appropriate
copyright notice and disclaimer of warranty; keep intact all the
notices that refer to this License and to the absence of any warranty;
and give any other recipients of the Program a copy of this License
along with the Program.

You may charge a fee for the physical act of transferring a copy, and
you may at your option offer warranty protection in exchange for a fee.

  2. You may modify your copy or copies of the Program or any portion
of it, thus forming a work based on the Program, and copy and
distribute such modifications or work under the terms of Section 1
above, provided that you also meet all of these conditions:

    a) You must cause the modified files to carry prominent notices
    stating that you changed the files and the date of any change.

    b) You must cause any work that you distribute or publish, that in
    whole or in part contains or is derived from the Program or any
    part thereof, to be licensed as a whole at no charge to all third
    parties under the terms of this License.

    c) If the modified program normally reads commands interactively
    when run, you must cause it, when started running for such
    interactive use in the most ordinary way, to print or display an
    announcement including an appropriate copyright notice and a
    notice that there is no warranty (or else, saying that you provide
    a warranty) and that users may redistribute the program under
    these conditions, and telling the user how to view a copy of this
    License.  (Exception: if the Program itself is interactive but
    does not normally print such an announcement, your work based on
    the Program is not required to print an announcement.)

These requirements apply to the modified work as a whole.  If
identifiable sections of that work are not derived from the Program,
and can be reasonably considered independent and separate works in
themselves, then this License, and its terms, do not apply to those
sections when you distribute them as separate works.  But when you
distribute the same sections as part of a whole which is a work based
on the Program, the distribution of the whole must be on the terms of
this License, whose permissions for other licensees extend to the
entire whole, and thus to each and every part regardless of who wrote it.

Thus, it is not the intent of this section to claim rights or contest
your rights to work written entirely by you; rather, the intent is to
exercise the right to control the distribution of derivative or
collective works based on the Program.

In addition, mere aggregation of another work not based on the Program
with the Program (or with a work based on the Program) on a volume of
a storage or distribution medium does not bring the other work under
the scope of this License.

  3. You may copy and distribute the Program (or a work based on it,
under Section 2) in object code or executable form under the terms of
Sections 1 and 2 above provided that you also do one of the following:

    a) Accompany it with the complete corresponding machine-readable
    source code, which must be distributed under the terms of Sections
    1 and 2 above on a medium customarily used for software interchange; or,

    b) Accompany it with a written offer, valid for at least three
    years, to give any third party, for a charge no more than your
    cost of physically performing source distribution, a complete
    machine-readable copy of the corresponding source code, to be
    distributed under the terms of Sections 1 and 2 above on a medium
    customarily used for software interchange; or,

    c) Accompany it with the information you received as to the offer
    to distribute corresponding source code.  (This alternative is
    allowed only for noncommercial distribution and only if you
    received the program in object code or executable form with such
    an offer, in accord with Subsection b above.)

The source code for a work means the preferred form of the work for
making modifications to it.  For an executable work, complete source
code means all the source code for all modules it contains, plus any
associated interface definition files, plus the scripts used to
control compilation and installation of the executable.  However, as a
special exception, the source code distributed need not include
anything that is normally distributed (in either source or binary
form) with the major components (compiler, kernel, and so on) of the
operating system on which the executable runs, unless that component
itself accompanies the executable.

If distribution of executable or object code is made by offering
access to copy from a designated place, then offering equivalent
access to copy the source code from the same place counts as
distribution of the source code, even though third parties are not
compelled to copy the source along with the object code.

  4. You may not copy, modify, sublicense, or distribute the Program
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense or distribute the Program is
void, and will automatically terminate your rights under this License.
However, parties who have received copies, or rights, from you under
this License will not have their licenses terminated so long as such
parties remain in full compliance.

  5. You are not required to accept this License, since you have not
signed it.  However, nothing else grants you permission to modify or
distribute the Program or its derivative works.  These actions are
prohibited by law if you do not accept this License.  Therefore, by
modifying or distributing the Program (or any work based on the
Program), you indicate your acceptance of this License to do so, and
all its terms and conditions for copying, distributing or modifying
the Program or works based on it.

  6. Each time you redistribute the Program (or any work based on the
Program), the recipient automatically receives a license from the
original licensor to copy, distribute or modify the Program subject to
these terms and conditions.  You may not impose any further
restrictions on the recipients&#39; exercise of the rights granted herein.
You are not responsible for enforcing compliance by third parties to
this License.

  7. If, as a consequence of a court judgment or allegation of patent
infringement or for any other reason (not limited to patent issues),
conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot
distribute so as to satisfy simultaneously your obligations under this
License and any other pertinent obligations, then as a consequence you
may not distribute the Program at all.  For example, if a patent
license would not permit royalty-free redistribution of the Program by
all those who receive copies directly or indirectly through you, then
the only way you could satisfy both it and this License would be to
refrain entirely from distribution of the Program.

If any portion of this section is held invalid or unenforceable under
any particular circumstance, the balance of the section is intended to
apply and the section as a whole is intended to apply in other
circumstances.

It is not the purpose of this section to induce you to infringe any
patents or other property right claims or to contest validity of any
such claims; this section has the sole purpose of protecting the
integrity of the free software distribution system, which is
implemented by public license practices.  Many people have made
generous contributions to the wide range of software distributed
through that system in reliance on consistent application of that
system; it is up to the author/donor to decide if he or she is willing
to distribute software through any other system and a licensee cannot
impose that choice.

This section is intended to make thoroughly clear what is believed to
be a consequence of the rest of this License.

  8. If the distribution and/or use of the Program is restricted in
certain countries either by patents or by copyrighted interfaces, the
original copyright holder who places the Program under this License
may add an explicit geographical distribution limitation excluding
those countries, so that distribution is permitted only in or among
countries not thus excluded.  In such case, this License incorporates
the limitation as if written in the body of this License.

  9. The Free Software Foundation may publish revised and/or new versions
of the General Public License from time to time.  Such new versions will
be similar in spirit to the present version, but may differ in detail to
address new problems or concerns.

Each version is given a distinguishing version number.  If the Program
specifies a version number of this License which applies to it and &quot;any
later version&quot;, you have the option of following the terms and conditions
either of that version or of any later version published by the Free
Software Foundation.  If the Program does not specify a version number of
this License, you may choose any version ever published by the Free Software
Foundation.

  10. If you wish to incorporate parts of the Program into other free
programs whose distribution conditions are different, write to the author
to ask for permission.  For software which is copyrighted by the Free
Software Foundation, write to the Free Software Foundation; we sometimes
make exceptions for this.  Our decision will be guided by the two goals
of preserving the free status of all derivatives of our free software and
of promoting the sharing and reuse of software generally.

                            NO WARRANTY

  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
PROVIDE THE PROGRAM &quot;AS IS&quot; WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
REPAIR OR CORRECTION.

  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.

                     END OF TERMS AND CONDITIONS

            How to Apply These Terms to Your New Programs

  If you develop a new program, and you want it to be of the greatest
possible use to the public, the best way to achieve this is to make it
free software which everyone can redistribute and change under these terms.

  To do so, attach the following notices to the program.  It is safest
to attach them to the start of each source file to most effectively
convey the exclusion of warranty; and each file should have at least
the &quot;copyright&quot; line and a pointer to where the full notice is found.

    &lt;one line to give the program&#39;s name and a brief idea of what it does.&gt;
    Copyright (C) &lt;year&gt;  &lt;name of author&gt;

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License along
    with this program; if not, write to the Free Software Foundation, Inc.,
    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.

Also add information on how to contact you by electronic and paper mail.

If the program is interactive, make it output a short notice like this
when it starts in an interactive mode:

    Gnomovision version 69, Copyright (C) year name of author
    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w&#39;.
    This is free software, and you are welcome to redistribute it
    under certain conditions; type `show c&#39; for details.

The hypothetical commands `show w&#39; and `show c&#39; should show the appropriate
parts of the General Public License.  Of course, the commands you use may
be called something other than `show w&#39; and `show c&#39;; they could even be
mouse-clicks or menu items--whatever suits your program.

You should also get your employer (if you work as a programmer) or your
school, if any, to sign a &quot;copyright disclaimer&quot; for the program, if
necessary.  Here is a sample; alter the names:

  Yoyodyne, Inc., hereby disclaims all copyright interest in the program
  `Gnomovision&#39; (which makes passes at compilers) written by James Hacker.

  &lt;signature of Ty Coon&gt;, 1 April 1989
  Ty Coon, President of Vice

This General Public License does not permit incorporating your program into
proprietary programs.  If your program is a subroutine library, you may
consider it more useful to permit linking proprietary applications with the
library.  If this is what you want to do, use the GNU Lesser General
Public License instead of this License.
</pre></div>
</div>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">fio</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">1. fio - Flexible I/O tester rev. 3.36</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview-and-history">1.1. Overview and history</a></li>
<li class="toctree-l2"><a class="reference internal" href="#source">1.2. Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mailing-list">1.3. Mailing list</a></li>
<li class="toctree-l2"><a class="reference internal" href="#author">1.4. Author</a></li>
<li class="toctree-l2"><a class="reference internal" href="#maintainers">1.5. Maintainers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#binary-packages">1.6. Binary packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building">1.7. Building</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#windows">1.7.1. Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documentation">1.7.2. Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#platforms">1.8. Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-fio">1.9. Running fio</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-fio-works">1.10. How fio works</a></li>
<li class="toctree-l2"><a class="reference internal" href="#command-line-options">1.11. Command line options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#job-file-format">1.12. Job file format</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#environment-variables">1.12.1. Environment variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reserved-keywords">1.12.2. Reserved keywords</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#job-file-parameters">1.13. Job file parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parameter-types">1.13.1. Parameter types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#units">1.13.2. Units</a></li>
<li class="toctree-l3"><a class="reference internal" href="#job-description">1.13.3. Job description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#time-related-parameters">1.13.4. Time related parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#target-file-device">1.13.5. Target file/device</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i-o-type">1.13.6. I/O type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#block-size">1.13.7. Block size</a></li>
<li class="toctree-l3"><a class="reference internal" href="#buffers-and-memory">1.13.8. Buffers and memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i-o-size">1.13.9. I/O size</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i-o-engine">1.13.10. I/O engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i-o-engine-specific-parameters">1.13.11. I/O engine specific parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i-o-depth">1.13.12. I/O depth</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i-o-rate">1.13.13. I/O rate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i-o-latency">1.13.14. I/O latency</a></li>
<li class="toctree-l3"><a class="reference internal" href="#i-o-replay">1.13.15. I/O replay</a></li>
<li class="toctree-l3"><a class="reference internal" href="#threads-processes-and-job-synchronization">1.13.16. Threads, processes and job synchronization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#verification">1.13.17. Verification</a></li>
<li class="toctree-l3"><a class="reference internal" href="#steady-state">1.13.18. Steady state</a></li>
<li class="toctree-l3"><a class="reference internal" href="#measurements-and-reporting">1.13.19. Measurements and reporting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#error-handling">1.13.20. Error handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#running-predefined-workloads">1.14. Running predefined workloads</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#act-profile-options">1.14.1. Act profile options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tiobench-profile-options">1.14.2. Tiobench profile options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#interpreting-the-output">1.15. Interpreting the output</a></li>
<li class="toctree-l2"><a class="reference internal" href="#terse-output">1.16. Terse output</a></li>
<li class="toctree-l2"><a class="reference internal" href="#json-output">1.17. JSON output</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">1.18. JSON+ output</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trace-file-format">1.19. Trace file format</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#trace-file-format-v1">1.19.1. Trace file format v1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#trace-file-format-v2">1.19.2. Trace file format v2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#trace-file-format-v3">1.19.3. Trace file format v3</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#i-o-replay-merging-traces">1.20. I/O Replay - Merging Traces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cpu-idleness-profiling">1.21. CPU idleness profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#verification-and-triggers">1.22. Verification and triggers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#verification-trigger-example">1.22.1. Verification trigger example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#loading-verify-state">1.22.2. Loading verify state</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#log-file-formats">1.23. Log File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-server">1.24. Client/Server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#examples">2. Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#poisson-request-flow">2.1. Poisson request flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#latency-profile">2.2. Latency profile</a></li>
<li class="toctree-l2"><a class="reference internal" href="#read-4-files-with-aio-at-different-depths">2.3. Read 4 files with aio at different depths</a></li>
<li class="toctree-l2"><a class="reference internal" href="#read-backwards-in-a-file">2.4. Read backwards in a file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#basic-verification">2.5. Basic verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fixed-rate-submission">2.6. Fixed rate submission</a></li>
<li class="toctree-l2"><a class="reference internal" href="#butterfly-seek-pattern">2.7. Butterfly seek pattern</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#todo">3. TODO</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#gfio-todo">3.1. GFIO TODO</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-todo">3.2. Server TODO</a></li>
<li class="toctree-l2"><a class="reference internal" href="#steady-state-todo">3.3. Steady State TODO</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#moral-license">4. Moral License</a></li>
<li class="toctree-l1"><a class="reference internal" href="#license">5. License</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to FIO’s documentation!</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Jens Axboe <axboe@kernel.dk>.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/fio_doc.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>